function uS(i,n){for(var a=0;a<n.length;a++){const r=n[a];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function cS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function hS(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var a=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(a,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),a}var fh={exports:{}},Wr={};var Gp;function fS(){if(Gp)return Wr;Gp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Wr.Fragment=n,Wr.jsx=a,Wr.jsxs=a,Wr}var Yp;function dS(){return Yp||(Yp=1,fh.exports=fS()),fh.exports}var X=dS(),dh={exports:{}},ue={};var Vp;function mS(){if(Vp)return ue;Vp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function $(O,q,V){this.props=O,this.context=q,this.refs=M,this.updater=V||A}$.prototype.isReactComponent={},$.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=$.prototype;function H(O,q,V){this.props=O,this.context=q,this.refs=M,this.updater=V||A}var P=H.prototype=new U;P.constructor=H,C(P,$.prototype),P.isPureReactComponent=!0;var oe=Array.isArray;function F(){}var G={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function ge(O,q,V){var J=V.ref;return{$$typeof:i,type:O,key:q,ref:J!==void 0?J:null,props:V}}function ke(O,q){return ge(O.type,q,O.props)}function Ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function lt(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(V){return q[V]})}var rn=/\/+/g;function ln(O,q){return typeof O=="object"&&O!==null&&O.key!=null?lt(""+O.key):q.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(F,F):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,q,V,J,ce){var pe=typeof O;(pe==="undefined"||pe==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case i:case n:Te=!0;break;case v:return Te=O._init,z(Te(O._payload),q,V,J,ce)}}if(Te)return ce=ce(O),Te=J===""?"."+ln(O,0):J,oe(ce)?(V="",Te!=null&&(V=Te.replace(rn,"$&/")+"/"),z(ce,q,V,"",function(sr){return sr})):ce!=null&&(Ae(ce)&&(ce=ke(ce,V+(ce.key==null||O&&O.key===ce.key?"":(""+ce.key).replace(rn,"$&/")+"/")+Te)),q.push(ce)),1;Te=0;var bt=J===""?".":J+":";if(oe(O))for(var Ge=0;Ge<O.length;Ge++)J=O[Ge],pe=bt+ln(J,Ge),Te+=z(J,q,V,pe,ce);else if(Ge=b(O),typeof Ge=="function")for(O=Ge.call(O),Ge=0;!(J=O.next()).done;)J=J.value,pe=bt+ln(J,Ge++),Te+=z(J,q,V,pe,ce);else if(pe==="object"){if(typeof O.then=="function")return z(Et(O),q,V,J,ce);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(O,q,V){if(O==null)return O;var J=[],ce=0;return z(O,J,"","",function(pe){return q.call(V,pe,ce++)}),J}function re(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(V){(O._status===0||O._status===-1)&&(O._status=1,O._result=V)},function(V){(O._status===0||O._status===-1)&&(O._status=2,O._result=V)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ue={map:Y,forEach:function(O,q,V){Y(O,function(){q.apply(this,arguments)},V)},count:function(O){var q=0;return Y(O,function(){q++}),q},toArray:function(O){return Y(O,function(q){return q})||[]},only:function(O){if(!Ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ue.Activity=_,ue.Children=Ue,ue.Component=$,ue.Fragment=a,ue.Profiler=o,ue.PureComponent=H,ue.StrictMode=r,ue.Suspense=m,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ue.__COMPILER_RUNTIME={__proto__:null,c:function(O){return G.H.useMemoCache(O)}},ue.cache=function(O){return function(){return O.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(O,q,V){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=C({},O.props),ce=O.key;if(q!=null)for(pe in q.key!==void 0&&(ce=""+q.key),q)!fe.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(J[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)J.children=V;else if(1<pe){for(var Te=Array(pe),bt=0;bt<pe;bt++)Te[bt]=arguments[bt+2];J.children=Te}return ge(O.type,ce,J)},ue.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},ue.createElement=function(O,q,V){var J,ce={},pe=null;if(q!=null)for(J in q.key!==void 0&&(pe=""+q.key),q)fe.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=q[J]);var Te=arguments.length-2;if(Te===1)ce.children=V;else if(1<Te){for(var bt=Array(Te),Ge=0;Ge<Te;Ge++)bt[Ge]=arguments[Ge+2];ce.children=bt}if(O&&O.defaultProps)for(J in Te=O.defaultProps,Te)ce[J]===void 0&&(ce[J]=Te[J]);return ge(O,pe,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(O){return{$$typeof:d,render:O}},ue.isValidElement=Ae,ue.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:re}},ue.memo=function(O,q){return{$$typeof:p,type:O,compare:q===void 0?null:q}},ue.startTransition=function(O){var q=G.T,V={};G.T=V;try{var J=O(),ce=G.S;ce!==null&&ce(V,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(F,je)}catch(pe){je(pe)}finally{q!==null&&V.types!==null&&(q.types=V.types),G.T=q}},ue.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ue.use=function(O){return G.H.use(O)},ue.useActionState=function(O,q,V){return G.H.useActionState(O,q,V)},ue.useCallback=function(O,q){return G.H.useCallback(O,q)},ue.useContext=function(O){return G.H.useContext(O)},ue.useDebugValue=function(){},ue.useDeferredValue=function(O,q){return G.H.useDeferredValue(O,q)},ue.useEffect=function(O,q){return G.H.useEffect(O,q)},ue.useEffectEvent=function(O){return G.H.useEffectEvent(O)},ue.useId=function(){return G.H.useId()},ue.useImperativeHandle=function(O,q,V){return G.H.useImperativeHandle(O,q,V)},ue.useInsertionEffect=function(O,q){return G.H.useInsertionEffect(O,q)},ue.useLayoutEffect=function(O,q){return G.H.useLayoutEffect(O,q)},ue.useMemo=function(O,q){return G.H.useMemo(O,q)},ue.useOptimistic=function(O,q){return G.H.useOptimistic(O,q)},ue.useReducer=function(O,q,V){return G.H.useReducer(O,q,V)},ue.useRef=function(O){return G.H.useRef(O)},ue.useState=function(O){return G.H.useState(O)},ue.useSyncExternalStore=function(O,q,V){return G.H.useSyncExternalStore(O,q,V)},ue.useTransition=function(){return G.H.useTransition()},ue.version="19.2.0",ue}var Xp;function cf(){return Xp||(Xp=1,dh.exports=mS()),dh.exports}var vt=cf(),mh={exports:{}},Zr={},gh={exports:{}},ph={};var Kp;function gS(){return Kp||(Kp=1,(function(i){function n(z,Y){var re=z.length;z.push(Y);e:for(;0<re;){var je=re-1>>>1,Ue=z[je];if(0<o(Ue,Y))z[je]=Y,z[re]=Ue,re=je;else break e}}function a(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],re=z.pop();if(re!==Y){z[0]=re;e:for(var je=0,Ue=z.length,O=Ue>>>1;je<O;){var q=2*(je+1)-1,V=z[q],J=q+1,ce=z[J];if(0>o(V,re))J<Ue&&0>o(ce,V)?(z[je]=ce,z[J]=re,je=J):(z[je]=V,z[q]=re,je=q);else if(J<Ue&&0>o(ce,re))z[je]=ce,z[J]=re,je=J;else break e}}return Y}function o(z,Y){var re=z.sortIndex-Y.sortIndex;return re!==0?re:z.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var m=[],p=[],v=1,_=null,w=3,b=!1,A=!1,C=!1,M=!1,$=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var Y=a(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=z)r(p),Y.sortIndex=Y.expirationTime,n(m,Y);else break;Y=a(p)}}function oe(z){if(C=!1,P(z),!A)if(a(m)!==null)A=!0,F||(F=!0,lt());else{var Y=a(p);Y!==null&&Et(oe,Y.startTime-z)}}var F=!1,G=-1,fe=5,ge=-1;function ke(){return M?!0:!(i.unstable_now()-ge<fe)}function Ae(){if(M=!1,F){var z=i.unstable_now();ge=z;var Y=!0;try{e:{A=!1,C&&(C=!1,U(G),G=-1),b=!0;var re=w;try{t:{for(P(z),_=a(m);_!==null&&!(_.expirationTime>z&&ke());){var je=_.callback;if(typeof je=="function"){_.callback=null,w=_.priorityLevel;var Ue=je(_.expirationTime<=z);if(z=i.unstable_now(),typeof Ue=="function"){_.callback=Ue,P(z),Y=!0;break t}_===a(m)&&r(m),P(z)}else r(m);_=a(m)}if(_!==null)Y=!0;else{var O=a(p);O!==null&&Et(oe,O.startTime-z),Y=!1}}break e}finally{_=null,w=re,b=!1}Y=void 0}}finally{Y?lt():F=!1}}}var lt;if(typeof H=="function")lt=function(){H(Ae)};else if(typeof MessageChannel<"u"){var rn=new MessageChannel,ln=rn.port2;rn.port1.onmessage=Ae,lt=function(){ln.postMessage(null)}}else lt=function(){$(Ae,0)};function Et(z,Y){G=$(function(){z(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(z){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var re=w;w=Y;try{return z()}finally{w=re}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=w;w=z;try{return Y()}finally{w=re}},i.unstable_scheduleCallback=function(z,Y,re){var je=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?je+re:je):re=je,z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=re+Ue,z={id:v++,callback:Y,priorityLevel:z,startTime:re,expirationTime:Ue,sortIndex:-1},re>je?(z.sortIndex=re,n(p,z),a(m)===null&&z===a(p)&&(C?(U(G),G=-1):C=!0,Et(oe,re-je))):(z.sortIndex=Ue,n(m,z),A||b||(A=!0,F||(F=!0,lt()))),z},i.unstable_shouldYield=ke,i.unstable_wrapCallback=function(z){var Y=w;return function(){var re=w;w=Y;try{return z.apply(this,arguments)}finally{w=re}}}})(ph)),ph}var Qp;function pS(){return Qp||(Qp=1,gh.exports=gS()),gh.exports}var yh={exports:{}},yt={};var Jp;function yS(){if(Jp)return yt;Jp=1;var i=cf();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(m,p,null,v)},yt.flushSync=function(m){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=p,r.p=v,r.d.f()}},yt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},yt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},yt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:b}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},yt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},yt.requestFormReset=function(m){r.d.r(m)},yt.unstable_batchedUpdates=function(m,p){return m(p)},yt.useFormState=function(m,p,v){return f.H.useFormState(m,p,v)},yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},yt.version="19.2.0",yt}var Wp;function _S(){if(Wp)return yh.exports;Wp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),yh.exports=yS(),yh.exports}var Zp;function vS(){if(Zp)return Zr;Zp=1;var i=pS(),n=cf(),a=_S();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,l=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return m(c),e;if(h===l)return m(c),t;h=h.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=h;else{for(var g=!1,y=c.child;y;){if(y===s){g=!0,s=c,l=h;break}if(y===l){g=!0,l=c,s=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===s){g=!0,s=h,l=c;break}if(y===l){g=!0,l=h,s=c;break}y=y.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),H=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function lt(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Symbol.for("react.client.reference");function ln(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case $:return"Profiler";case M:return"StrictMode";case oe:return"Suspense";case F:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case H:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:ln(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return ln(e(t))}catch{}}return null}var Et=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},je=[],Ue=-1;function O(e){return{current:e}}function q(e){0>Ue||(e.current=je[Ue],je[Ue]=null,Ue--)}function V(e,t){Ue++,je[Ue]=e.current,e.current=t}var J=O(null),ce=O(null),pe=O(null),Te=O(null);function bt(e,t){switch(V(pe,t),V(ce,e),V(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dp(t),e=mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(J),V(J,e)}function Ge(){q(J),q(ce),q(pe)}function sr(e){e.memoizedState!==null&&V(Te,e);var t=J.current,s=mp(t,e.type);t!==s&&(V(ce,e),V(J,s))}function Ri(e){ce.current===e&&(q(J),q(ce)),Te.current===e&&(q(Te),Xr._currentValue=re)}var Ko,Pf;function wa(e){if(Ko===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ko=t&&t[1]||"",Pf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ko+e+Pf}var Qo=!1;function Jo(e,t){if(!e||Qo)return"";Qo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(N){var D=N}Reflect.construct(e,[],L)}else{try{L.call()}catch(N){D=N}e.call(L.prototype)}}else{try{throw Error()}catch(N){D=N}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(N){if(N&&D&&typeof N.stack=="string")return[N.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var S=g.split(`
`),x=y.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===x.length)for(l=S.length-1,c=x.length-1;1<=l&&0<=c&&S[l]!==x[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==x[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==x[c]){var k=`
`+S[l].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=l&&0<=c);break}}}finally{Qo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?wa(s):""}function qv(e,t){switch(e.tag){case 26:case 27:case 5:return wa(e.type);case 16:return wa("Lazy");case 13:return e.child!==t&&t!==null?wa("Suspense Fallback"):wa("Suspense");case 19:return wa("SuspenseList");case 0:case 15:return Jo(e.type,!1);case 11:return Jo(e.type.render,!1);case 1:return Jo(e.type,!0);case 31:return wa("Activity");default:return""}}function Gf(e){try{var t="",s=null;do t+=qv(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Wo=Object.prototype.hasOwnProperty,Zo=i.unstable_scheduleCallback,Fo=i.unstable_cancelCallback,Hv=i.unstable_shouldYield,Iv=i.unstable_requestPaint,Nt=i.unstable_now,Pv=i.unstable_getCurrentPriorityLevel,Yf=i.unstable_ImmediatePriority,Vf=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,Gv=i.unstable_LowPriority,Xf=i.unstable_IdlePriority,Yv=i.log,Vv=i.unstable_setDisableYieldValue,rr=null,Mt=null;function Gn(e){if(typeof Yv=="function"&&Vv(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(rr,e)}catch{}}var kt=Math.clz32?Math.clz32:Qv,Xv=Math.log,Kv=Math.LN2;function Qv(e){return e>>>=0,e===0?32:31-(Xv(e)/Kv|0)|0}var Ci=256,ji=262144,Di=4194304;function Sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ni(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?c=Sa(l):(g&=y,g!==0?c=Sa(g):s||(s=y&~e,s!==0&&(c=Sa(s))))):(y=l&~h,y!==0?c=Sa(y):g!==0?c=Sa(g):s||(s=l&~e,s!==0&&(c=Sa(s)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,s=t&-t,h>=s||h===32&&(s&4194048)!==0)?t:c}function ir(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kf(){var e=Di;return Di<<=1,(Di&62914560)===0&&(Di=4194304),e}function eu(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function lr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wv(e,t,s,l,c,h){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,x=e.hiddenUpdates;for(s=g&~s;0<s;){var k=31-kt(s),L=1<<k;y[k]=0,S[k]=-1;var D=x[k];if(D!==null)for(x[k]=null,k=0;k<D.length;k++){var N=D[k];N!==null&&(N.lane&=-536870913)}s&=~L}l!==0&&Qf(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~t))}function Qf(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-kt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Jf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-kt(s),c=1<<l;c&t|e[l]&t&&(e[l]|=t),s&=~c}}function Wf(e,t){var s=t&-t;return s=(s&42)!==0?1:tu(s),(s&(e.suspendedLanes|t))!==0?0:s}function tu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zf(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function Ff(e,t){var s=Y.p;try{return Y.p=e,t()}finally{Y.p=s}}var Yn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Yn,Ot="__reactProps$"+Yn,Fa="__reactContainer$"+Yn,au="__reactEvents$"+Yn,Zv="__reactListeners$"+Yn,Fv="__reactHandles$"+Yn,ed="__reactResources$"+Yn,or="__reactMarker$"+Yn;function su(e){delete e[ot],delete e[Ot],delete e[au],delete e[Zv],delete e[Fv]}function es(e){var t=e[ot];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Fa]||s[ot]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=wp(e);e!==null;){if(s=e[ot])return s;e=wp(e)}return t}e=s,s=e.parentNode}return null}function ts(e){if(e=e[ot]||e[Fa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ur(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ns(e){var t=e[ed];return t||(t=e[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[or]=!0}var td=new Set,nd={};function Ea(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(nd[e]=t,e=0;e<t.length;e++)td.add(t[e])}var eb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},sd={};function tb(e){return Wo.call(sd,e)?!0:Wo.call(ad,e)?!1:eb.test(e)?sd[e]=!0:(ad[e]=!0,!1)}function Mi(e,t,s){if(tb(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function ki(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Sn(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nb(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ru(e){if(!e._valueTracker){var t=rd(e)?"checked":"value";e._valueTracker=nb(e,t,""+e[t])}}function id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=rd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ab=/[\n"\\]/g;function Kt(e){return e.replace(ab,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function iu(e,t,s,l,c,h,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?lu(e,g,Xt(t)):s!=null?lu(e,g,Xt(s)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Xt(y):e.removeAttribute("name")}function ld(e,t,s,l,c,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){ru(e);return}s=s!=null?""+Xt(s):"",t=t!=null?""+Xt(t):s,y||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ru(e)}function lu(e,t,s){t==="number"&&Ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ss(e,t,s,l){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Xt(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function od(e,t,s){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Xt(s):""}function ud(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(r(92));if(Et(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Xt(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),ru(e)}function rs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||sb.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function hd(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&s[c]!==l&&cd(e,c,l)}else for(var h in t)t.hasOwnProperty(h)&&cd(e,h,t[h])}function ou(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(e){return ib.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var uu=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,ls=null;function fd(e){var t=ts(e);if(t&&(e=t.stateNode)){var s=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(iu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var c=l[Ot]||null;if(!c)throw Error(r(90));iu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&id(l)}break e;case"textarea":od(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&ss(e,!!s.multiple,t,!1)}}}var hu=!1;function dd(e,t,s){if(hu)return e(t,s);hu=!0;try{var l=e(t);return l}finally{if(hu=!1,(is!==null||ls!==null)&&(El(),is&&(t=is,e=ls,ls=is=null,fd(t),e)))for(t=0;t<e.length;t++)fd(e[t])}}function cr(e,t){var s=e.stateNode;if(s===null)return null;var l=s[Ot]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(On)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){fu=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{fu=!1}var Vn=null,du=null,Bi=null;function md(){if(Bi)return Bi;var e,t=du,s=t.length,l,c="value"in Vn?Vn.value:Vn.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&t[s-l]===c[h-l];l++);return Bi=c.slice(e,1<l?1-l:void 0)}function Li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function gd(){return!1}function At(e){function t(s,l,c,h,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?$i:gd,this.isPropagationStopped=gd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=At(Oa),fr=_({},Oa,{view:0,detail:0}),lb=At(fr),mu,gu,dr,Hi=_({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(mu=e.screenX-dr.screenX,gu=e.screenY-dr.screenY):gu=mu=0,dr=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),pd=At(Hi),ob=_({},Hi,{dataTransfer:0}),ub=At(ob),cb=_({},fr,{relatedTarget:0}),pu=At(cb),hb=_({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=At(hb),db=_({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mb=At(db),gb=_({},Oa,{data:0}),yd=At(gb),pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_b[e])?!!t[e]:!1}function yu(){return vb}var bb=_({},fr,{key:function(e){if(e.key){var t=pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wb=At(bb),Sb=_({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=At(Sb),Eb=_({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Ob=At(Eb),Ab=_({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=At(Ab),Rb=_({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xb=At(Rb),Cb=_({},Oa,{newState:0,oldState:0}),jb=At(Cb),Db=[9,13,27,32],_u=On&&"CompositionEvent"in window,mr=null;On&&"documentMode"in document&&(mr=document.documentMode);var Nb=On&&"TextEvent"in window&&!mr,vd=On&&(!_u||mr&&8<mr&&11>=mr),bd=" ",wd=!1;function Sd(e,t){switch(e){case"keyup":return Db.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function Mb(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(wd=!0,bd);case"textInput":return e=t.data,e===bd&&wd?null:e;default:return null}}function kb(e,t){if(os)return e==="compositionend"||!_u&&Sd(e,t)?(e=md(),Bi=du=Vn=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var Ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ub[e.type]:t==="textarea"}function Ad(e,t,s,l){is?ls?ls.push(l):ls=[l]:is=l,t=jl(t,"onChange"),0<t.length&&(s=new qi("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var gr=null,pr=null;function zb(e){lp(e,0)}function Ii(e){var t=ur(e);if(id(t))return e}function Td(e,t){if(e==="change")return t}var Rd=!1;if(On){var vu;if(On){var bu="oninput"in document;if(!bu){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),bu=typeof xd.oninput=="function"}vu=bu}else vu=!1;Rd=vu&&(!document.documentMode||9<document.documentMode)}function Cd(){gr&&(gr.detachEvent("onpropertychange",jd),pr=gr=null)}function jd(e){if(e.propertyName==="value"&&Ii(pr)){var t=[];Ad(t,pr,e,cu(e)),dd(zb,t)}}function Bb(e,t,s){e==="focusin"?(Cd(),gr=t,pr=s,gr.attachEvent("onpropertychange",jd)):e==="focusout"&&Cd()}function Lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(pr)}function $b(e,t){if(e==="click")return Ii(t)}function qb(e,t){if(e==="input"||e==="change")return Ii(t)}function Hb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Hb;function yr(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Wo.call(t,c)||!Ut(e[c],t[c]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,t){var s=Dd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Dd(s)}}function Md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ui(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ui(e.document)}return t}function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ib=On&&"documentMode"in document&&11>=document.documentMode,us=null,Su=null,_r=null,Eu=!1;function Ud(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Eu||us==null||us!==Ui(l)||(l=us,"selectionStart"in l&&wu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_r&&yr(_r,l)||(_r=l,l=jl(Su,"onSelect"),0<l.length&&(t=new qi("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=us)))}function Aa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var cs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Ou={},zd={};On&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Ta(e){if(Ou[e])return Ou[e];if(!cs[e])return e;var t=cs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in zd)return Ou[e]=t[s];return e}var Bd=Ta("animationend"),Ld=Ta("animationiteration"),$d=Ta("animationstart"),Pb=Ta("transitionrun"),Gb=Ta("transitionstart"),Yb=Ta("transitioncancel"),qd=Ta("transitionend"),Hd=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function on(e,t){Hd.set(e,t),Ea(t,[e])}var Pi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],hs=0,Tu=0;function Gi(){for(var e=hs,t=Tu=hs=0;t<e;){var s=Qt[t];Qt[t++]=null;var l=Qt[t];Qt[t++]=null;var c=Qt[t];Qt[t++]=null;var h=Qt[t];if(Qt[t++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Id(s,c,h)}}function Yi(e,t,s,l){Qt[hs++]=e,Qt[hs++]=t,Qt[hs++]=s,Qt[hs++]=l,Tu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ru(e,t,s,l){return Yi(e,t,s,l),Vi(e)}function Ra(e,t){return Yi(e,null,null,t),Vi(e)}function Id(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,h=e.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-kt(s),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=s|536870912),h):null}function Vi(e){if(50<qr)throw qr=0,zc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fs={};function Vb(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,s,l){return new Vb(e,t,s,l)}function xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var s=e.alternate;return s===null?(s=zt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Pd(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xi(e,t,s,l,c,h){var g=0;if(l=e,typeof e=="function")xu(e)&&(g=1);else if(typeof e=="string")g=Ww(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=zt(31,s,t,c),e.elementType=ge,e.lanes=h,e;case C:return xa(s.children,c,h,t);case M:g=8,c|=24;break;case $:return e=zt(12,s,t,c|2),e.elementType=$,e.lanes=h,e;case oe:return e=zt(13,s,t,c),e.elementType=oe,e.lanes=h,e;case F:return e=zt(19,s,t,c),e.elementType=F,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:g=10;break e;case U:g=9;break e;case P:g=11;break e;case G:g=14;break e;case fe:g=16,l=null;break e}g=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=zt(g,s,t,c),t.elementType=e,t.type=l,t.lanes=h,t}function xa(e,t,s,l){return e=zt(7,e,l,t),e.lanes=s,e}function Cu(e,t,s){return e=zt(6,e,null,t),e.lanes=s,e}function Gd(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function ju(e,t,s){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yd=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var s=Yd.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Gf(t)},Yd.set(e,t),t)}return{value:e,source:t,stack:Gf(t)}}var ds=[],ms=0,Ki=null,vr=0,Wt=[],Zt=0,Xn=null,gn=1,pn="";function Tn(e,t){ds[ms++]=vr,ds[ms++]=Ki,Ki=e,vr=t}function Vd(e,t,s){Wt[Zt++]=gn,Wt[Zt++]=pn,Wt[Zt++]=Xn,Xn=e;var l=gn;e=pn;var c=32-kt(l)-1;l&=~(1<<c),s+=1;var h=32-kt(t)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gn=1<<32-kt(t)+c|s<<c|l,pn=h+e}else gn=1<<h|s<<c|l,pn=e}function Du(e){e.return!==null&&(Tn(e,1),Vd(e,1,0))}function Nu(e){for(;e===Ki;)Ki=ds[--ms],ds[ms]=null,vr=ds[--ms],ds[ms]=null;for(;e===Xn;)Xn=Wt[--Zt],Wt[Zt]=null,pn=Wt[--Zt],Wt[Zt]=null,gn=Wt[--Zt],Wt[Zt]=null}function Xd(e,t){Wt[Zt++]=gn,Wt[Zt++]=pn,Wt[Zt++]=Xn,gn=t.id,pn=t.overflow,Xn=e}var ut=null,Le=null,we=!1,Kn=null,Ft=!1,Mu=Error(r(519));function Qn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw br(Jt(t,e)),Mu}function Kd(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[ot]=e,t[Ot]=l,s){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(s=0;s<Ir.length;s++)_e(Ir[s],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),ld(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),ud(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||hp(t.textContent,s)?(l.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),l.onScroll!=null&&_e("scroll",t),l.onScrollEnd!=null&&_e("scrollend",t),l.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||Qn(e,!0)}function Qd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:ut=ut.return}}function gs(e){if(e!==ut)return!1;if(!we)return Qd(e),we=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Wc(e.type,e.memoizedProps)),s=!s),s&&Le&&Qn(e),Qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=bp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=bp(e)}else t===27?(t=Le,ua(e.type)?(e=nh,nh=null,Le=e):Le=t):Le=ut?tn(e.stateNode.nextSibling):null;return!0}function Ca(){Le=ut=null,we=!1}function ku(){var e=Kn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Kn=null),e}function br(e){Kn===null?Kn=[e]:Kn.push(e)}var Uu=O(null),ja=null,Rn=null;function Jn(e,t,s){V(Uu,t._currentValue),t._currentValue=s}function xn(e){e._currentValue=Uu.current,q(Uu)}function zu(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function Bu(e,t,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var S=0;S<t.length;S++)if(y.context===t[S]){h.lanes|=s,y=h.alternate,y!==null&&(y.lanes|=s),zu(h.return,s,e),l||(g=null);break e}h=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,h=g.alternate,h!==null&&(h.lanes|=s),zu(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ps(e,t,s,l){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=c.type;Ut(c.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(c===Te.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Xr):e=[Xr])}c=c.return}e!==null&&Bu(t,e,s,l),t.flags|=262144}function Qi(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){ja=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Jd(ja,e)}function Ji(e,t){return ja===null&&Da(e),Jd(e,t)}function Jd(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Rn===null){if(e===null)throw Error(r(308));Rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Rn=Rn.next=t;return s}var Xb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Kb=i.unstable_scheduleCallback,Qb=i.unstable_NormalPriority,Xe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new Xb,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&Kb(Qb,function(){e.controller.abort()})}var Sr=null,$u=0,ys=0,_s=null;function Jb(e,t){if(Sr===null){var s=Sr=[];$u=0,ys=Ic(),_s={status:"pending",value:void 0,then:function(l){s.push(l)}}}return $u++,t.then(Wd,Wd),t}function Wd(){if(--$u===0&&Sr!==null){_s!==null&&(_s.status="fulfilled");var e=Sr;Sr=null,ys=0,_s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wb(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Zd=z.S;z.S=function(e,t){Ug=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jb(e,t),Zd!==null&&Zd(e,t)};var Na=O(null);function qu(){var e=Na.current;return e!==null?e:ze.pooledCache}function Wi(e,t){t===null?V(Na,Na.current):V(Na,t.pool)}function Fd(){var e=qu();return e===null?null:{parent:Xe._currentValue,pool:e}}var vs=Error(r(460)),Hu=Error(r(474)),Zi=Error(r(542)),Fi={then:function(){}};function em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tm(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(En,En),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,am(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,am(e),e}throw ka=t,vs}}function Ma(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ka=s,vs):s}}var ka=null;function nm(){if(ka===null)throw Error(r(459));var e=ka;return ka=null,e}function am(e){if(e===vs||e===Zi)throw Error(r(483))}var bs=null,Er=0;function el(e){var t=Er;return Er+=1,bs===null&&(bs=[]),tm(bs,e,t)}function Or(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tl(e,t){throw t.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sm(e){function t(T,E){if(e){var R=T.deletions;R===null?(T.deletions=[E],T.flags|=16):R.push(E)}}function s(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function l(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function c(T,E){return T=An(T,E),T.index=0,T.sibling=null,T}function h(T,E,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<E?(T.flags|=67108866,E):R):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function g(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,E,R,B){return E===null||E.tag!==6?(E=Cu(R,T.mode,B),E.return=T,E):(E=c(E,R),E.return=T,E)}function S(T,E,R,B){var ne=R.type;return ne===C?k(T,E,R.props.children,B,R.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&Ma(ne)===E.type)?(E=c(E,R.props),Or(E,R),E.return=T,E):(E=Xi(R.type,R.key,R.props,null,T.mode,B),Or(E,R),E.return=T,E)}function x(T,E,R,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=ju(R,T.mode,B),E.return=T,E):(E=c(E,R.children||[]),E.return=T,E)}function k(T,E,R,B,ne){return E===null||E.tag!==7?(E=xa(R,T.mode,B,ne),E.return=T,E):(E=c(E,R),E.return=T,E)}function L(T,E,R){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Cu(""+E,T.mode,R),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return R=Xi(E.type,E.key,E.props,null,T.mode,R),Or(R,E),R.return=T,R;case A:return E=ju(E,T.mode,R),E.return=T,E;case fe:return E=Ma(E),L(T,E,R)}if(Et(E)||lt(E))return E=xa(E,T.mode,R,null),E.return=T,E;if(typeof E.then=="function")return L(T,el(E),R);if(E.$$typeof===H)return L(T,Ji(T,E),R);tl(T,E)}return null}function D(T,E,R,B){var ne=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ne!==null?null:y(T,E,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return R.key===ne?S(T,E,R,B):null;case A:return R.key===ne?x(T,E,R,B):null;case fe:return R=Ma(R),D(T,E,R,B)}if(Et(R)||lt(R))return ne!==null?null:k(T,E,R,B,null);if(typeof R.then=="function")return D(T,E,el(R),B);if(R.$$typeof===H)return D(T,E,Ji(T,R),B);tl(T,R)}return null}function N(T,E,R,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(R)||null,y(E,T,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return T=T.get(B.key===null?R:B.key)||null,S(E,T,B,ne);case A:return T=T.get(B.key===null?R:B.key)||null,x(E,T,B,ne);case fe:return B=Ma(B),N(T,E,R,B,ne)}if(Et(B)||lt(B))return T=T.get(R)||null,k(E,T,B,ne,null);if(typeof B.then=="function")return N(T,E,R,el(B),ne);if(B.$$typeof===H)return N(T,E,R,Ji(E,B),ne);tl(E,B)}return null}function K(T,E,R,B){for(var ne=null,Se=null,W=E,de=E=0,be=null;W!==null&&de<R.length;de++){W.index>de?(be=W,W=null):be=W.sibling;var Ee=D(T,W,R[de],B);if(Ee===null){W===null&&(W=be);break}e&&W&&Ee.alternate===null&&t(T,W),E=h(Ee,E,de),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee,W=be}if(de===R.length)return s(T,W),we&&Tn(T,de),ne;if(W===null){for(;de<R.length;de++)W=L(T,R[de],B),W!==null&&(E=h(W,E,de),Se===null?ne=W:Se.sibling=W,Se=W);return we&&Tn(T,de),ne}for(W=l(W);de<R.length;de++)be=N(W,T,de,R[de],B),be!==null&&(e&&be.alternate!==null&&W.delete(be.key===null?de:be.key),E=h(be,E,de),Se===null?ne=be:Se.sibling=be,Se=be);return e&&W.forEach(function(ma){return t(T,ma)}),we&&Tn(T,de),ne}function se(T,E,R,B){if(R==null)throw Error(r(151));for(var ne=null,Se=null,W=E,de=E=0,be=null,Ee=R.next();W!==null&&!Ee.done;de++,Ee=R.next()){W.index>de?(be=W,W=null):be=W.sibling;var ma=D(T,W,Ee.value,B);if(ma===null){W===null&&(W=be);break}e&&W&&ma.alternate===null&&t(T,W),E=h(ma,E,de),Se===null?ne=ma:Se.sibling=ma,Se=ma,W=be}if(Ee.done)return s(T,W),we&&Tn(T,de),ne;if(W===null){for(;!Ee.done;de++,Ee=R.next())Ee=L(T,Ee.value,B),Ee!==null&&(E=h(Ee,E,de),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee);return we&&Tn(T,de),ne}for(W=l(W);!Ee.done;de++,Ee=R.next())Ee=N(W,T,de,Ee.value,B),Ee!==null&&(e&&Ee.alternate!==null&&W.delete(Ee.key===null?de:Ee.key),E=h(Ee,E,de),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee);return e&&W.forEach(function(oS){return t(T,oS)}),we&&Tn(T,de),ne}function Me(T,E,R,B){if(typeof R=="object"&&R!==null&&R.type===C&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case b:e:{for(var ne=R.key;E!==null;){if(E.key===ne){if(ne=R.type,ne===C){if(E.tag===7){s(T,E.sibling),B=c(E,R.props.children),B.return=T,T=B;break e}}else if(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&Ma(ne)===E.type){s(T,E.sibling),B=c(E,R.props),Or(B,R),B.return=T,T=B;break e}s(T,E);break}else t(T,E);E=E.sibling}R.type===C?(B=xa(R.props.children,T.mode,B,R.key),B.return=T,T=B):(B=Xi(R.type,R.key,R.props,null,T.mode,B),Or(B,R),B.return=T,T=B)}return g(T);case A:e:{for(ne=R.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){s(T,E.sibling),B=c(E,R.children||[]),B.return=T,T=B;break e}else{s(T,E);break}else t(T,E);E=E.sibling}B=ju(R,T.mode,B),B.return=T,T=B}return g(T);case fe:return R=Ma(R),Me(T,E,R,B)}if(Et(R))return K(T,E,R,B);if(lt(R)){if(ne=lt(R),typeof ne!="function")throw Error(r(150));return R=ne.call(R),se(T,E,R,B)}if(typeof R.then=="function")return Me(T,E,el(R),B);if(R.$$typeof===H)return Me(T,E,Ji(T,R),B);tl(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,E!==null&&E.tag===6?(s(T,E.sibling),B=c(E,R),B.return=T,T=B):(s(T,E),B=Cu(R,T.mode,B),B.return=T,T=B),g(T)):s(T,E)}return function(T,E,R,B){try{Er=0;var ne=Me(T,E,R,B);return bs=null,ne}catch(W){if(W===vs||W===Zi)throw W;var Se=zt(29,W,null,T.mode);return Se.lanes=B,Se.return=T,Se}finally{}}}var Ua=sm(!0),rm=sm(!1),Wn=!1;function Iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Vi(e),Id(e,null,s),t}return Yi(e,l,t,s),Vi(e)}function Ar(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Jf(e,s)}}function Gu(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Yu=!1;function Tr(){if(Yu){var e=_s;if(e!==null)throw e}}function Rr(e,t,s,l){Yu=!1;var c=e.updateQueue;Wn=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,x=S.next;S.next=null,g===null?h=x:g.next=x,g=S;var k=e.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==g&&(y===null?k.firstBaseUpdate=x:y.next=x,k.lastBaseUpdate=S))}if(h!==null){var L=c.baseState;g=0,k=x=S=null,y=h;do{var D=y.lane&-536870913,N=D!==y.lane;if(N?(ve&D)===D:(l&D)===D){D!==0&&D===ys&&(Yu=!0),k!==null&&(k=k.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var K=e,se=y;D=t;var Me=s;switch(se.tag){case 1:if(K=se.payload,typeof K=="function"){L=K.call(Me,L,D);break e}L=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=se.payload,D=typeof K=="function"?K.call(Me,L,D):K,D==null)break e;L=_({},L,D);break e;case 2:Wn=!0}}D=y.callback,D!==null&&(e.flags|=64,N&&(e.flags|=8192),N=c.callbacks,N===null?c.callbacks=[D]:N.push(D))}else N={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(x=k=N,S=L):k=k.next=N,g|=D;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;N=y,y=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);k===null&&(S=L),c.baseState=S,c.firstBaseUpdate=x,c.lastBaseUpdate=k,h===null&&(c.shared.lanes=0),sa|=g,e.lanes=g,e.memoizedState=L}}function im(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function lm(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)im(s[e],t)}var ws=O(null),nl=O(0);function om(e,t){e=Bn,V(nl,e),V(ws,t),Bn=e|t.baseLanes}function Vu(){V(nl,Bn),V(ws,ws.current)}function Xu(){Bn=nl.current,q(ws),q(nl)}var Bt=O(null),en=null;function ea(e){var t=e.alternate;V(Ye,Ye.current&1),V(Bt,e),en===null&&(t===null||ws.current!==null||t.memoizedState!==null)&&(en=e)}function Ku(e){V(Ye,Ye.current),V(Bt,e),en===null&&(en=e)}function um(e){e.tag===22?(V(Ye,Ye.current),V(Bt,e),en===null&&(en=e)):ta()}function ta(){V(Ye,Ye.current),V(Bt,Bt.current)}function Lt(e){q(Bt),en===e&&(en=null),q(Ye)}var Ye=O(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||eh(s)||th(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cn=0,he=null,De=null,Ke=null,sl=!1,Ss=!1,za=!1,rl=0,xr=0,Es=null,Zb=0;function Ie(){throw Error(r(321))}function Qu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ut(e[s],t[s]))return!1;return!0}function Ju(e,t,s,l,c,h){return Cn=h,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Vm:hc,za=!1,h=s(l,c),za=!1,Ss&&(h=hm(t,s,l,c)),cm(e),h}function cm(e){z.H=Dr;var t=De!==null&&De.next!==null;if(Cn=0,Ke=De=he=null,sl=!1,xr=0,Es=null,t)throw Error(r(300));e===null||Qe||(e=e.dependencies,e!==null&&Qi(e)&&(Qe=!0))}function hm(e,t,s,l){he=e;var c=0;do{if(Ss&&(Es=null),xr=0,Ss=!1,25<=c)throw Error(r(301));if(c+=1,Ke=De=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=Xm,h=t(s,l)}while(Ss);return h}function Fb(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Cr(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(he.flags|=1024),t}function Wu(){var e=rl!==0;return rl=0,e}function Zu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Fu(e){if(sl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}sl=!1}Cn=0,Ke=De=he=null,Ss=!1,xr=rl=0,Es=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?he.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ve(){if(De===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ke===null?he.memoizedState:Ke.next;if(t!==null)Ke=t,De=e;else{if(e===null)throw he.alternate===null?Error(r(467)):Error(r(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ke===null?he.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cr(e){var t=xr;return xr+=1,Es===null&&(Es=[]),e=tm(Es,e,t),t=he,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Vm:hc),e}function ll(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cr(e);if(e.$$typeof===H)return ct(e)}throw Error(r(438,String(e)))}function ec(e){var t=null,s=he.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=il(),he.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=ke;return t.index++,s}function jn(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Ve();return tc(t,De,e)}function tc(e,t,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}t.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var y=g=null,S=null,x=t,k=!1;do{var L=x.lane&-536870913;if(L!==x.lane?(ve&L)===L:(Cn&L)===L){var D=x.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),L===ys&&(k=!0);else if((Cn&D)===D){x=x.next,D===ys&&(k=!0);continue}else L={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(y=S=L,g=h):S=S.next=L,he.lanes|=D,sa|=D;L=x.action,za&&s(h,L),h=x.hasEagerState?x.eagerState:s(h,L)}else D={lane:L,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(y=S=D,g=h):S=S.next=D,he.lanes|=L,sa|=L;x=x.next}while(x!==null&&x!==t);if(S===null?g=h:S.next=y,!Ut(h,e.memoizedState)&&(Qe=!0,k&&(s=_s,s!==null)))throw s;e.memoizedState=h,e.baseState=g,e.baseQueue=S,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nc(e){var t=Ve(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);Ut(h,t.memoizedState)||(Qe=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,l]}function fm(e,t,s){var l=he,c=Ve(),h=we;if(h){if(s===void 0)throw Error(r(407));s=s()}else s=t();var g=!Ut((De||c).memoizedState,s);if(g&&(c.memoizedState=s,Qe=!0),c=c.queue,rc(gm.bind(null,l,c,e),[e]),c.getSnapshot!==t||g||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,Os(9,{destroy:void 0},mm.bind(null,l,c,s,t),null),ze===null)throw Error(r(349));h||(Cn&127)!==0||dm(l,t,s)}return s}function dm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=he.updateQueue,t===null?(t=il(),he.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function mm(e,t,s,l){t.value=s,t.getSnapshot=l,pm(t)&&ym(e)}function gm(e,t,s){return s(function(){pm(t)&&ym(e)})}function pm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ut(e,s)}catch{return!0}}function ym(e){var t=Ra(e,2);t!==null&&jt(t,e,2)}function ac(e){var t=wt();if(typeof e=="function"){var s=e;if(e=s(),za){Gn(!0);try{s()}finally{Gn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t}function _m(e,t,s,l){return e.baseState=s,tc(e,De,typeof l=="function"?l:jn)}function ew(e,t,s,l,c){if(hl(e))throw Error(r(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};z.T!==null?s(!0):h.isTransition=!1,l(h),s=t.pending,s===null?(h.next=t.pending=h,vm(t,h)):(h.next=s.next,t.pending=s.next=h)}}function vm(e,t){var s=t.action,l=t.payload,c=e.state;if(t.isTransition){var h=z.T,g={};z.T=g;try{var y=s(c,l),S=z.S;S!==null&&S(g,y),bm(e,t,y)}catch(x){sc(e,t,x)}finally{h!==null&&g.types!==null&&(h.types=g.types),z.T=h}}else try{h=s(c,l),bm(e,t,h)}catch(x){sc(e,t,x)}}function bm(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){wm(e,t,l)},function(l){return sc(e,t,l)}):wm(e,t,s)}function wm(e,t,s){t.status="fulfilled",t.value=s,Sm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,vm(e,s)))}function sc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,Sm(t),t=t.next;while(t!==l)}e.action=null}function Sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Em(e,t){return t}function Om(e,t){if(we){var s=ze.formState;if(s!==null){e:{var l=he;if(we){if(Le){t:{for(var c=Le,h=Ft;c.nodeType!==8;){if(!h){c=null;break t}if(c=tn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Le=tn(c.nextSibling),l=c.data==="F!";break e}}Qn(l)}l=!1}l&&(t=s[0])}}return s=wt(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:t},s.queue=l,s=Pm.bind(null,he,l),l.dispatch=s,l=ac(!1),h=cc.bind(null,he,!1,l.queue),l=wt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,s=ew.bind(null,he,c,h,s),c.dispatch=s,l.memoizedState=e,[t,s,!1]}function Am(e){var t=Ve();return Tm(t,De,e)}function Tm(e,t,s){if(t=tc(e,t,Em)[0],e=ol(jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Cr(t)}catch(g){throw g===vs?Zi:g}else l=t;t=Ve();var c=t.queue,h=c.dispatch;return s!==t.memoizedState&&(he.flags|=2048,Os(9,{destroy:void 0},tw.bind(null,c,s),null)),[l,h,e]}function tw(e,t){e.action=t}function Rm(e){var t=Ve(),s=De;if(s!==null)return Tm(t,s,e);Ve(),t=t.memoizedState,s=Ve();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function Os(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=he.updateQueue,t===null&&(t=il(),he.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function xm(){return Ve().memoizedState}function ul(e,t,s,l){var c=wt();he.flags|=e,c.memoizedState=Os(1|t,{destroy:void 0},s,l===void 0?null:l)}function cl(e,t,s,l){var c=Ve();l=l===void 0?null:l;var h=c.memoizedState.inst;De!==null&&l!==null&&Qu(l,De.memoizedState.deps)?c.memoizedState=Os(t,h,s,l):(he.flags|=e,c.memoizedState=Os(1|t,h,s,l))}function Cm(e,t){ul(8390656,8,e,t)}function rc(e,t){cl(2048,8,e,t)}function nw(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=il(),he.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function jm(e){var t=Ve().memoizedState;return nw({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Dm(e,t){return cl(4,2,e,t)}function Nm(e,t){return cl(4,4,e,t)}function Mm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function km(e,t,s){s=s!=null?s.concat([e]):null,cl(4,4,Mm.bind(null,t,e),s)}function ic(){}function Um(e,t){var s=Ve();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&Qu(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function zm(e,t){var s=Ve();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&Qu(t,l[1]))return l[0];if(l=e(),za){Gn(!0);try{e()}finally{Gn(!1)}}return s.memoizedState=[l,t],l}function lc(e,t,s){return s===void 0||(Cn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=Bg(),he.lanes|=e,sa|=e,s)}function Bm(e,t,s,l){return Ut(s,t)?s:ws.current!==null?(e=lc(e,s,l),Ut(e,t)||(Qe=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(ve&261930)===0?(Qe=!0,e.memoizedState=s):(e=Bg(),he.lanes|=e,sa|=e,t)}function Lm(e,t,s,l,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var g=z.T,y={};z.T=y,cc(e,!1,t,s);try{var S=c(),x=z.S;if(x!==null&&x(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var k=Wb(S,l);jr(e,t,k,Ht(e))}else jr(e,t,l,Ht(e))}catch(L){jr(e,t,{then:function(){},status:"rejected",reason:L},Ht())}finally{Y.p=h,g!==null&&y.types!==null&&(g.types=y.types),z.T=g}}function aw(){}function oc(e,t,s,l){if(e.tag!==5)throw Error(r(476));var c=$m(e).queue;Lm(e,c,t,re,s===null?aw:function(){return qm(e),s(l)})}function $m(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:re},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qm(e){var t=$m(e);t.next===null&&(t=e.alternate.memoizedState),jr(e,t.next.queue,{},Ht())}function uc(){return ct(Xr)}function Hm(){return Ve().memoizedState}function Im(){return Ve().memoizedState}function sw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Ht();e=Zn(s);var l=Fn(t,e,s);l!==null&&(jt(l,t,s),Ar(l,t,s)),t={cache:Lu()},e.payload=t;return}t=t.return}}function rw(e,t,s){var l=Ht();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hl(e)?Gm(t,s):(s=Ru(e,t,s,l),s!==null&&(jt(s,e,l),Ym(s,t,l)))}function Pm(e,t,s){var l=Ht();jr(e,t,s,l)}function jr(e,t,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(hl(e))Gm(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,y=h(g,s);if(c.hasEagerState=!0,c.eagerState=y,Ut(y,g))return Yi(e,t,c,0),ze===null&&Gi(),!1}catch{}finally{}if(s=Ru(e,t,c,l),s!==null)return jt(s,e,l),Ym(s,t,l),!0}return!1}function cc(e,t,s,l){if(l={lane:2,revertLane:Ic(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hl(e)){if(t)throw Error(r(479))}else t=Ru(e,s,l,2),t!==null&&jt(t,e,2)}function hl(e){var t=e.alternate;return e===he||t!==null&&t===he}function Gm(e,t){Ss=sl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Ym(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Jf(e,s)}}var Dr={readContext:ct,use:ll,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Dr.useEffectEvent=Ie;var Vm={readContext:ct,use:ll,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Cm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,ul(4194308,4,Mm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var s=wt();t=t===void 0?null:t;var l=e();if(za){Gn(!0);try{e()}finally{Gn(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=wt();if(s!==void 0){var c=s(t);if(za){Gn(!0);try{s(t)}finally{Gn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=rw.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=ac(e);var t=e.queue,s=Pm.bind(null,he,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(e,t){var s=wt();return lc(s,e,t)},useTransition:function(){var e=ac(!1);return e=Lm.bind(null,he,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=he,c=wt();if(we){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),ze===null)throw Error(r(349));(ve&127)!==0||dm(l,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,Cm(gm.bind(null,l,h,e),[e]),l.flags|=2048,Os(9,{destroy:void 0},mm.bind(null,l,h,s,t),null),s},useId:function(){var e=wt(),t=ze.identifierPrefix;if(we){var s=pn,l=gn;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=rl++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Zb++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uc,useFormState:Om,useActionState:Om,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=cc.bind(null,he,!0,s),s.dispatch=t,[e,t]},useMemoCache:ec,useCacheRefresh:function(){return wt().memoizedState=sw.bind(null,he)},useEffectEvent:function(e){var t=wt(),s={impl:e};return t.memoizedState=s,function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},hc={readContext:ct,use:ll,useCallback:Um,useContext:ct,useEffect:rc,useImperativeHandle:km,useInsertionEffect:Dm,useLayoutEffect:Nm,useMemo:zm,useReducer:ol,useRef:xm,useState:function(){return ol(jn)},useDebugValue:ic,useDeferredValue:function(e,t){var s=Ve();return Bm(s,De.memoizedState,e,t)},useTransition:function(){var e=ol(jn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Cr(e),t]},useSyncExternalStore:fm,useId:Hm,useHostTransitionStatus:uc,useFormState:Am,useActionState:Am,useOptimistic:function(e,t){var s=Ve();return _m(s,De,e,t)},useMemoCache:ec,useCacheRefresh:Im};hc.useEffectEvent=jm;var Xm={readContext:ct,use:ll,useCallback:Um,useContext:ct,useEffect:rc,useImperativeHandle:km,useInsertionEffect:Dm,useLayoutEffect:Nm,useMemo:zm,useReducer:nc,useRef:xm,useState:function(){return nc(jn)},useDebugValue:ic,useDeferredValue:function(e,t){var s=Ve();return De===null?lc(s,e,t):Bm(s,De.memoizedState,e,t)},useTransition:function(){var e=nc(jn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Cr(e),t]},useSyncExternalStore:fm,useId:Hm,useHostTransitionStatus:uc,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,t){var s=Ve();return De!==null?_m(s,De,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Im};Xm.useEffectEvent=jm;function fc(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:_({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var dc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=Ht(),c=Zn(l);c.payload=t,s!=null&&(c.callback=s),t=Fn(e,c,l),t!==null&&(jt(t,e,l),Ar(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=Ht(),c=Zn(l);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=Fn(e,c,l),t!==null&&(jt(t,e,l),Ar(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ht(),l=Zn(s);l.tag=2,t!=null&&(l.callback=t),t=Fn(e,l,s),t!==null&&(jt(t,e,s),Ar(t,e,s))}};function Km(e,t,s,l,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,g):t.prototype&&t.prototype.isPureReactComponent?!yr(s,l)||!yr(c,h):!0}function Qm(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=_({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Jm(e){Pi(e)}function Wm(e){console.error(e)}function Zm(e){Pi(e)}function fl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Fm(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mc(e,t,s){return s=Zn(s),s.tag=3,s.payload={element:null},s.callback=function(){fl(e,t)},s}function eg(e){return e=Zn(e),e.tag=3,e}function tg(e,t,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){Fm(t,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fm(t,s,l),typeof c!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function iw(e,t,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&ps(t,s,c,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return en===null?Ol():s.alternate===null&&Pe===0&&(Pe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Fi?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),$c(e,l,c)),!1;case 22:return s.flags|=65536,l===Fi?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),$c(e,l,c)),!1}throw Error(r(435,s.tag))}return $c(e,l,c),Ol(),!1}if(we)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Mu&&(e=Error(r(422),{cause:l}),br(Jt(e,s)))):(l!==Mu&&(t=Error(r(423),{cause:l}),br(Jt(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Jt(l,s),c=mc(e.stateNode,l,c),Gu(e,c),Pe!==4&&(Pe=2)),!1;var h=Error(r(520),{cause:l});if(h=Jt(h,s),$r===null?$r=[h]:$r.push(h),Pe!==4&&(Pe=2),t===null)return!0;l=Jt(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=mc(s.stateNode,l,e),Gu(s,e),!1;case 1:if(t=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ra===null||!ra.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=eg(c),tg(c,e,s,l),Gu(s,c),!1}s=s.return}while(s!==null);return!1}var gc=Error(r(461)),Qe=!1;function ht(e,t,s,l){t.child=e===null?rm(t,null,s,l):Ua(t,e.child,s,l)}function ng(e,t,s,l,c){s=s.render;var h=t.ref;if("ref"in l){var g={};for(var y in l)y!=="ref"&&(g[y]=l[y])}else g=l;return Da(t),l=Ju(e,t,s,g,h,c),y=Wu(),e!==null&&!Qe?(Zu(e,t,c),Dn(e,t,c)):(we&&y&&Du(t),t.flags|=1,ht(e,t,l,c),t.child)}function ag(e,t,s,l,c){if(e===null){var h=s.type;return typeof h=="function"&&!xu(h)&&h.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=h,sg(e,t,h,l,c)):(e=Xi(s.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Ec(e,c)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:yr,s(g,l)&&e.ref===t.ref)return Dn(e,t,c)}return t.flags|=1,e=An(h,l),e.ref=t.ref,e.return=t,t.child=e}function sg(e,t,s,l,c){if(e!==null){var h=e.memoizedProps;if(yr(h,l)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=l=h,Ec(e,c))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,Dn(e,t,c)}return pc(e,t,s,l,c)}function rg(e,t,s,l){var c=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,t.child=null;return ig(e,t,h,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wi(t,h!==null?h.cachePool:null),h!==null?om(t,h):Vu(),um(t);else return l=t.lanes=536870912,ig(e,t,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(Wi(t,h.cachePool),om(t,h),ta(),t.memoizedState=null):(e!==null&&Wi(t,null),Vu(),ta());return ht(e,t,c,s),t.child}function Nr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ig(e,t,s,l,c){var h=qu();return h=h===null?null:{parent:Xe._currentValue,pool:h},t.memoizedState={baseLanes:s,cachePool:h},e!==null&&Wi(t,null),Vu(),um(t),e!==null&&ps(e,t,l,!0),t.childLanes=c,null}function dl(e,t){return t=gl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function lg(e,t,s){return Ua(t,e.child,null,s),e=dl(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function lw(e,t,s){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=dl(t,l),t.lanes=536870912,Nr(null,e);if(Ku(t),(e=Le)?(e=vp(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:gn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},s=Gd(e),s.return=t,t.child=s,ut=t,Le=null)):e=null,e===null)throw Qn(t);return t.lanes=536870912,null}return dl(t,l)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(Ku(t),c)if(t.flags&256)t.flags&=-257,t=lg(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Qe||ps(e,t,s,!1),c=(s&e.childLanes)!==0,Qe||c){if(l=ze,l!==null&&(g=Wf(l,s),g!==0&&g!==h.retryLane))throw h.retryLane=g,Ra(e,g),jt(l,e,g),gc;Ol(),t=lg(e,t,s)}else e=h.treeContext,Le=tn(g.nextSibling),ut=t,we=!0,Kn=null,Ft=!1,e!==null&&Xd(t,e),t=dl(t,l),t.flags|=4096;return t}return e=An(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ml(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function pc(e,t,s,l,c){return Da(t),s=Ju(e,t,s,l,void 0,c),l=Wu(),e!==null&&!Qe?(Zu(e,t,c),Dn(e,t,c)):(we&&l&&Du(t),t.flags|=1,ht(e,t,s,c),t.child)}function og(e,t,s,l,c,h){return Da(t),t.updateQueue=null,s=hm(t,l,s,c),cm(e),l=Wu(),e!==null&&!Qe?(Zu(e,t,h),Dn(e,t,h)):(we&&l&&Du(t),t.flags|=1,ht(e,t,s,h),t.child)}function ug(e,t,s,l,c){if(Da(t),t.stateNode===null){var h=fs,g=s.contextType;typeof g=="object"&&g!==null&&(h=ct(g)),h=new s(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=dc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},Iu(t),g=s.contextType,h.context=typeof g=="object"&&g!==null?ct(g):fs,h.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(fc(t,s,g,l),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&dc.enqueueReplaceState(h,h.state,null),Rr(t,l,h,c),Tr(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var y=t.memoizedProps,S=Ba(s,y);h.props=S;var x=h.context,k=s.contextType;g=fs,typeof k=="object"&&k!==null&&(g=ct(k));var L=s.getDerivedStateFromProps;k=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||x!==g)&&Qm(t,h,l,g),Wn=!1;var D=t.memoizedState;h.state=D,Rr(t,l,h,c),Tr(),x=t.memoizedState,y||D!==x||Wn?(typeof L=="function"&&(fc(t,s,L,l),x=t.memoizedState),(S=Wn||Km(t,s,S,l,D,x,g))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=x),h.props=l,h.state=x,h.context=g,l=S):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Pu(e,t),g=t.memoizedProps,k=Ba(s,g),h.props=k,L=t.pendingProps,D=h.context,x=s.contextType,S=fs,typeof x=="object"&&x!==null&&(S=ct(x)),y=s.getDerivedStateFromProps,(x=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==L||D!==S)&&Qm(t,h,l,S),Wn=!1,D=t.memoizedState,h.state=D,Rr(t,l,h,c),Tr();var N=t.memoizedState;g!==L||D!==N||Wn||e!==null&&e.dependencies!==null&&Qi(e.dependencies)?(typeof y=="function"&&(fc(t,s,y,l),N=t.memoizedState),(k=Wn||Km(t,s,k,l,D,N,S)||e!==null&&e.dependencies!==null&&Qi(e.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,N,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,N,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),h.props=l,h.state=N,h.context=S,l=k):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,ml(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Ua(t,e.child,null,c),t.child=Ua(t,null,s,c)):ht(e,t,s,c),t.memoizedState=h.state,e=t.child):e=Dn(e,t,c),e}function cg(e,t,s,l){return Ca(),t.flags|=256,ht(e,t,s,l),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:Fd()}}function vc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=qt),e}function hg(e,t,s){var l=t.pendingProps,c=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(c?ea(t):ta(),(e=Le)?(e=vp(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:gn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},s=Gd(e),s.return=t,t.child=s,ut=t,Le=null)):e=null,e===null)throw Qn(t);return th(e)?t.lanes=32:t.lanes=536870912,null}var y=l.children;return l=l.fallback,c?(ta(),c=t.mode,y=gl({mode:"hidden",children:y},c),l=xa(l,c,s,null),y.return=t,l.return=t,y.sibling=l,t.child=y,l=t.child,l.memoizedState=_c(s),l.childLanes=vc(e,g,s),t.memoizedState=yc,Nr(null,l)):(ea(t),bc(t,y))}var S=e.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(h)t.flags&256?(ea(t),t.flags&=-257,t=wc(e,t,s)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),y=l.fallback,c=t.mode,l=gl({mode:"visible",children:l.children},c),y=xa(y,c,s,null),y.flags|=2,l.return=t,y.return=t,l.sibling=y,t.child=l,Ua(t,e.child,null,s),l=t.child,l.memoizedState=_c(s),l.childLanes=vc(e,g,s),t.memoizedState=yc,t=Nr(null,l));else if(ea(t),th(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var x=g.dgst;g=x,l=Error(r(419)),l.stack="",l.digest=g,br({value:l,source:null,stack:null}),t=wc(e,t,s)}else if(Qe||ps(e,t,s,!1),g=(s&e.childLanes)!==0,Qe||g){if(g=ze,g!==null&&(l=Wf(g,s),l!==0&&l!==S.retryLane))throw S.retryLane=l,Ra(e,l),jt(g,e,l),gc;eh(y)||Ol(),t=wc(e,t,s)}else eh(y)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Le=tn(y.nextSibling),ut=t,we=!0,Kn=null,Ft=!1,e!==null&&Xd(t,e),t=bc(t,l.children),t.flags|=4096);return t}return c?(ta(),y=l.fallback,c=t.mode,S=e.child,x=S.sibling,l=An(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,x!==null?y=An(x,y):(y=xa(y,c,s,null),y.flags|=2),y.return=t,l.return=t,l.sibling=y,t.child=l,Nr(null,l),l=t.child,y=e.child.memoizedState,y===null?y=_c(s):(c=y.cachePool,c!==null?(S=Xe._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Fd(),y={baseLanes:y.baseLanes|s,cachePool:c}),l.memoizedState=y,l.childLanes=vc(e,g,s),t.memoizedState=yc,Nr(e.child,l)):(ea(t),s=e.child,e=s.sibling,s=An(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=s,t.memoizedState=null,s)}function bc(e,t){return t=gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gl(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function wc(e,t,s){return Ua(t,e.child,null,s),e=bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fg(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),zu(e.return,t,s)}function Sc(e,t,s,l,c,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:h}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=h)}function dg(e,t,s){var l=t.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=Ye.current,y=(g&2)!==0;if(y?(g=g&1|2,t.flags|=128):g&=1,V(Ye,g),ht(e,t,l,s),l=we?vr:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fg(e,s,t);else if(e.tag===19)fg(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&al(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Sc(t,!1,c,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&al(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Sc(t,!0,s,null,h,l);break;case"together":Sc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Dn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),sa|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(ps(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=An(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=An(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qi(e)))}function ow(e,t,s){switch(t.tag){case 3:bt(t,t.stateNode.containerInfo),Jn(t,Xe,e.memoizedState.cache),Ca();break;case 27:case 5:sr(t);break;case 4:bt(t,t.stateNode.containerInfo);break;case 10:Jn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ku(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(t),t.flags|=128,null):(s&t.child.childLanes)!==0?hg(e,t,s):(ea(t),e=Dn(e,t,s),e!==null?e.sibling:null);ea(t);break;case 19:var c=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(ps(e,t,s,!1),l=(s&t.childLanes)!==0),c){if(l)return dg(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),V(Ye,Ye.current),l)break;return null;case 22:return t.lanes=0,rg(e,t,s,t.pendingProps);case 24:Jn(t,Xe,e.memoizedState.cache)}return Dn(e,t,s)}function mg(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Ec(e,s)&&(t.flags&128)===0)return Qe=!1,ow(e,t,s);Qe=(e.flags&131072)!==0}else Qe=!1,we&&(t.flags&1048576)!==0&&Vd(t,vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ma(t.elementType),t.type=e,typeof e=="function")xu(e)?(l=Ba(e,l),t.tag=1,t=ug(null,t,e,l,s)):(t.tag=0,t=pc(null,t,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===P){t.tag=11,t=ng(null,t,e,l,s);break e}else if(c===G){t.tag=14,t=ag(null,t,e,l,s);break e}}throw t=ln(e)||e,Error(r(306,t,""))}}return t;case 0:return pc(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,c=Ba(l,t.pendingProps),ug(e,t,l,c,s);case 3:e:{if(bt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var h=t.memoizedState;c=h.element,Pu(e,t),Rr(t,l,null,s);var g=t.memoizedState;if(l=g.cache,Jn(t,Xe,l),l!==h.cache&&Bu(t,[Xe],s,!0),Tr(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=cg(e,t,l,s);break e}else if(l!==c){c=Jt(Error(r(424)),t),br(c),t=cg(e,t,l,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=tn(e.firstChild),ut=t,we=!0,Kn=null,Ft=!0,s=rm(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ca(),l===c){t=Dn(e,t,s);break e}ht(e,t,l,s)}t=t.child}return t;case 26:return ml(e,t),e===null?(s=Ap(t.type,null,t.pendingProps,null))?t.memoizedState=s:we||(s=t.type,e=t.pendingProps,l=Dl(pe.current).createElement(s),l[ot]=t,l[Ot]=e,ft(l,s,e),at(l),t.stateNode=l):t.memoizedState=Ap(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return sr(t),e===null&&we&&(l=t.stateNode=Sp(t.type,t.pendingProps,pe.current),ut=t,Ft=!0,c=Le,ua(t.type)?(nh=c,Le=tn(l.firstChild)):Le=c),ht(e,t,t.pendingProps.children,s),ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((c=l=Le)&&(l=Lw(l,t.type,t.pendingProps,Ft),l!==null?(t.stateNode=l,ut=t,Le=tn(l.firstChild),Ft=!1,c=!0):c=!1),c||Qn(t)),sr(t),c=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,l=h.children,Wc(c,h)?l=null:g!==null&&Wc(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Ju(e,t,Fb,null,null,s),Xr._currentValue=c),ml(e,t),ht(e,t,l,s),t.child;case 6:return e===null&&we&&((e=s=Le)&&(s=$w(s,t.pendingProps,Ft),s!==null?(t.stateNode=s,ut=t,Le=null,e=!0):e=!1),e||Qn(t)),null;case 13:return hg(e,t,s);case 4:return bt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ua(t,null,l,s):ht(e,t,l,s),t.child;case 11:return ng(e,t,t.type,t.pendingProps,s);case 7:return ht(e,t,t.pendingProps,s),t.child;case 8:return ht(e,t,t.pendingProps.children,s),t.child;case 12:return ht(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Jn(t,t.type,l.value),ht(e,t,l.children,s),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Da(t),c=ct(c),l=l(c),t.flags|=1,ht(e,t,l,s),t.child;case 14:return ag(e,t,t.type,t.pendingProps,s);case 15:return sg(e,t,t.type,t.pendingProps,s);case 19:return dg(e,t,s);case 31:return lw(e,t,s);case 22:return rg(e,t,s,t.pendingProps);case 24:return Da(t),l=ct(Xe),e===null?(c=qu(),c===null&&(c=ze,h=Lu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),t.memoizedState={parent:l,cache:c},Iu(t),Jn(t,Xe,c)):((e.lanes&s)!==0&&(Pu(e,t),Rr(t,null,null,s),Tr()),c=e.memoizedState,h=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Jn(t,Xe,l)):(l=h.cache,Jn(t,Xe,l),l!==c.cache&&Bu(t,[Xe],s,!0))),ht(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Nn(e){e.flags|=4}function Oc(e,t,s,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Hg())e.flags|=8192;else throw ka=Fi,Hu}else e.flags&=-16777217}function gg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jp(t))if(Hg())e.flags|=8192;else throw ka=Fi,Hu}function pl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kf():536870912,e.lanes|=t,xs|=t)}function Mr(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function uw(e,t,s){var l=t.pendingProps;switch(Nu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),xn(Xe),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(gs(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ku())),$e(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(Nn(t),h!==null?($e(t),gg(t,h)):($e(t),Oc(t,c,null,l,s))):h?h!==e.memoizedState?(Nn(t),$e(t),gg(t,h)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Nn(t),$e(t),Oc(t,c,e,l,s)),null;case 27:if(Ri(t),s=pe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return $e(t),null}e=J.current,gs(t)?Kd(t):(e=Sp(c,l,s),t.stateNode=e,Nn(t))}return $e(t),null;case 5:if(Ri(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return $e(t),null}if(h=J.current,gs(t))Kd(t);else{var g=Dl(pe.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[ot]=t,h[Ot]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=h;e:switch(ft(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Nn(t)}}return $e(t),Oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=pe.current,gs(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,c=ut,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ot]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||hp(e.nodeValue,s)),e||Qn(t,!0)}else e=Dl(e).createTextNode(l),e[ot]=t,t.stateNode=e}return $e(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=gs(t),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=t}else Ca(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else s=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return $e(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=gs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ot]=t}else Ca(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),c=!1}else c=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),pl(t,t.updateQueue),$e(t),null);case 4:return Ge(),e===null&&Vc(t.stateNode.containerInfo),$e(t),null;case 10:return xn(t.type),$e(t),null;case 19:if(q(Ye),l=t.memoizedState,l===null)return $e(t),null;if(c=(t.flags&128)!==0,h=l.rendering,h===null)if(c)Mr(l,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=al(e),h!==null){for(t.flags|=128,Mr(l,!1),e=h.updateQueue,t.updateQueue=e,pl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Pd(s,e),s=s.sibling;return V(Ye,Ye.current&1|2),we&&Tn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Nt()>wl&&(t.flags|=128,c=!0,Mr(l,!1),t.lanes=4194304)}else{if(!c)if(e=al(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,pl(t,e),Mr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!we)return $e(t),null}else 2*Nt()-l.renderingStartTime>wl&&s!==536870912&&(t.flags|=128,c=!0,Mr(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Nt(),e.sibling=null,s=Ye.current,V(Ye,c?s&1|2:s&1),we&&Tn(t,l.treeForkCount),e):($e(t),null);case 22:case 23:return Lt(t),Xu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),s=t.updateQueue,s!==null&&pl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&q(Na),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),xn(Xe),$e(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function cw(e,t){switch(Nu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Xe),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ri(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(r(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ye),null;case 4:return Ge(),null;case 10:return xn(t.type),null;case 22:case 23:return Lt(t),Xu(),e!==null&&q(Na),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Xe),null;case 25:return null;default:return null}}function pg(e,t){switch(Nu(t),t.tag){case 3:xn(Xe),Ge();break;case 26:case 27:case 5:Ri(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:q(Ye);break;case 10:xn(t.type);break;case 22:case 23:Lt(t),Xu(),e!==null&&q(Na);break;case 24:xn(Xe)}}function kr(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var h=s.create,g=s.inst;l=h(),g.destroy=l}s=s.next}while(s!==c)}}catch(y){xe(t,t.return,y)}}function na(e,t,s){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var g=l.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=t;var S=s,x=y;try{x()}catch(k){xe(c,S,k)}}}l=l.next}while(l!==h)}}catch(k){xe(t,t.return,k)}}function yg(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{lm(t,s)}catch(l){xe(e,e.return,l)}}}function _g(e,t,s){s.props=Ba(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){xe(e,t,l)}}function Ur(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){xe(e,t,c)}}function yn(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){xe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){xe(e,t,c)}else s.current=null}function vg(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){xe(e,e.return,c)}}function Ac(e,t,s){try{var l=e.stateNode;Nw(l,e.type,s,t),l[Ot]=t}catch(c){xe(e,e.return,c)}}function bg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=En));else if(l!==4&&(l===27&&ua(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Rc(e,t,s),e=e.sibling;e!==null;)Rc(e,t,s),e=e.sibling}function yl(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&ua(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(yl(e,t,s),e=e.sibling;e!==null;)yl(e,t,s),e=e.sibling}function wg(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ft(t,l,s),t[ot]=e,t[Ot]=s}catch(h){xe(e,e.return,h)}}var Mn=!1,Je=!1,xc=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,st=null;function hw(e,t){if(e=e.containerInfo,Qc=Ll,e=kd(e),wu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var g=0,y=-1,S=-1,x=0,k=0,L=e,D=null;t:for(;;){for(var N;L!==s||c!==0&&L.nodeType!==3||(y=g+c),L!==h||l!==0&&L.nodeType!==3||(S=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(N=L.firstChild)!==null;)D=L,L=N;for(;;){if(L===e)break t;if(D===s&&++x===c&&(y=g),D===h&&++k===l&&(S=g),(N=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=N}s=y===-1||S===-1?null:{start:y,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jc={focusedElem:e,selectionRange:s},Ll=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=t,c=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var K=Ba(s.type,c);e=l.getSnapshotBeforeUpdate(K,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){xe(s,s.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Fc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Eg(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Un(e,s),l&4&&kr(5,s);break;case 1:if(Un(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(g){xe(s,s.return,g)}else{var c=Ba(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){xe(s,s.return,g)}}l&64&&yg(s),l&512&&Ur(s,s.return);break;case 3:if(Un(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{lm(e,t)}catch(g){xe(s,s.return,g)}}break;case 27:t===null&&l&4&&wg(s);case 26:case 5:Un(e,s),t===null&&l&4&&vg(s),l&512&&Ur(s,s.return);break;case 12:Un(e,s);break;case 31:Un(e,s),l&4&&Tg(e,s);break;case 13:Un(e,s),l&4&&Rg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bw.bind(null,s),qw(e,s))));break;case 22:if(l=s.memoizedState!==null||Mn,!l){t=t!==null&&t.memoizedState!==null||Je,c=Mn;var h=Je;Mn=l,(Je=t)&&!h?zn(e,s,(s.subtreeFlags&8772)!==0):Un(e,s),Mn=c,Je=h}break;case 30:break;default:Un(e,s)}}function Og(e){var t=e.alternate;t!==null&&(e.alternate=null,Og(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&su(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Tt=!1;function kn(e,t,s){for(s=s.child;s!==null;)Ag(e,t,s),s=s.sibling}function Ag(e,t,s){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(rr,s)}catch{}switch(s.tag){case 26:Je||yn(s,t),kn(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Je||yn(s,t);var l=qe,c=Tt;ua(s.type)&&(qe=s.stateNode,Tt=!1),kn(e,t,s),Gr(s.stateNode),qe=l,Tt=c;break;case 5:Je||yn(s,t);case 6:if(l=qe,c=Tt,qe=null,kn(e,t,s),qe=l,Tt=c,qe!==null)if(Tt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(s.stateNode)}catch(h){xe(s,t,h)}else try{qe.removeChild(s.stateNode)}catch(h){xe(s,t,h)}break;case 18:qe!==null&&(Tt?(e=qe,yp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),zs(e)):yp(qe,s.stateNode));break;case 4:l=qe,c=Tt,qe=s.stateNode.containerInfo,Tt=!0,kn(e,t,s),qe=l,Tt=c;break;case 0:case 11:case 14:case 15:na(2,s,t),Je||na(4,s,t),kn(e,t,s);break;case 1:Je||(yn(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&_g(s,t,l)),kn(e,t,s);break;case 21:kn(e,t,s);break;case 22:Je=(l=Je)||s.memoizedState!==null,kn(e,t,s),Je=l;break;default:kn(e,t,s)}}function Tg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(s){xe(t,t.return,s)}}}function Rg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(s){xe(t,t.return,s)}}function fw(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sg),t;default:throw Error(r(435,e.tag))}}function _l(e,t){var s=fw(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var c=ww.bind(null,e,l);l.then(c,c)}})}function Rt(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],h=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(ua(y.type)){qe=y.stateNode,Tt=!1;break e}break;case 5:qe=y.stateNode,Tt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,Tt=!0;break e}y=y.return}if(qe===null)throw Error(r(160));Ag(h,g,c),qe=null,Tt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xg(t,e),t=t.sibling}var un=null;function xg(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),xt(e),l&4&&(na(3,e,e.return),kr(3,e),na(5,e,e.return));break;case 1:Rt(t,e),xt(e),l&512&&(Je||s===null||yn(s,s.return)),l&64&&Mn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=un;if(Rt(t,e),xt(e),l&512&&(Je||s===null||yn(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[or]||h[ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),ft(h,l,s),h[ot]=e,at(h),l=h;break e;case"link":var g=xp("link","href",c).get(l+(s.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(y,1);break t}}h=c.createElement(l),ft(h,l,s),c.head.appendChild(h);break;case"meta":if(g=xp("meta","content",c).get(l+(s.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(y,1);break t}}h=c.createElement(l),ft(h,l,s),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[ot]=e,at(h),l=h}e.stateNode=l}else Cp(c,e.type,e.stateNode);else e.stateNode=Rp(c,l,e.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?Cp(c,e.type,e.stateNode):Rp(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ac(e,e.memoizedProps,s.memoizedProps)}break;case 27:Rt(t,e),xt(e),l&512&&(Je||s===null||yn(s,s.return)),s!==null&&l&4&&Ac(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Rt(t,e),xt(e),l&512&&(Je||s===null||yn(s,s.return)),e.flags&32){c=e.stateNode;try{rs(c,"")}catch(K){xe(e,e.return,K)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Ac(e,c,s!==null?s.memoizedProps:c)),l&1024&&(xc=!0);break;case 6:if(Rt(t,e),xt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(K){xe(e,e.return,K)}}break;case 3:if(kl=null,c=un,un=Nl(t.containerInfo),Rt(t,e),un=c,xt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(K){xe(e,e.return,K)}xc&&(xc=!1,Cg(e));break;case 4:l=un,un=Nl(e.stateNode.containerInfo),Rt(t,e),xt(e),un=l;break;case 12:Rt(t,e),xt(e);break;case 31:Rt(t,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_l(e,l)));break;case 13:Rt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bl=Nt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_l(e,l)));break;case 22:c=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,x=Mn,k=Je;if(Mn=x||c,Je=k||S,Rt(t,e),Je=k,Mn=x,xt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||S||Mn||Je||La(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){S=s=t;try{if(h=S.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=S.stateNode;var L=S.memoizedProps.style,D=L!=null&&L.hasOwnProperty("display")?L.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(K){xe(S,S.return,K)}}}else if(t.tag===6){if(s===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(K){xe(S,S.return,K)}}}else if(t.tag===18){if(s===null){S=t;try{var N=S.stateNode;c?_p(N,!0):_p(S.stateNode,!1)}catch(K){xe(S,S.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_l(e,s))));break;case 19:Rt(t,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_l(e,l)));break;case 30:break;case 21:break;default:Rt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(bg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,h=Tc(e);yl(e,h,c);break;case 5:var g=s.stateNode;s.flags&32&&(rs(g,""),s.flags&=-33);var y=Tc(e);yl(e,y,g);break;case 3:case 4:var S=s.stateNode.containerInfo,x=Tc(e);Rc(e,x,S);break;default:throw Error(r(161))}}catch(k){xe(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Eg(e,t.alternate,t),t=t.sibling}function La(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),La(t);break;case 1:yn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&_g(t,t.return,s),La(t);break;case 27:Gr(t.stateNode);case 26:case 5:yn(t,t.return),La(t);break;case 22:t.memoizedState===null&&La(t);break;case 30:La(t);break;default:La(t)}e=e.sibling}}function zn(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,h=t,g=h.flags;switch(h.tag){case 0:case 11:case 15:zn(c,h,s),kr(4,h);break;case 1:if(zn(c,h,s),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){xe(l,l.return,x)}if(l=h,c=l.updateQueue,c!==null){var y=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)im(S[c],y)}catch(x){xe(l,l.return,x)}}s&&g&64&&yg(h),Ur(h,h.return);break;case 27:wg(h);case 26:case 5:zn(c,h,s),s&&l===null&&g&4&&vg(h),Ur(h,h.return);break;case 12:zn(c,h,s);break;case 31:zn(c,h,s),s&&g&4&&Tg(c,h);break;case 13:zn(c,h,s),s&&g&4&&Rg(c,h);break;case 22:h.memoizedState===null&&zn(c,h,s),Ur(h,h.return);break;case 30:break;default:zn(c,h,s)}t=t.sibling}}function Cc(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&wr(s))}function jc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e))}function cn(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(e,t,s,l),t=t.sibling}function jg(e,t,s,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:cn(e,t,s,l),c&2048&&kr(9,t);break;case 1:cn(e,t,s,l);break;case 3:cn(e,t,s,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e)));break;case 12:if(c&2048){cn(e,t,s,l),e=t.stateNode;try{var h=t.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){xe(t,t.return,S)}}else cn(e,t,s,l);break;case 31:cn(e,t,s,l);break;case 13:cn(e,t,s,l);break;case 23:break;case 22:h=t.stateNode,g=t.alternate,t.memoizedState!==null?h._visibility&2?cn(e,t,s,l):zr(e,t):h._visibility&2?cn(e,t,s,l):(h._visibility|=2,As(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Cc(g,t);break;case 24:cn(e,t,s,l),c&2048&&jc(t.alternate,t);break;default:cn(e,t,s,l)}}function As(e,t,s,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,g=t,y=s,S=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:As(h,g,y,S,c),kr(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?As(h,g,y,S,c):zr(h,g):(k._visibility|=2,As(h,g,y,S,c)),c&&x&2048&&Cc(g.alternate,g);break;case 24:As(h,g,y,S,c),c&&x&2048&&jc(g.alternate,g);break;default:As(h,g,y,S,c)}t=t.sibling}}function zr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,c=l.flags;switch(l.tag){case 22:zr(s,l),c&2048&&Cc(l.alternate,l);break;case 24:zr(s,l),c&2048&&jc(l.alternate,l);break;default:zr(s,l)}t=t.sibling}}var Br=8192;function Ts(e,t,s){if(e.subtreeFlags&Br)for(e=e.child;e!==null;)Dg(e,t,s),e=e.sibling}function Dg(e,t,s){switch(e.tag){case 26:Ts(e,t,s),e.flags&Br&&e.memoizedState!==null&&Zw(s,un,e.memoizedState,e.memoizedProps);break;case 5:Ts(e,t,s);break;case 3:case 4:var l=un;un=Nl(e.stateNode.containerInfo),Ts(e,t,s),un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Br,Br=16777216,Ts(e,t,s),Br=l):Ts(e,t,s));break;default:Ts(e,t,s)}}function Ng(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Lr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];st=l,kg(l,e)}Ng(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mg(e),e=e.sibling}function Mg(e){switch(e.tag){case 0:case 11:case 15:Lr(e),e.flags&2048&&na(9,e,e.return);break;case 3:Lr(e);break;case 12:Lr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vl(e)):Lr(e);break;default:Lr(e)}}function vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];st=l,kg(l,e)}Ng(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),vl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,vl(t));break;default:vl(t)}e=e.sibling}}function kg(e,t){for(;st!==null;){var s=st;switch(s.tag){case 0:case 11:case 15:na(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wr(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,st=l;else e:for(s=e;st!==null;){l=st;var c=l.sibling,h=l.return;if(Og(l),l===s){st=null;break e}if(c!==null){c.return=h,st=c;break e}st=h}}}var dw={getCacheForType:function(e){var t=ct(Xe),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return ct(Xe).controller.signal}},mw=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,ye=null,ve=0,Re=0,$t=null,aa=!1,Rs=!1,Dc=!1,Bn=0,Pe=0,sa=0,$a=0,Nc=0,qt=0,xs=0,$r=null,Ct=null,Mc=!1,bl=0,Ug=0,wl=1/0,Sl=null,ra=null,Fe=0,ia=null,Cs=null,Ln=0,kc=0,Uc=null,zg=null,qr=0,zc=null;function Ht(){return(Oe&2)!==0&&ve!==0?ve&-ve:z.T!==null?Ic():Zf()}function Bg(){if(qt===0)if((ve&536870912)===0||we){var e=ji;ji<<=1,(ji&3932160)===0&&(ji=262144),qt=e}else qt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),qt}function jt(e,t,s){(e===ze&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(js(e,0),la(e,ve,qt,!1)),lr(e,s),((Oe&2)===0||e!==ze)&&(e===ze&&((Oe&2)===0&&($a|=s),Pe===4&&la(e,ve,qt,!1)),_n(e))}function Lg(e,t,s){if((Oe&6)!==0)throw Error(r(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||ir(e,t),c=l?yw(e,t):Lc(e,t,!0),h=l;do{if(c===0){Rs&&!l&&la(e,t,0,!1);break}else{if(s=e.current.alternate,h&&!gw(s)){c=Lc(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var y=e;c=$r;var S=y.current.memoizedState.isDehydrated;if(S&&(js(y,g).flags|=256),g=Lc(y,g,!1),g!==2){if(Dc&&!S){y.errorRecoveryDisabledLanes|=h,$a|=h,c=4;break e}h=Ct,Ct=c,h!==null&&(Ct===null?Ct=h:Ct.push.apply(Ct,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){js(e,0),la(e,t,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:la(l,t,qt,!aa);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=bl+300-Nt(),10<c)){if(la(l,t,qt,!aa),Ni(l,0,!0)!==0)break e;Ln=t,l.timeoutHandle=gp($g.bind(null,l,s,Ct,Sl,Mc,t,qt,$a,xs,aa,h,"Throttled",-0,0),c);break e}$g(l,s,Ct,Sl,Mc,t,qt,$a,xs,aa,h,null,-0,0)}}break}while(!0);_n(e)}function $g(e,t,s,l,c,h,g,y,S,x,k,L,D,N){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Dg(t,h,L);var K=(h&62914560)===h?bl-Nt():(h&4194048)===h?Ug-Nt():0;if(K=Fw(L,K),K!==null){Ln=h,e.cancelPendingCommit=K(Xg.bind(null,e,t,h,s,l,c,g,y,S,k,L,null,D,N)),la(e,h,g,!x);return}}Xg(e,t,h,s,l,c,g,y,S)}function gw(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!Ut(h(),c))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function la(e,t,s,l){t&=~Nc,t&=~$a,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var h=31-kt(c),g=1<<h;l[h]=-1,c&=~g}s!==0&&Qf(e,s,t)}function El(){return(Oe&6)===0?(Hr(0),!1):!0}function Bc(){if(ye!==null){if(Re===0)var e=ye.return;else e=ye,Rn=ja=null,Fu(e),bs=null,Er=0,e=ye;for(;e!==null;)pg(e.alternate,e),e=e.return;ye=null}}function js(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Uw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ln=0,Bc(),ze=e,ye=s=An(e.current,null),ve=t,Re=0,$t=null,aa=!1,Rs=ir(e,t),Dc=!1,xs=qt=Nc=$a=sa=Pe=0,Ct=$r=null,Mc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-kt(l),h=1<<c;t|=e[c],l&=~h}return Bn=t,Gi(),s}function qg(e,t){he=null,z.H=Dr,t===vs||t===Zi?(t=nm(),Re=3):t===Hu?(t=nm(),Re=4):Re=t===gc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,ye===null&&(Pe=1,fl(e,Jt(t,e.current)))}function Hg(){var e=Bt.current;return e===null?!0:(ve&4194048)===ve?en===null:(ve&62914560)===ve||(ve&536870912)!==0?e===en:!1}function Ig(){var e=z.H;return z.H=Dr,e===null?Dr:e}function Pg(){var e=z.A;return z.A=dw,e}function Ol(){Pe=4,aa||(ve&4194048)!==ve&&Bt.current!==null||(Rs=!0),(sa&134217727)===0&&($a&134217727)===0||ze===null||la(ze,ve,qt,!1)}function Lc(e,t,s){var l=Oe;Oe|=2;var c=Ig(),h=Pg();(ze!==e||ve!==t)&&(Sl=null,js(e,t)),t=!1;var g=Pe;e:do try{if(Re!==0&&ye!==null){var y=ye,S=$t;switch(Re){case 8:Bc(),g=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var x=Re;if(Re=0,$t=null,Ds(e,y,S,x),s&&Rs){g=0;break e}break;default:x=Re,Re=0,$t=null,Ds(e,y,S,x)}}pw(),g=Pe;break}catch(k){qg(e,k)}while(!0);return t&&e.shellSuspendCounter++,Rn=ja=null,Oe=l,z.H=c,z.A=h,ye===null&&(ze=null,ve=0,Gi()),g}function pw(){for(;ye!==null;)Gg(ye)}function yw(e,t){var s=Oe;Oe|=2;var l=Ig(),c=Pg();ze!==e||ve!==t?(Sl=null,wl=Nt()+500,js(e,t)):Rs=ir(e,t);e:do try{if(Re!==0&&ye!==null){t=ye;var h=$t;t:switch(Re){case 1:Re=0,$t=null,Ds(e,t,h,1);break;case 2:case 9:if(em(h)){Re=0,$t=null,Yg(t);break}t=function(){Re!==2&&Re!==9||ze!==e||(Re=7),_n(e)},h.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:em(h)?(Re=0,$t=null,Yg(t)):(Re=0,$t=null,Ds(e,t,h,7));break;case 5:var g=null;switch(ye.tag){case 26:g=ye.memoizedState;case 5:case 27:var y=ye;if(g?jp(g):y.stateNode.complete){Re=0,$t=null;var S=y.sibling;if(S!==null)ye=S;else{var x=y.return;x!==null?(ye=x,Al(x)):ye=null}break t}}Re=0,$t=null,Ds(e,t,h,5);break;case 6:Re=0,$t=null,Ds(e,t,h,6);break;case 8:Bc(),Pe=6;break e;default:throw Error(r(462))}}_w();break}catch(k){qg(e,k)}while(!0);return Rn=ja=null,z.H=l,z.A=c,Oe=s,ye!==null?0:(ze=null,ve=0,Gi(),Pe)}function _w(){for(;ye!==null&&!Hv();)Gg(ye)}function Gg(e){var t=mg(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Al(e):ye=t}function Yg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=og(s,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=og(s,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Fu(t);default:pg(s,t),t=ye=Pd(t,Bn),t=mg(s,t,Bn)}e.memoizedProps=e.pendingProps,t===null?Al(e):ye=t}function Ds(e,t,s,l){Rn=ja=null,Fu(t),bs=null,Er=0;var c=t.return;try{if(iw(e,c,t,s,ve)){Pe=1,fl(e,Jt(s,e.current)),ye=null;return}}catch(h){if(c!==null)throw ye=c,h;Pe=1,fl(e,Jt(s,e.current)),ye=null;return}t.flags&32768?(we||l===1?e=!0:Rs||(ve&536870912)!==0?e=!1:(aa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vg(t,e)):Al(t)}function Al(e){var t=e;do{if((t.flags&32768)!==0){Vg(t,aa);return}e=t.return;var s=uw(t.alternate,t,Bn);if(s!==null){ye=s;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Pe===0&&(Pe=5)}function Vg(e,t){do{var s=cw(e.alternate,e);if(s!==null){s.flags&=32767,ye=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=s}while(e!==null);Pe=6,ye=null}function Xg(e,t,s,l,c,h,g,y,S){e.cancelPendingCommit=null;do Tl();while(Fe!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(h=t.lanes|t.childLanes,h|=Tu,Wv(e,s,h,g,y,S),e===ze&&(ye=ze=null,ve=0),Cs=t,ia=e,Ln=s,kc=h,Uc=c,zg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sw(xi,function(){return Zg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=Y.p,Y.p=2,g=Oe,Oe|=4;try{hw(e,t,s)}finally{Oe=g,Y.p=c,z.T=l}}Fe=1,Kg(),Qg(),Jg()}}function Kg(){if(Fe===1){Fe=0;var e=ia,t=Cs,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=Y.p;Y.p=2;var c=Oe;Oe|=4;try{xg(t,e);var h=Jc,g=kd(e.containerInfo),y=h.focusedElem,S=h.selectionRange;if(g!==y&&y&&y.ownerDocument&&Md(y.ownerDocument.documentElement,y)){if(S!==null&&wu(y)){var x=S.start,k=S.end;if(k===void 0&&(k=x),"selectionStart"in y)y.selectionStart=x,y.selectionEnd=Math.min(k,y.value.length);else{var L=y.ownerDocument||document,D=L&&L.defaultView||window;if(D.getSelection){var N=D.getSelection(),K=y.textContent.length,se=Math.min(S.start,K),Me=S.end===void 0?se:Math.min(S.end,K);!N.extend&&se>Me&&(g=Me,Me=se,se=g);var T=Nd(y,se),E=Nd(y,Me);if(T&&E&&(N.rangeCount!==1||N.anchorNode!==T.node||N.anchorOffset!==T.offset||N.focusNode!==E.node||N.focusOffset!==E.offset)){var R=L.createRange();R.setStart(T.node,T.offset),N.removeAllRanges(),se>Me?(N.addRange(R),N.extend(E.node,E.offset)):(R.setEnd(E.node,E.offset),N.addRange(R))}}}}for(L=[],N=y;N=N.parentNode;)N.nodeType===1&&L.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<L.length;y++){var B=L[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Ll=!!Qc,Jc=Qc=null}finally{Oe=c,Y.p=l,z.T=s}}e.current=t,Fe=2}}function Qg(){if(Fe===2){Fe=0;var e=ia,t=Cs,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=Y.p;Y.p=2;var c=Oe;Oe|=4;try{Eg(e,t.alternate,t)}finally{Oe=c,Y.p=l,z.T=s}}Fe=3}}function Jg(){if(Fe===4||Fe===3){Fe=0,Iv();var e=ia,t=Cs,s=Ln,l=zg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,Cs=ia=null,Wg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ra=null),nu(s),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(rr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,c=Y.p,Y.p=2,z.T=null;try{for(var h=e.onRecoverableError,g=0;g<l.length;g++){var y=l[g];h(y.value,{componentStack:y.stack})}}finally{z.T=t,Y.p=c}}(Ln&3)!==0&&Tl(),_n(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===zc?qr++:(qr=0,zc=e):qr=0,Hr(0)}}function Wg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wr(t)))}function Tl(){return Kg(),Qg(),Jg(),Zg()}function Zg(){if(Fe!==5)return!1;var e=ia,t=kc;kc=0;var s=nu(Ln),l=z.T,c=Y.p;try{Y.p=32>s?32:s,z.T=null,s=Uc,Uc=null;var h=ia,g=Ln;if(Fe=0,Cs=ia=null,Ln=0,(Oe&6)!==0)throw Error(r(331));var y=Oe;if(Oe|=4,Mg(h.current),jg(h,h.current,g,s),Oe=y,Hr(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(rr,h)}catch{}return!0}finally{Y.p=c,z.T=l,Wg(e,t)}}function Fg(e,t,s){t=Jt(s,t),t=mc(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(lr(e,2),_n(e))}function xe(e,t,s){if(e.tag===3)Fg(e,e,s);else for(;t!==null;){if(t.tag===3){Fg(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){e=Jt(s,e),s=eg(2),l=Fn(t,s,2),l!==null&&(tg(s,l,t,e),lr(l,2),_n(l));break}}t=t.return}}function $c(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new mw;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(s)||(Dc=!0,c.add(s),e=vw.bind(null,e,t,s),t.then(e,e))}function vw(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ze===e&&(ve&s)===s&&(Pe===4||Pe===3&&(ve&62914560)===ve&&300>Nt()-bl?(Oe&2)===0&&js(e,0):Nc|=s,xs===ve&&(xs=0)),_n(e)}function ep(e,t){t===0&&(t=Kf()),e=Ra(e,t),e!==null&&(lr(e,t),_n(e))}function bw(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ep(e,s)}function ww(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),ep(e,s)}function Sw(e,t){return Zo(e,t)}var Rl=null,Ns=null,qc=!1,xl=!1,Hc=!1,oa=0;function _n(e){e!==Ns&&e.next===null&&(Ns===null?Rl=Ns=e:Ns=Ns.next=e),xl=!0,qc||(qc=!0,Ow())}function Hr(e,t){if(!Hc&&xl){Hc=!0;do for(var s=!1,l=Rl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-kt(42|e)+1)-1,h&=c&~(g&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,sp(l,h))}else h=ve,h=Ni(l,l===ze?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ir(l,h)||(s=!0,sp(l,h));l=l.next}while(s);Hc=!1}}function Ew(){tp()}function tp(){xl=qc=!1;var e=0;oa!==0&&kw()&&(e=oa);for(var t=Nt(),s=null,l=Rl;l!==null;){var c=l.next,h=np(l,t);h===0?(l.next=null,s===null?Rl=c:s.next=c,c===null&&(Ns=s)):(s=l,(e!==0||(h&3)!==0)&&(xl=!0)),l=c}Fe!==0&&Fe!==5||Hr(e),oa!==0&&(oa=0)}function np(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-kt(h),y=1<<g,S=c[g];S===-1?((y&s)===0||(y&l)!==0)&&(c[g]=Jv(y,t)):S<=t&&(e.expiredLanes|=y),h&=~y}if(t=ze,s=ve,s=Ni(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Fo(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ir(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&Fo(l),nu(s)){case 2:case 8:s=Vf;break;case 32:s=xi;break;case 268435456:s=Xf;break;default:s=xi}return l=ap.bind(null,e),s=Zo(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&Fo(l),e.callbackPriority=2,e.callbackNode=null,2}function ap(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Tl()&&e.callbackNode!==s)return null;var l=ve;return l=Ni(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Lg(e,l,t),np(e,Nt()),e.callbackNode!=null&&e.callbackNode===s?ap.bind(null,e):null)}function sp(e,t){if(Tl())return null;Lg(e,t,!0)}function Ow(){zw(function(){(Oe&6)!==0?Zo(Yf,Ew):tp()})}function Ic(){if(oa===0){var e=ys;e===0&&(e=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),oa=e}return oa}function rp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zi(""+e)}function ip(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Aw(e,t,s,l,c){if(t==="submit"&&s&&s.stateNode===c){var h=rp((c[Ot]||null).action),g=l.submitter;g&&(t=(t=g[Ot]||null)?rp(t.formAction):g.getAttribute("formAction"),t!==null&&(h=t,g=null));var y=new qi("action","action",null,l,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oa!==0){var S=g?ip(c,g):new FormData(c);oc(s,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(y.preventDefault(),S=g?ip(c,g):new FormData(c),oc(s,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Pc=0;Pc<Au.length;Pc++){var Gc=Au[Pc],Tw=Gc.toLowerCase(),Rw=Gc[0].toUpperCase()+Gc.slice(1);on(Tw,"on"+Rw)}on(Bd,"onAnimationEnd"),on(Ld,"onAnimationIteration"),on($d,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Pb,"onTransitionRun"),on(Gb,"onTransitionStart"),on(Yb,"onTransitionCancel"),on(qd,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ir));function lp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var g=l.length-1;0<=g;g--){var y=l[g],S=y.instance,x=y.currentTarget;if(y=y.listener,S!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=x;try{h(c)}catch(k){Pi(k)}c.currentTarget=null,h=S}else for(g=0;g<l.length;g++){if(y=l[g],S=y.instance,x=y.currentTarget,y=y.listener,S!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=x;try{h(c)}catch(k){Pi(k)}c.currentTarget=null,h=S}}}}function _e(e,t){var s=t[au];s===void 0&&(s=t[au]=new Set);var l=e+"__bubble";s.has(l)||(op(t,e,2,!1),s.add(l))}function Yc(e,t,s){var l=0;t&&(l|=4),op(s,e,l,t)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Vc(e){if(!e[Cl]){e[Cl]=!0,td.forEach(function(s){s!=="selectionchange"&&(xw.has(s)||Yc(s,!1,e),Yc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cl]||(t[Cl]=!0,Yc("selectionchange",!1,t))}}function op(e,t,s,l){switch(Bp(t)){case 2:var c=nS;break;case 8:c=aS;break;default:c=lh}s=c.bind(null,t,s,e),c=void 0,!fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function Xc(e,t,s,l,c){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var y=l.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=es(y),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=h=g;continue e}y=y.parentNode}}l=l.return}dd(function(){var x=h,k=cu(s),L=[];e:{var D=Hd.get(e);if(D!==void 0){var N=qi,K=e;switch(e){case"keypress":if(Li(s)===0)break e;case"keydown":case"keyup":N=wb;break;case"focusin":K="focus",N=pu;break;case"focusout":K="blur",N=pu;break;case"beforeblur":case"afterblur":N=pu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Ob;break;case Bd:case Ld:case $d:N=fb;break;case qd:N=Tb;break;case"scroll":case"scrollend":N=lb;break;case"wheel":N=xb;break;case"copy":case"cut":case"paste":N=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=_d;break;case"toggle":case"beforetoggle":N=jb}var se=(t&4)!==0,Me=!se&&(e==="scroll"||e==="scrollend"),T=se?D!==null?D+"Capture":null:D;se=[];for(var E=x,R;E!==null;){var B=E;if(R=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||R===null||T===null||(B=cr(E,T),B!=null&&se.push(Pr(E,B,R))),Me)break;E=E.return}0<se.length&&(D=new N(D,K,null,s,k),L.push({event:D,listeners:se}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",D&&s!==uu&&(K=s.relatedTarget||s.fromElement)&&(es(K)||K[Fa]))break e;if((N||D)&&(D=k.window===k?k:(D=k.ownerDocument)?D.defaultView||D.parentWindow:window,N?(K=s.relatedTarget||s.toElement,N=x,K=K?es(K):null,K!==null&&(Me=u(K),se=K.tag,K!==Me||se!==5&&se!==27&&se!==6)&&(K=null)):(N=null,K=x),N!==K)){if(se=pd,B="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=_d,B="onPointerLeave",T="onPointerEnter",E="pointer"),Me=N==null?D:ur(N),R=K==null?D:ur(K),D=new se(B,E+"leave",N,s,k),D.target=Me,D.relatedTarget=R,B=null,es(k)===x&&(se=new se(T,E+"enter",K,s,k),se.target=R,se.relatedTarget=Me,B=se),Me=B,N&&K)t:{for(se=Cw,T=N,E=K,R=0,B=T;B;B=se(B))R++;B=0;for(var ne=E;ne;ne=se(ne))B++;for(;0<R-B;)T=se(T),R--;for(;0<B-R;)E=se(E),B--;for(;R--;){if(T===E||E!==null&&T===E.alternate){se=T;break t}T=se(T),E=se(E)}se=null}else se=null;N!==null&&up(L,D,N,se,!1),K!==null&&Me!==null&&up(L,Me,K,se,!0)}}e:{if(D=x?ur(x):window,N=D.nodeName&&D.nodeName.toLowerCase(),N==="select"||N==="input"&&D.type==="file")var Se=Td;else if(Od(D))if(Rd)Se=qb;else{Se=Lb;var W=Bb}else N=D.nodeName,!N||N.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?x&&ou(x.elementType)&&(Se=Td):Se=$b;if(Se&&(Se=Se(e,x))){Ad(L,Se,s,k);break e}W&&W(e,D,x),e==="focusout"&&x&&D.type==="number"&&x.memoizedProps.value!=null&&lu(D,"number",D.value)}switch(W=x?ur(x):window,e){case"focusin":(Od(W)||W.contentEditable==="true")&&(us=W,Su=x,_r=null);break;case"focusout":_r=Su=us=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Ud(L,s,k);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":Ud(L,s,k)}var de;if(_u)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else os?Sd(e,s)&&(be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(vd&&s.locale!=="ko"&&(os||be!=="onCompositionStart"?be==="onCompositionEnd"&&os&&(de=md()):(Vn=k,du="value"in Vn?Vn.value:Vn.textContent,os=!0)),W=jl(x,be),0<W.length&&(be=new yd(be,e,null,s,k),L.push({event:be,listeners:W}),de?be.data=de:(de=Ed(s),de!==null&&(be.data=de)))),(de=Nb?Mb(e,s):kb(e,s))&&(be=jl(x,"onBeforeInput"),0<be.length&&(W=new yd("onBeforeInput","beforeinput",null,s,k),L.push({event:W,listeners:be}),W.data=de)),Aw(L,e,x,s,k)}lp(L,t)})}function Pr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function jl(e,t){for(var s=t+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=cr(e,s),c!=null&&l.unshift(Pr(e,c,h)),c=cr(e,t),c!=null&&l.push(Pr(e,c,h))),e.tag===3)return l;e=e.return}return[]}function Cw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,t,s,l,c){for(var h=t._reactName,g=[];s!==null&&s!==l;){var y=s,S=y.alternate,x=y.stateNode;if(y=y.tag,S!==null&&S===l)break;y!==5&&y!==26&&y!==27||x===null||(S=x,c?(x=cr(s,h),x!=null&&g.unshift(Pr(s,x,S))):c||(x=cr(s,h),x!=null&&g.push(Pr(s,x,S)))),s=s.return}g.length!==0&&e.push({event:t,listeners:g})}var jw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(jw,`
`).replace(Dw,"")}function hp(e,t){return t=cp(t),cp(e)===t}function Ne(e,t,s,l,c,h){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||rs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&rs(e,""+l);break;case"className":ki(e,"class",l);break;case"tabIndex":ki(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(e,s,l);break;case"style":hd(e,l,h);break;case"data":if(t!=="object"){ki(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=zi(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(t!=="input"&&Ne(e,t,"name",c.name,c,null),Ne(e,t,"formEncType",c.formEncType,c,null),Ne(e,t,"formMethod",c.formMethod,c,null),Ne(e,t,"formTarget",c.formTarget,c,null)):(Ne(e,t,"encType",c.encType,c,null),Ne(e,t,"method",c.method,c,null),Ne(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=zi(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=En);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=zi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Mi(e,"popover",l);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=rb.get(s)||s,Mi(e,s,l))}}function Kc(e,t,s,l,c,h){switch(s){case"style":hd(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rs(e,l):(typeof l=="number"||typeof l=="bigint")&&rs(e,""+l);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),h=e[Ot]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,c);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Mi(e,s,l)}}}function ft(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var l=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var g=s[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ne(e,t,h,g,s,null)}}c&&Ne(e,t,"srcSet",s.srcSet,s,null),l&&Ne(e,t,"src",s.src,s,null);return;case"input":_e("invalid",e);var y=h=g=c=null,S=null,x=null;for(l in s)if(s.hasOwnProperty(l)){var k=s[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":S=k;break;case"defaultChecked":x=k;break;case"value":h=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:Ne(e,t,l,k,s,null)}}ld(e,h,y,S,x,g,c,!1);return;case"select":_e("invalid",e),l=g=h=null;for(c in s)if(s.hasOwnProperty(c)&&(y=s[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":l=y;default:Ne(e,t,c,y,s,null)}t=h,s=g,e.multiple=!!l,t!=null?ss(e,!!l,t,!1):s!=null&&ss(e,!!l,s,!0);return;case"textarea":_e("invalid",e),h=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(y=s[g],y!=null))switch(g){case"value":l=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ne(e,t,g,y,s,null)}ud(e,l,c,h);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(l=s[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(e,t,S,l,s,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(l=0;l<Ir.length;l++)_e(Ir[l],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ne(e,t,x,l,s,null)}return;default:if(ou(t)){for(k in s)s.hasOwnProperty(k)&&(l=s[k],l!==void 0&&Kc(e,t,k,l,s,void 0));return}}for(y in s)s.hasOwnProperty(y)&&(l=s[y],l!=null&&Ne(e,t,y,l,s,null))}function Nw(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,y=null,S=null,x=null,k=null;for(N in s){var L=s[N];if(s.hasOwnProperty(N)&&L!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":S=L;default:l.hasOwnProperty(N)||Ne(e,t,N,null,l,L)}}for(var D in l){var N=l[D];if(L=s[D],l.hasOwnProperty(D)&&(N!=null||L!=null))switch(D){case"type":h=N;break;case"name":c=N;break;case"checked":x=N;break;case"defaultChecked":k=N;break;case"value":g=N;break;case"defaultValue":y=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:N!==L&&Ne(e,t,D,N,l,L)}}iu(e,g,y,S,x,k,h,c);return;case"select":N=g=y=D=null;for(h in s)if(S=s[h],s.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":N=S;default:l.hasOwnProperty(h)||Ne(e,t,h,null,l,S)}for(c in l)if(h=l[c],S=s[c],l.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":D=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==S&&Ne(e,t,c,h,l,S)}t=y,s=g,l=N,D!=null?ss(e,!!s,D,!1):!!l!=!!s&&(t!=null?ss(e,!!s,t,!0):ss(e,!!s,s?[]:"",!1));return;case"textarea":N=D=null;for(y in s)if(c=s[y],s.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ne(e,t,y,null,l,c)}for(g in l)if(c=l[g],h=s[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":D=c;break;case"defaultValue":N=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Ne(e,t,g,c,l,h)}od(e,D,N);return;case"option":for(var K in s)if(D=s[K],s.hasOwnProperty(K)&&D!=null&&!l.hasOwnProperty(K))switch(K){case"selected":e.selected=!1;break;default:Ne(e,t,K,null,l,D)}for(S in l)if(D=l[S],N=s[S],l.hasOwnProperty(S)&&D!==N&&(D!=null||N!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ne(e,t,S,D,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in s)D=s[se],s.hasOwnProperty(se)&&D!=null&&!l.hasOwnProperty(se)&&Ne(e,t,se,null,l,D);for(x in l)if(D=l[x],N=s[x],l.hasOwnProperty(x)&&D!==N&&(D!=null||N!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Ne(e,t,x,D,l,N)}return;default:if(ou(t)){for(var Me in s)D=s[Me],s.hasOwnProperty(Me)&&D!==void 0&&!l.hasOwnProperty(Me)&&Kc(e,t,Me,void 0,l,D);for(k in l)D=l[k],N=s[k],!l.hasOwnProperty(k)||D===N||D===void 0&&N===void 0||Kc(e,t,k,D,l,N);return}}for(var T in s)D=s[T],s.hasOwnProperty(T)&&D!=null&&!l.hasOwnProperty(T)&&Ne(e,t,T,null,l,D);for(L in l)D=l[L],N=s[L],!l.hasOwnProperty(L)||D===N||D==null&&N==null||Ne(e,t,L,D,l,N)}function fp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],h=c.transferSize,g=c.initiatorType,y=c.duration;if(h&&y&&fp(g)){for(g=0,y=c.responseEnd,l+=1;l<s.length;l++){var S=s[l],x=S.startTime;if(x>y)break;var k=S.transferSize,L=S.initiatorType;k&&fp(L)&&(S=S.responseEnd,g+=k*(S<y?1:(y-x)/(S-x)))}if(--l,t+=8*(h+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qc=null,Jc=null;function Dl(e){return e.nodeType===9?e:e.ownerDocument}function dp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zc=null;function kw(){var e=window.event;return e&&e.type==="popstate"?e===Zc?!1:(Zc=e,!0):(Zc=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,zw=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(Bw)}:gp;function Bw(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function yp(e,t){var s=t,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),zs(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Gr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Gr(s);for(var h=s.firstChild;h;){var g=h.nextSibling,y=h.nodeName;h[or]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=g}}else s==="body"&&Gr(e.ownerDocument.body);s=c}while(s);zs(t)}function _p(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Fc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Fc(s),su(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Lw(e,t,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[or])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function $w(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=tn(e.nextSibling),e===null))return null;return e}function vp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=tn(e.nextSibling),e===null))return null;return e}function eh(e){return e.data==="$?"||e.data==="$~"}function th(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qw(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var nh=null;function bp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return tn(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Sp(e,t,s){switch(t=Dl(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Gr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);su(e)}var nn=new Map,Ep=new Set;function Nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=Y.d;Y.d={f:Hw,r:Iw,D:Pw,C:Gw,L:Yw,m:Vw,X:Kw,S:Xw,M:Qw};function Hw(){var e=$n.f(),t=El();return e||t}function Iw(e){var t=ts(e);t!==null&&t.tag===5&&t.type==="form"?qm(t):$n.r(e)}var Ms=typeof document>"u"?null:document;function Op(e,t,s){var l=Ms;if(l&&typeof t=="string"&&t){var c=Kt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ep.has(c)||(Ep.add(c),e={rel:e,crossOrigin:s,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),ft(t,"link",e),at(t),l.head.appendChild(t)))}}function Pw(e){$n.D(e),Op("dns-prefetch",e,null)}function Gw(e,t){$n.C(e,t),Op("preconnect",e,t)}function Yw(e,t,s){$n.L(e,t,s);var l=Ms;if(l&&e&&t){var c='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Kt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Kt(s.imageSizes)+'"]')):c+='[href="'+Kt(e)+'"]';var h=c;switch(t){case"style":h=ks(e);break;case"script":h=Us(e)}nn.has(h)||(e=_({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),nn.set(h,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Yr(h))||t==="script"&&l.querySelector(Vr(h))||(t=l.createElement("link"),ft(t,"link",e),at(t),l.head.appendChild(t)))}}function Vw(e,t){$n.m(e,t);var s=Ms;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Us(e)}if(!nn.has(h)&&(e=_({rel:"modulepreload",href:e},t),nn.set(h,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vr(h)))return}l=s.createElement("link"),ft(l,"link",e),at(l),s.head.appendChild(l)}}}function Xw(e,t,s){$n.S(e,t,s);var l=Ms;if(l&&e){var c=ns(l).hoistableStyles,h=ks(e);t=t||"default";var g=c.get(h);if(!g){var y={loading:0,preload:null};if(g=l.querySelector(Yr(h)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},s),(s=nn.get(h))&&ah(e,s);var S=g=l.createElement("link");at(S),ft(S,"link",e),S._p=new Promise(function(x,k){S.onload=x,S.onerror=k}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ml(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(h,g)}}}function Kw(e,t){$n.X(e,t);var s=Ms;if(s&&e){var l=ns(s).hoistableScripts,c=Us(e),h=l.get(c);h||(h=s.querySelector(Vr(c)),h||(e=_({src:e,async:!0},t),(t=nn.get(c))&&sh(e,t),h=s.createElement("script"),at(h),ft(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Qw(e,t){$n.M(e,t);var s=Ms;if(s&&e){var l=ns(s).hoistableScripts,c=Us(e),h=l.get(c);h||(h=s.querySelector(Vr(c)),h||(e=_({src:e,async:!0,type:"module"},t),(t=nn.get(c))&&sh(e,t),h=s.createElement("script"),at(h),ft(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Ap(e,t,s,l){var c=(c=pe.current)?Nl(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=ks(s.href),s=ns(c).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ks(s.href);var h=ns(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(Yr(e)))&&!h._p&&(g.instance=h,g.state.loading=5),nn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},nn.set(e,s),h||Jw(c,e,s,g.state))),t&&l===null)throw Error(r(528,""));return g}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Us(s),s=ns(c).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ks(e){return'href="'+Kt(e)+'"'}function Yr(e){return'link[rel="stylesheet"]['+e+"]"}function Tp(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Jw(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ft(t,"link",s),at(t),e.head.appendChild(t))}function Us(e){return'[src="'+Kt(e)+'"]'}function Vr(e){return"script[async]"+e}function Rp(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Kt(s.href)+'"]');if(l)return t.instance=l,at(l),l;var c=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),at(l),ft(l,"style",c),Ml(l,s.precedence,e),t.instance=l;case"stylesheet":c=ks(s.href);var h=e.querySelector(Yr(c));if(h)return t.state.loading|=4,t.instance=h,at(h),h;l=Tp(s),(c=nn.get(c))&&ah(l,c),h=(e.ownerDocument||e).createElement("link"),at(h);var g=h;return g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),ft(h,"link",l),t.state.loading|=4,Ml(h,s.precedence,e),t.instance=h;case"script":return h=Us(s.src),(c=e.querySelector(Vr(h)))?(t.instance=c,at(c),c):(l=s,(c=nn.get(h))&&(l=_({},s),sh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),at(c),ft(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ml(l,s.precedence,e));return t.instance}function Ml(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var y=l[g];if(y.dataset.precedence===t)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function ah(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var kl=null;function xp(e,t,s){if(kl===null){var l=new Map,c=kl=new Map;c.set(s,l)}else c=kl,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var h=s[c];if(!(h[or]||h[ot]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(t)||"";g=e+g;var y=l.get(g);y?y.push(h):l.set(g,[h])}}return l}function Cp(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Ww(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zw(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ks(l.href),h=t.querySelector(Yr(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ul.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=h,at(h);return}h=t.ownerDocument||t,l=Tp(l),(c=nn.get(c))&&ah(l,c),h=h.createElement("link"),at(h);var g=h;g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),ft(h,"link",l),s.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ul.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var rh=0;function Fw(e,t){return e.stylesheets&&e.count===0&&Bl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&rh===0&&(rh=62500*Mw());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>rh?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zl=null;function Bl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zl=new Map,t.forEach(eS,e),zl=null,Ul.call(e))}function eS(e,t){if(!(t.state.loading&4)){var s=zl.get(e);if(s)var l=s.get(null);else{s=new Map,zl.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=t.instance,g=c.getAttribute("data-precedence"),h=s.get(g)||l,h===l&&s.set(null,c),s.set(g,c),this.count++,l=Ul.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Xr={$$typeof:H,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function tS(e,t,s,l,c,h,g,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Dp(e,t,s,l,c,h,g,y,S,x,k,L){return e=new tS(e,t,s,g,S,x,k,L,y),t=1,h===!0&&(t|=24),h=zt(3,null,null,t),e.current=h,h.stateNode=e,t=Lu(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:t},Iu(h),e}function Np(e){return e?(e=fs,e):fs}function Mp(e,t,s,l,c,h){c=Np(c),l.context===null?l.context=c:l.pendingContext=c,l=Zn(t),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Fn(e,l,t),s!==null&&(jt(s,e,t),Ar(s,e,t))}function kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ih(e,t){kp(e,t),(e=e.alternate)&&kp(e,t)}function Up(e){if(e.tag===13||e.tag===31){var t=Ra(e,67108864);t!==null&&jt(t,e,67108864),ih(e,67108864)}}function zp(e){if(e.tag===13||e.tag===31){var t=Ht();t=tu(t);var s=Ra(e,t);s!==null&&jt(s,e,t),ih(e,t)}}var Ll=!0;function nS(e,t,s,l){var c=z.T;z.T=null;var h=Y.p;try{Y.p=2,lh(e,t,s,l)}finally{Y.p=h,z.T=c}}function aS(e,t,s,l){var c=z.T;z.T=null;var h=Y.p;try{Y.p=8,lh(e,t,s,l)}finally{Y.p=h,z.T=c}}function lh(e,t,s,l){if(Ll){var c=oh(l);if(c===null)Xc(e,t,l,$l,s),Lp(e,l);else if(rS(c,e,t,s,l))l.stopPropagation();else if(Lp(e,l),t&4&&-1<sS.indexOf(e)){for(;c!==null;){var h=ts(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Sa(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var S=1<<31-kt(g);y.entanglements[1]|=S,g&=~S}_n(h),(Oe&6)===0&&(wl=Nt()+500,Hr(0))}}break;case 31:case 13:y=Ra(h,2),y!==null&&jt(y,h,2),El(),ih(h,2)}if(h=oh(l),h===null&&Xc(e,t,l,$l,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else Xc(e,t,l,null,s)}}function oh(e){return e=cu(e),uh(e)}var $l=null;function uh(e){if($l=null,e=es(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=f(t),e!==null)return e;e=null}else if(s===31){if(e=d(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $l=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pv()){case Yf:return 2;case Vf:return 8;case xi:case Gv:return 32;case Xf:return 268435456;default:return 32}default:return 32}}var ch=!1,ca=null,ha=null,fa=null,Kr=new Map,Qr=new Map,da=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function Jr(e,t,s,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},t!==null&&(t=ts(t),t!==null&&Up(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function rS(e,t,s,l,c){switch(t){case"focusin":return ca=Jr(ca,e,t,s,l,c),!0;case"dragenter":return ha=Jr(ha,e,t,s,l,c),!0;case"mouseover":return fa=Jr(fa,e,t,s,l,c),!0;case"pointerover":var h=c.pointerId;return Kr.set(h,Jr(Kr.get(h)||null,e,t,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Qr.set(h,Jr(Qr.get(h)||null,e,t,s,l,c)),!0}return!1}function $p(e){var t=es(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=f(s),t!==null){e.blockedOn=t,Ff(e.priority,function(){zp(s)});return}}else if(t===31){if(t=d(s),t!==null){e.blockedOn=t,Ff(e.priority,function(){zp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=oh(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);uu=l,s.target.dispatchEvent(l),uu=null}else return t=ts(s),t!==null&&Up(t),e.blockedOn=s,!1;t.shift()}return!0}function qp(e,t,s){ql(e)&&s.delete(t)}function iS(){ch=!1,ca!==null&&ql(ca)&&(ca=null),ha!==null&&ql(ha)&&(ha=null),fa!==null&&ql(fa)&&(fa=null),Kr.forEach(qp),Qr.forEach(qp)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iS)))}var Il=null;function Hp(e){Il!==e&&(Il=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Il===e&&(Il=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(uh(l||s)===null)continue;break}var h=ts(s);h!==null&&(e.splice(t,3),t-=3,oc(h,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function zs(e){function t(S){return Hl(S,e)}ca!==null&&Hl(ca,e),ha!==null&&Hl(ha,e),fa!==null&&Hl(fa,e),Kr.forEach(t),Qr.forEach(t);for(var s=0;s<da.length;s++){var l=da[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<da.length&&(s=da[0],s.blockedOn===null);)$p(s),s.blockedOn===null&&da.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],h=s[l+1],g=c[Ot]||null;if(typeof h=="function")g||Hp(s);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ot]||null)y=g.formAction;else if(uh(c)!==null)continue}else y=g.action;typeof y=="function"?s[l+1]=y:(s.splice(l,3),l-=3),Hp(s)}}}function Ip(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function hh(e){this._internalRoot=e}Pl.prototype.render=hh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,l=Ht();Mp(s,l,e,t,null,null)},Pl.prototype.unmount=hh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mp(e.current,2,null,e,null,null),El(),t[Fa]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zf();e={blockedOn:null,target:e,priority:t};for(var s=0;s<da.length&&t!==0&&t<da[s].priority;s++);da.splice(s,0,e),s===0&&$p(e)}};var Pp=n.version;if(Pp!=="19.2.0")throw Error(r(527,Pp,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var lS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{rr=Gl.inject(lS),Mt=Gl}catch{}}return Zr.createRoot=function(e,t){if(!o(e))throw Error(r(299));var s=!1,l="",c=Jm,h=Wm,g=Zm;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Dp(e,1,!1,null,null,s,l,null,c,h,g,Ip),e[Fa]=t.current,Vc(e),new hh(t)},Zr.hydrateRoot=function(e,t,s){if(!o(e))throw Error(r(299));var l=!1,c="",h=Jm,g=Wm,y=Zm,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError),s.formState!==void 0&&(S=s.formState)),t=Dp(e,1,!0,t,s??null,l,c,S,h,g,y,Ip),t.context=Np(null),s=t.current,l=Ht(),l=tu(l),c=Zn(l),c.callback=null,Fn(s,c,l),s=l,t.current.lanes=s,lr(t,s),_n(t),e[Fa]=t.current,Vc(e),new Pl(t)},Zr.version="19.2.0",Zr}var Fp;function bS(){if(Fp)return mh.exports;Fp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),mh.exports=vS(),mh.exports}var wS=bS(),zh=function(i,n){return zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])},zh(i,n)};function u_(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");zh(i,n);function a(){this.constructor=i}i.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}var vo=function(){return vo=Object.assign||function(n){for(var a,r=1,o=arguments.length;r<o;r++){a=arguments[r];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},vo.apply(this,arguments)};function er(i,n){var a={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(a[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(a[r[o]]=i[r[o]]);return a}function c_(i,n,a,r){var o=arguments.length,u=o<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,a):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,n,a,r);else for(var d=i.length-1;d>=0;d--)(f=i[d])&&(u=(o<3?f(u):o>3?f(n,a,u):f(n,a))||u);return o>3&&u&&Object.defineProperty(n,a,u),u}function h_(i,n){return function(a,r){n(a,r,i)}}function f_(i,n,a,r,o,u){function f($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var d=r.kind,m=d==="getter"?"get":d==="setter"?"set":"value",p=!n&&i?r.static?i:i.prototype:null,v=n||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),_,w=!1,b=a.length-1;b>=0;b--){var A={};for(var C in r)A[C]=C==="access"?{}:r[C];for(var C in r.access)A.access[C]=r.access[C];A.addInitializer=function($){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f($||null))};var M=(0,a[b])(d==="accessor"?{get:v.get,set:v.set}:v[m],A);if(d==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(_=f(M.get))&&(v.get=_),(_=f(M.set))&&(v.set=_),(_=f(M.init))&&o.unshift(_)}else(_=f(M))&&(d==="field"?o.unshift(_):v[m]=_)}p&&Object.defineProperty(p,r.name,v),w=!0}function d_(i,n,a){for(var r=arguments.length>2,o=0;o<n.length;o++)a=r?n[o].call(i,a):n[o].call(i);return r?a:void 0}function m_(i){return typeof i=="symbol"?i:"".concat(i)}function g_(i,n,a){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:a?"".concat(a," ",n):n})}function p_(i,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,n)}function Z(i,n,a,r){function o(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function d(v){try{p(r.next(v))}catch(_){f(_)}}function m(v){try{p(r.throw(v))}catch(_){f(_)}}function p(v){v.done?u(v.value):o(v.value).then(d,m)}p((r=r.apply(i,n||[])).next())})}function y_(i,n){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=d(0),f.throw=d(1),f.return=d(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(p){return function(v){return m([p,v])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(a=0)),a;)try{if(r=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,o=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){a.label=p[1];break}if(p[0]===6&&a.label<u[1]){a.label=u[1],u=p;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(p);break}u[2]&&a.ops.pop(),a.trys.pop();continue}p=n.call(i,a)}catch(v){p=[6,v],o=0}finally{r=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Uo=Object.create?(function(i,n,a,r){r===void 0&&(r=a);var o=Object.getOwnPropertyDescriptor(n,a);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(i,r,o)}):(function(i,n,a,r){r===void 0&&(r=a),i[r]=n[a]});function __(i,n){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&Uo(n,i,a)}function bo(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],r=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function hf(i,n){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var r=a.call(i),o,u=[],f;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)u.push(o.value)}catch(d){f={error:d}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(f)throw f.error}}return u}function v_(){for(var i=[],n=0;n<arguments.length;n++)i=i.concat(hf(arguments[n]));return i}function b_(){for(var i=0,n=0,a=arguments.length;n<a;n++)i+=arguments[n].length;for(var r=Array(i),o=0,n=0;n<a;n++)for(var u=arguments[n],f=0,d=u.length;f<d;f++,o++)r[o]=u[f];return r}function w_(i,n,a){if(a||arguments.length===2)for(var r=0,o=n.length,u;r<o;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return i.concat(u||Array.prototype.slice.call(n))}function Fs(i){return this instanceof Fs?(this.v=i,this):new Fs(i)}function S_(i,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,n||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(b){return function(A){return Promise.resolve(A).then(b,_)}}function d(b,A){r[b]&&(o[b]=function(C){return new Promise(function(M,$){u.push([b,C,M,$])>1||m(b,C)})},A&&(o[b]=A(o[b])))}function m(b,A){try{p(r[b](A))}catch(C){w(u[0][3],C)}}function p(b){b.value instanceof Fs?Promise.resolve(b.value.v).then(v,_):w(u[0][2],b)}function v(b){m("next",b)}function _(b){m("throw",b)}function w(b,A){b(A),u.shift(),u.length&&m(u[0][0],u[0][1])}}function E_(i){var n,a;return n={},r("next"),r("throw",function(o){throw o}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(o,u){n[o]=i[o]?function(f){return(a=!a)?{value:Fs(i[o](f)),done:!1}:u?u(f):f}:u}}function O_(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],a;return n?n.call(i):(i=typeof bo=="function"?bo(i):i[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(u){a[u]=i[u]&&function(f){return new Promise(function(d,m){f=i[u](f),o(d,m,f.done,f.value)})}}function o(u,f,d,m){Promise.resolve(m).then(function(p){u({value:p,done:d})},f)}}function A_(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i}var SS=Object.create?(function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}):function(i,n){i.default=n},Bh=function(i){return Bh=Object.getOwnPropertyNames||function(n){var a=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[a.length]=r);return a},Bh(i)};function T_(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var a=Bh(i),r=0;r<a.length;r++)a[r]!=="default"&&Uo(n,i,a[r]);return SS(n,i),n}function R_(i){return i&&i.__esModule?i:{default:i}}function x_(i,n,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!r:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(i):r?r.value:n.get(i)}function C_(i,n,a,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?i!==n||!o:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(i,a):o?o.value=a:n.set(i,a),a}function j_(i,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?n===i:i.has(n)}function D_(i,n,a){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,o;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],a&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:n,dispose:r,async:a})}else a&&i.stack.push({async:!0});return n}var ES=typeof SuppressedError=="function"?SuppressedError:function(i,n,a){var r=new Error(a);return r.name="SuppressedError",r.error=i,r.suppressed=n,r};function N_(i){function n(u){i.error=i.hasError?new ES(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var a,r=0;function o(){for(;a=i.stack.pop();)try{if(!a.async&&r===1)return r=0,i.stack.push(a),Promise.resolve().then(o);if(a.dispose){var u=a.dispose.call(a.value);if(a.async)return r|=2,Promise.resolve(u).then(o,function(f){return n(f),o()})}else r|=1}catch(f){n(f)}if(r===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return o()}function M_(i,n){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,r,o,u,f){return r?n?".jsx":".js":o&&(!u||!f)?a:o+u+"."+f.toLowerCase()+"js"}):i}const OS={__extends:u_,__assign:vo,__rest:er,__decorate:c_,__param:h_,__esDecorate:f_,__runInitializers:d_,__propKey:m_,__setFunctionName:g_,__metadata:p_,__awaiter:Z,__generator:y_,__createBinding:Uo,__exportStar:__,__values:bo,__read:hf,__spread:v_,__spreadArrays:b_,__spreadArray:w_,__await:Fs,__asyncGenerator:S_,__asyncDelegator:E_,__asyncValues:O_,__makeTemplateObject:A_,__importStar:T_,__importDefault:R_,__classPrivateFieldGet:x_,__classPrivateFieldSet:C_,__classPrivateFieldIn:j_,__addDisposableResource:D_,__disposeResources:N_,__rewriteRelativeImportExtension:M_},AS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:D_,get __assign(){return vo},__asyncDelegator:E_,__asyncGenerator:S_,__asyncValues:O_,__await:Fs,__awaiter:Z,__classPrivateFieldGet:x_,__classPrivateFieldIn:j_,__classPrivateFieldSet:C_,__createBinding:Uo,__decorate:c_,__disposeResources:N_,__esDecorate:f_,__exportStar:__,__extends:u_,__generator:y_,__importDefault:R_,__importStar:T_,__makeTemplateObject:A_,__metadata:p_,__param:h_,__propKey:m_,__read:hf,__rest:er,__rewriteRelativeImportExtension:M_,__runInitializers:d_,__setFunctionName:g_,__spread:v_,__spreadArray:w_,__spreadArrays:b_,__values:bo,default:OS},Symbol.toStringTag,{value:"Module"})),TS=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class ff extends Error{constructor(n,a="FunctionsError",r){super(n),this.name=a,this.context=r}}class RS extends ff{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ey extends ff{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class ty extends ff{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Lh;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Lh||(Lh={}));class xS{constructor(n,{headers:a={},customFetch:r,region:o=Lh.Any}={}){this.url=n,this.headers=a,this.region=o,this.fetch=TS(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Z(this,arguments,void 0,function*(a,r={}){var o;let u,f;try{const{headers:d,method:m,body:p,signal:v,timeout:_}=r;let w={},{region:b}=r;b||(b=this.region);const A=new URL(`${this.url}/${a}`);b&&b!=="any"&&(w["x-region"]=b,A.searchParams.set("forceFunctionRegion",b));let C;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",C=p):typeof p=="string"?(w["Content-Type"]="text/plain",C=p):typeof FormData<"u"&&p instanceof FormData?C=p:(w["Content-Type"]="application/json",C=JSON.stringify(p)):C=p;let M=v;_&&(f=new AbortController,u=setTimeout(()=>f.abort(),_),v?(M=f.signal,v.addEventListener("abort",()=>f.abort())):M=f.signal);const $=yield this.fetch(A.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:C,signal:M}).catch(oe=>{throw new RS(oe)}),U=$.headers.get("x-relay-error");if(U&&U==="true")throw new ey($);if(!$.ok)throw new ty($);let H=((o=$.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return H==="application/json"?P=yield $.json():H==="application/octet-stream"||H==="application/pdf"?P=yield $.blob():H==="text/event-stream"?P=$:H==="multipart/form-data"?P=yield $.formData():P=yield $.text(),{data:P,error:null,response:$}}catch(d){return{data:null,error:d,response:d instanceof ty||d instanceof ey?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var _t={};const tr=hS(AS);var Yl={},Vl={},Xl={},Kl={},Ql={},Jl={},ny;function k_(){if(ny)return Jl;ny=1,Object.defineProperty(Jl,"__esModule",{value:!0});class i extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Jl.default=i,Jl}var ay;function U_(){if(ay)return Ql;ay=1,Object.defineProperty(Ql,"__esModule",{value:!0});const n=tr.__importDefault(k_());class a{constructor(o){var u,f;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(f=o.isMaybeSingle)!==null&&f!==void 0?f:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let d=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,v,_,w;let b=null,A=null,C=null,M=m.status,$=m.statusText;if(m.ok){if(this.method!=="HEAD"){const oe=await m.text();oe===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?A=oe:A=JSON.parse(oe))}const H=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),P=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");H&&P&&P.length>1&&(C=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(b={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,C=null,M=406,$="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const H=await m.text();try{b=JSON.parse(H),Array.isArray(b)&&m.status===404&&(A=[],b=null,M=200,$="OK")}catch{m.status===404&&H===""?(M=204,$="No Content"):b={message:H}}if(b&&this.isMaybeSingle&&(!((w=b?.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,M=200,$="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:A,count:C,status:M,statusText:$}});return this.shouldThrowOnError||(d=d.catch(m=>{var p,v,_;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,u)}returns(){return this}overrideTypes(){return this}}return Ql.default=a,Ql}var sy;function z_(){if(sy)return Kl;sy=1,Object.defineProperty(Kl,"__esModule",{value:!0});const n=tr.__importDefault(U_());class a extends n.default{select(o){let u=!1;const f=(o??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:f,foreignTable:d,referencedTable:m=d}={}){const p=m?`${m}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${o}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:f=u}={}){const d=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,u,{foreignTable:f,referencedTable:d=f}={}){const m=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:f=!1,buffers:d=!1,wal:m=!1,format:p="text"}={}){var v;const _=[o?"analyze":null,u?"verbose":null,f?"settings":null,d?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Kl.default=a,Kl}var ry;function df(){if(ry)return Xl;ry=1,Object.defineProperty(Xl,"__esModule",{value:!0});const n=tr.__importDefault(z_()),a=new RegExp("[,()]");class r extends n.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}in(u,f){const d=Array.from(new Set(f)).map(m=>typeof m=="string"&&a.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${d})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:d,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(u,`${p}fts${v}.${f}`),this}match(u){return Object.entries(u).forEach(([f,d])=>{this.url.searchParams.append(f,`eq.${d}`)}),this}not(u,f,d){return this.url.searchParams.append(u,`not.${f}.${d}`),this}or(u,{foreignTable:f,referencedTable:d=f}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,f,d){return this.url.searchParams.append(u,`${f}.${d}`),this}}return Xl.default=r,Xl}var iy;function B_(){if(iy)return Vl;iy=1,Object.defineProperty(Vl,"__esModule",{value:!0});const n=tr.__importDefault(df());class a{constructor(o,{headers:u={},schema:f,fetch:d}){this.url=o,this.headers=new Headers(u),this.schema=f,this.fetch=d}select(o,u){const{head:f=!1,count:d}=u??{},m=f?"HEAD":"GET";let p=!1;const v=(o??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:f=!0}={}){var d;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:f=!1,count:d,defaultToNull:m=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),d&&this.headers.append("Prefer",`count=${d}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(_.length>0){const w=[...new Set(_)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:u}={}){var f;const d="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:o}={}){var u;const f="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Vl.default=a,Vl}var ly;function CS(){if(ly)return Yl;ly=1,Object.defineProperty(Yl,"__esModule",{value:!0});const i=tr,n=i.__importDefault(B_()),a=i.__importDefault(df());class r{constructor(u,{headers:f={},schema:d,fetch:m}={}){this.url=u,this.headers=new Headers(f),this.schemaName=d,this.fetch=m}from(u){const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new r(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:d=!1,get:m=!1,count:p}={}){var v;let _;const w=new URL(`${this.url}/rpc/${u}`);let b;d||m?(_=d?"HEAD":"GET",Object.entries(f).filter(([C,M])=>M!==void 0).map(([C,M])=>[C,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([C,M])=>{w.searchParams.append(C,M)})):(_="POST",b=f);const A=new Headers(this.headers);return p&&A.set("Prefer",`count=${p}`),new a.default({method:_,url:w,headers:A,schema:this.schemaName,body:b,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Yl.default=r,Yl}var oy;function jS(){if(oy)return _t;oy=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const i=tr,n=i.__importDefault(CS());_t.PostgrestClient=n.default;const a=i.__importDefault(B_());_t.PostgrestQueryBuilder=a.default;const r=i.__importDefault(df());_t.PostgrestFilterBuilder=r.default;const o=i.__importDefault(z_());_t.PostgrestTransformBuilder=o.default;const u=i.__importDefault(U_());_t.PostgrestBuilder=u.default;const f=i.__importDefault(k_());return _t.PostgrestError=f.default,_t.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:f.default},_t}var L_=jS();const $_=cS(L_),DS=uS({__proto__:null,default:$_},[L_]),{PostgrestClient:NS,PostgrestQueryBuilder:ET,PostgrestFilterBuilder:OT,PostgrestTransformBuilder:AT,PostgrestBuilder:TT,PostgrestError:RT}=$_||DS;class MS{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const r=a.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const r=this.getWebSocketConstructor();return new r(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const kS="2.81.1",US=`realtime-js/${kS}`,q_="1.0.0",zS="2.0.0",uy=q_,$h=1e4,BS=1e3,LS=100;var Ya;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ya||(Ya={}));var tt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(tt||(tt={}));var an;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(an||(an={}));var qh;(function(i){i.websocket="websocket"})(qh||(qh={}));var Va;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Va||(Va={}));class $S{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(n,a){if(this._isArrayBuffer(n.payload))return a(this._binaryEncodePush(n));if(n.event===this.BROADCAST&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return a(JSON.stringify(r))}_binaryEncodePush(n){const{join_ref:a,ref:r,event:o,topic:u,payload:f}=n,d=this.META_LENGTH+a.length+r.length+u.length+o.length,m=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(m),v=0;p.setUint8(v++,this.KINDS.push),p.setUint8(v++,a.length),p.setUint8(v++,r.length),p.setUint8(v++,u.length),p.setUint8(v++,o.length),Array.from(a,w=>p.setUint8(v++,w.charCodeAt(0))),Array.from(r,w=>p.setUint8(v++,w.charCodeAt(0))),Array.from(u,w=>p.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>p.setUint8(v++,w.charCodeAt(0)));var _=new Uint8Array(m.byteLength+f.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(f),m.byteLength),_.buffer}_binaryEncodeUserBroadcastPush(n){var a;return this._isArrayBuffer((a=n.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var a,r;const{join_ref:o,ref:u,topic:f}=n,d=n.payload.event,m=(r=(a=n.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+u.length+f.length+d.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let _=new DataView(v),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,o.length),_.setUint8(w++,u.length),_.setUint8(w++,f.length),_.setUint8(w++,d.length),_.setUint8(w++,this.BINARY_ENCODING),Array.from(o,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(u,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(f,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(d,A=>_.setUint8(w++,A.charCodeAt(0)));var b=new Uint8Array(v.byteLength+m.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(m),v.byteLength),b.buffer}_encodeJsonUserBroadcastPush(n){var a,r;const{join_ref:o,ref:u,topic:f}=n,d=n.payload.event,m=(r=(a=n.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:{},v=new TextEncoder().encode(JSON.stringify(m)).buffer,_=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+u.length+f.length+d.length,w=new ArrayBuffer(this.HEADER_LENGTH+_);let b=new DataView(w),A=0;b.setUint8(A++,this.KINDS.userBroadcastPush),b.setUint8(A++,o.length),b.setUint8(A++,u.length),b.setUint8(A++,f.length),b.setUint8(A++,d.length),b.setUint8(A++,this.JSON_ENCODING),Array.from(o,M=>b.setUint8(A++,M.charCodeAt(0))),Array.from(u,M=>b.setUint8(A++,M.charCodeAt(0))),Array.from(f,M=>b.setUint8(A++,M.charCodeAt(0))),Array.from(d,M=>b.setUint8(A++,M.charCodeAt(0)));var C=new Uint8Array(w.byteLength+v.byteLength);return C.set(new Uint8Array(w),0),C.set(new Uint8Array(v),w.byteLength),C.buffer}decode(n,a){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return a(r)}if(typeof n=="string"){const r=JSON.parse(n),[o,u,f,d,m]=r;return a({join_ref:o,ref:u,topic:f,event:d,payload:m})}return a({})}_binaryDecode(n){const a=new DataView(n),r=a.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(n,a,o);case this.KINDS.reply:return this._decodeReply(n,a,o);case this.KINDS.broadcast:return this._decodeBroadcast(n,a,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,a,o)}}_decodePush(n,a,r){const o=a.getUint8(1),u=a.getUint8(2),f=a.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const m=r.decode(n.slice(d,d+o));d=d+o;const p=r.decode(n.slice(d,d+u));d=d+u;const v=r.decode(n.slice(d,d+f));d=d+f;const _=JSON.parse(r.decode(n.slice(d,n.byteLength)));return{join_ref:m,ref:null,topic:p,event:v,payload:_}}_decodeReply(n,a,r){const o=a.getUint8(1),u=a.getUint8(2),f=a.getUint8(3),d=a.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const p=r.decode(n.slice(m,m+o));m=m+o;const v=r.decode(n.slice(m,m+u));m=m+u;const _=r.decode(n.slice(m,m+f));m=m+f;const w=r.decode(n.slice(m,m+d));m=m+d;const b=JSON.parse(r.decode(n.slice(m,n.byteLength))),A={status:w,response:b};return{join_ref:p,ref:v,topic:_,event:an.reply,payload:A}}_decodeBroadcast(n,a,r){const o=a.getUint8(1),u=a.getUint8(2);let f=this.HEADER_LENGTH+2;const d=r.decode(n.slice(f,f+o));f=f+o;const m=r.decode(n.slice(f,f+u));f=f+u;const p=JSON.parse(r.decode(n.slice(f,n.byteLength)));return{join_ref:null,ref:null,topic:d,event:m,payload:p}}_decodeUserBroadcast(n,a,r){const o=a.getUint8(1),u=a.getUint8(2),f=a.getUint8(3),d=a.getUint8(4);let m=this.HEADER_LENGTH+4;const p=r.decode(n.slice(m,m+o));m=m+o;const v=r.decode(n.slice(m,m+u));m=m+u;const _=r.decode(n.slice(m,m+f));m=m+f;const w=n.slice(m,n.byteLength),b=d===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,A={type:this.BROADCAST,event:v,payload:b};return f>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:A}}_isArrayBuffer(n){var a;return n instanceof ArrayBuffer||((a=n?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}}class H_{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Be||(Be={}));const cy=(i,n,a={})=>{var r;const o=(r=a.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=qS(f,i,n,o),u),{}):{}},qS=(i,n,a,r)=>{const o=n.find(d=>d.name===i),u=o?.type,f=a[i];return u&&!r.includes(u)?I_(u,f):Hh(f)},I_=(i,n)=>{if(i.charAt(0)==="_"){const a=i.slice(1,i.length);return GS(n,a)}switch(i){case Be.bool:return HS(n);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return IS(n);case Be.json:case Be.jsonb:return PS(n);case Be.timestamp:return YS(n);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Hh(n);default:return Hh(n)}},Hh=i=>i,HS=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},IS=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},PS=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},GS=(i,n)=>{if(typeof i!="string")return i;const a=i.length-1,r=i[a];if(i[0]==="{"&&r==="}"){let u;const f=i.slice(1,a);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(d=>I_(n,d))}return i},YS=i=>typeof i=="string"?i.replace(" ","T"):i,P_=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class _h{constructor(n,a,r={},o=$h){this.channel=n,this.event=a,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var r;return this._hasReceived(n)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var hy;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(hy||(hy={}));class fi{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:u,onLeave:f,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fi.syncState(this.state,o,u,f),this.pendingDiffs.forEach(m=>{this.state=fi.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=fi.syncDiff(this.state,o,u,f),d())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,r,o){const u=this.cloneDeep(n),f=this.transformState(a),d={},m={};return this.map(u,(p,v)=>{f[p]||(m[p]=v)}),this.map(f,(p,v)=>{const _=u[p];if(_){const w=v.map(M=>M.presence_ref),b=_.map(M=>M.presence_ref),A=v.filter(M=>b.indexOf(M.presence_ref)<0),C=_.filter(M=>w.indexOf(M.presence_ref)<0);A.length>0&&(d[p]=A),C.length>0&&(m[p]=C)}else d[p]=v}),this.syncDiff(u,{joins:d,leaves:m},r,o)}static syncDiff(n,a,r,o){const{joins:u,leaves:f}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(u,(d,m)=>{var p;const v=(p=n[d])!==null&&p!==void 0?p:[];if(n[d]=this.cloneDeep(m),v.length>0){const _=n[d].map(b=>b.presence_ref),w=v.filter(b=>_.indexOf(b.presence_ref)<0);n[d].unshift(...w)}r(d,v,m)}),this.map(f,(d,m)=>{let p=n[d];if(!p)return;const v=m.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),n[d]=p,o(d,p,m),p.length===0&&delete n[d]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(r=>a(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,r)=>{const o=n[r];return"metas"in o?a[r]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[r]=o,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fy;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(fy||(fy={}));var di;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(di||(di={}));var In;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(In||(In={}));class mf{constructor(n,a={config:{}},r){var o,u;if(this.topic=n,this.params=a,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new _h(this,an.join,this.params,this.timeout),this.rejoinTimer=new H_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(f,d)=>{this._trigger(this._replyEventName(d),f)}),this.presence=new fi(this),this.broadcastEndpointURL=P_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,a=this.timeout){var r,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:f,presence:d,private:m}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[di.PRESENCE]&&this.bindings[di.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},w={broadcast:f,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(b=>n?.(In.CHANNEL_ERROR,b)),this._onClose(()=>n?.(In.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:b})=>{var A;if(this.socket.setAuth(),b===void 0){n?.(In.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,M=(A=C?.length)!==null&&A!==void 0?A:0,$=[];for(let U=0;U<M;U++){const H=C[U],{filter:{event:P,schema:oe,table:F,filter:G}}=H,fe=b&&b[U];if(fe&&fe.event===P&&fe.schema===oe&&fe.table===F&&fe.filter===G)$.push(Object.assign(Object.assign({},H),{id:fe.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,n&&n(In.SUBSCRIBED);return}}).receive("error",b=>{this.state=tt.errored,n?.(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{n?.(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,r){return this.state===tt.joined&&n===di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,a,r)}async httpSend(n,a,r={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:a,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const p=await d.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(n,a={}){var r,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,d,m;const p=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(d=(f=this.params)===null||f===void 0?void 0:f.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new _h(this,an.leave,{},n),r.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,a,r){const o=new AbortController,u=setTimeout(()=>o.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),f}_push(n,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new _h(this,n,a,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>LS){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,r){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,r){var o,u;const f=n.toLocaleLowerCase(),{close:d,error:m,leave:p,join:v}=an;if(r&&[d,m,p,v].indexOf(f)>=0&&r!==this._joinRef())return;let w=this._onMessage(f,a,r);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var A,C,M;return((A=b.filter)===null||A===void 0?void 0:A.event)==="*"||((M=(C=b.filter)===null||C===void 0?void 0:C.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(b=>b.callback(w,r)):(u=this.bindings[f])===null||u===void 0||u.filter(b=>{var A,C,M,$,U,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in b){const P=b.id,oe=(A=b.filter)===null||A===void 0?void 0:A.event;return P&&((C=a.ids)===null||C===void 0?void 0:C.includes(P))&&(oe==="*"||oe?.toLocaleLowerCase()===((M=a.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const P=(U=($=b?.filter)===null||$===void 0?void 0:$.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return P==="*"||P===((H=a?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===f}).map(b=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:C,table:M,commit_timestamp:$,type:U,errors:H}=A;w=Object.assign(Object.assign({},{schema:C,table:M,commit_timestamp:$,eventType:U,new:{},old:{},errors:H}),this._getPayloadRecords(A))}b.callback(w,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,r){const o=n.toLocaleLowerCase(),u={type:o,filter:a,callback:r};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,a){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&mf.isEqual(o.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const r in n)if(n[r]!==a[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(an.close,{},n)}_onError(n){this._on(an.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=cy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=cy(n.columns,n.old_record)),a}}const vh=()=>{},Wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VS=[1e3,2e3,5e3,1e4],XS=1e4,KS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QS{constructor(n,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$h,this.transport=null,this.heartbeatIntervalMs=Wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vh,this.ref=0,this.reconnectTimer=null,this.vsn=uy,this.logger=vh,this.conn=null,this.sendBuffer=[],this.serializer=new $S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((r=a?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${qh.websocket}`,this.httpEndpoint=P_(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MS.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,r){this.logger(n,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ya.connecting:return Va.Connecting;case Ya.open:return Va.Open;case Ya.closing:return Va.Closing;default:return Va.Closed}}isConnected(){return this.connectionState()===Va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const r=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===r);if(o)return o;{const u=new mf(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:r,payload:o,ref:u}=n,f=()=>{this.encode(n,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${a} ${r} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(BS,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:u,ref:f}=a,d=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${r} ${o} ${d}`.trim(),u),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,u,f)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ya.open||this.conn.readyState===Ya.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(an.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const r=n.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${n}${r}${o}`}_workerObjectUrl(n){let a;if(n)a=n;else{const r=new Blob([KS],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a;n?a=n:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(r=>{const o={access_token:a,version:US};a&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(an.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(a)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new H_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,r,o,u,f,d,m,p,v,_,w,b;switch(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:$h,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Wl.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:vh,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:uy,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(A=>VS[A-1]||XS),this.vsn){case q_:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((A,C)=>C(JSON.stringify(A))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((A,C)=>C(JSON.parse(A)));break;case zS:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=n?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class gf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function He(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class JS extends gf{constructor(n,a,r){super(n),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ih extends gf{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}const pf=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),WS=()=>Response,Ph=i=>{if(Array.isArray(i))return i.map(a=>Ph(a));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([a,r])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Ph(r)}),n},ZS=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},bh=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},FS=(i,n,a)=>Z(void 0,void 0,void 0,function*(){const r=yield WS();i instanceof r&&!a?.noResolveJson?i.json().then(o=>{const u=i.status||500,f=o?.statusCode||u+"";n(new JS(bh(o),u,f))}).catch(o=>{n(new Ih(bh(o),o))}):n(new Ih(bh(i),i))}),eE=(i,n,a,r)=>{const o={method:i,headers:n?.headers||{}};return i==="GET"||!r?o:(ZS(r)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(r)):o.body=r,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),a))};function Si(i,n,a,r,o,u){return Z(this,void 0,void 0,function*(){return new Promise((f,d)=>{i(a,eE(n,r,o,u)).then(m=>{if(!m.ok)throw m;return r?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>FS(m,d,r))})})}function yi(i,n,a,r){return Z(this,void 0,void 0,function*(){return Si(i,"GET",n,a,r)})}function dn(i,n,a,r,o){return Z(this,void 0,void 0,function*(){return Si(i,"POST",n,r,o,a)})}function Gh(i,n,a,r,o){return Z(this,void 0,void 0,function*(){return Si(i,"PUT",n,r,o,a)})}function tE(i,n,a,r){return Z(this,void 0,void 0,function*(){return Si(i,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function yf(i,n,a,r,o){return Z(this,void 0,void 0,function*(){return Si(i,"DELETE",n,r,o,a)})}class nE{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}var G_;class aE{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[G_]="BlobDownloadBuilder",this.promise=null}asStream(){return new nE(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}G_=Symbol.toStringTag;const sE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rE{constructor(n,a={},r,o){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.bucketId=r,this.fetch=pf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,a,r,o){return Z(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},dy),o);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=r,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType,m&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(a),v=this._getFinalPath(p),_=yield(n=="PUT"?Gh:dn)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:d},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}})}upload(n,a,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,r)})}uploadToSignedUrl(n,a,r,o){return Z(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${f}`);d.searchParams.set("token",a);try{let m;const p=Object.assign({upsert:dy.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const _=yield Gh(this.fetch,d.toString(),m,{headers:v});return{data:{path:u,fullPath:_.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(He(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,a){return Z(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const o=Object.assign({},this.headers);a?.upsert&&(o["x-upsert"]="true");const u=yield dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),f=new URL(this.url+u.url),d=f.searchParams.get("token");if(!d)throw new gf("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}update(n,a,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,r)})}move(n,a,r){return Z(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}copy(n,a,r){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrl(n,a,r){return Z(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield dn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrls(n,a,r){return Z(this,void 0,void 0,function*(){try{const o=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}download(n,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),f=u?`?${u}`:"",d=this._getFinalPath(n),m=()=>yi(this.fetch,`${this.url}/${o}/${d}${f}`,{headers:this.headers,noResolveJson:!0});return new aE(m,this.shouldThrowOnError)}info(n){return Z(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const r=yield yi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Ph(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}exists(n){return Z(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield tE(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r)&&r instanceof Ih){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,a){const r=this._getFinalPath(n),o=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&o.push(u);const d=typeof a?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(a?.transform||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${p}`)}}}remove(n){return Z(this,void 0,void 0,function*(){try{return{data:yield yf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}list(n,a,r){return Z(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},sE),a),{prefix:n||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}listV2(n,a){return Z(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const Y_="2.81.1",V_={"X-Client-Info":`storage-js/${Y_}`};class iE{constructor(n,a={},r,o){this.shouldThrowOnError=!1;const u=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V_),a),this.fetch=pf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return Z(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(n);return{data:yield yi(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}getBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createBucket(n){return Z(this,arguments,void 0,function*(a,r={public:!1}){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}updateBucket(n,a){return Z(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:yield yf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}class lE{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V_),a),this.fetch=pf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listBuckets(n){return Z(this,void 0,void 0,function*(){try{const a=new URLSearchParams;n?.limit!==void 0&&a.set("limit",n.limit.toString()),n?.offset!==void 0&&a.set("offset",n.offset.toString()),n?.sortColumn&&a.set("sortColumn",n.sortColumn),n?.sortOrder&&a.set("sortOrder",n.sortOrder),n?.search&&a.set("search",n.search);const r=a.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield yi(this.fetch,o,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:yield yf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}}const _f={"X-Client-Info":`storage-js/${Y_}`,"Content-Type":"application/json"};class X_ extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class wh extends X_{constructor(n,a,r){super(n),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oE extends X_{constructor(n,a){super(n),this.name="StorageVectorsUnknownError",this.originalError=a}}var my;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(my||(my={}));const vf=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),uE=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},gy=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),cE=(i,n,a)=>Z(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!a?.noResolveJson){const o=i.status||500,u=i;if(typeof u.json=="function")u.json().then(f=>{const d=f?.statusCode||f?.code||o+"";n(new wh(gy(f),o,d))}).catch(()=>{const f=o+"",d=u.statusText||`HTTP ${o} error`;n(new wh(d,o,f))});else{const f=o+"",d=u.statusText||`HTTP ${o} error`;n(new wh(d,o,f))}}else n(new oE(gy(i),i))}),hE=(i,n,a,r)=>{const o={method:i,headers:n?.headers||{}};return r?(uE(r)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),a)):o};function fE(i,n,a,r,o,u){return Z(this,void 0,void 0,function*(){return new Promise((f,d)=>{i(a,hE(n,r,o,u)).then(m=>{if(!m.ok)throw m;if(r?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>cE(m,d,r))})})}function Vt(i,n,a,r,o){return Z(this,void 0,void 0,function*(){return fE(i,"POST",n,r,o,a)})}class dE{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_f),a),this.fetch=vf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return Z(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}getIndex(n,a){return Z(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listIndexes(n){return Z(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}deleteIndex(n,a){return Z(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class mE{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_f),a),this.fetch=vf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return Z(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}getVectors(n){return Z(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}listVectors(n){return Z(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Vt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}queryVectors(n){return Z(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}deleteVectors(n){return Z(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}}class gE{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_f),a),this.fetch=vf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}getBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}listBuckets(){return Z(this,arguments,void 0,function*(n={}){try{return{data:yield Vt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Z(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}}class pE extends gE{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new yE(this.url,this.headers,n,this.fetch)}}class yE extends dE{constructor(n,a,r,o){super(n,a,o),this.vectorBucketName=r}createIndex(n){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(a={}){return n.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new _E(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class _E extends mE{constructor(n,a,r,o,u){super(n,a,u),this.vectorBucketName=r,this.indexName=o}putVectors(n){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(a={}){return n.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vE extends iE{constructor(n,a={},r,o){super(n,a,r,o)}from(n){return new rE(this.url,this.headers,n,this.fetch)}get vectors(){return new pE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lE(this.url+"/iceberg",this.headers,this.fetch)}}const bE="2.81.1";let ni="";typeof Deno<"u"?ni="deno":typeof document<"u"?ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ni="react-native":ni="node";const wE={"X-Client-Info":`supabase-js-${ni}/${bE}`},SE={headers:wE},EE={schema:"public"},OE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AE={},TE=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),RE=()=>Headers,xE=(i,n,a)=>{const r=TE(a),o=RE();return async(u,f)=>{var d;const m=(d=await n())!==null&&d!==void 0?d:i;let p=new o(f?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(u,Object.assign(Object.assign({},f),{headers:p}))}};function CE(i){return i.endsWith("/")?i:i+"/"}function jE(i,n){var a,r;const{db:o,auth:u,realtime:f,global:d}=i,{db:m,auth:p,realtime:v,global:_}=n,w={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(a=_?.headers)!==null&&a!==void 0?a:{}),(r=d?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?w.accessToken=i.accessToken:delete w.accessToken,w}function DE(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CE(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const K_="2.81.1",Vs=30*1e3,Yh=3,Sh=Yh*Vs,NE="http://localhost:9999",ME="supabase.auth.token",kE={"X-Client-Info":`gotrue-js/${K_}`},Vh="X-Supabase-Api-Version",Q_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zE=600*1e3;class _i extends Error{constructor(n,a,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function te(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class BE extends _i{constructor(n,a,r){super(n,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function LE(i){return te(i)&&i.name==="AuthApiError"}class Xa extends _i{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class ba extends _i{constructor(n,a,r,o){super(n,r,o),this.name=a,this.status=r}}class hn extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $E(i){return te(i)&&i.name==="AuthSessionMissingError"}class Bs extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zl extends ba{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Fl extends ba{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qE(i){return te(i)&&i.name==="AuthImplicitGrantRedirectError"}class py extends ba{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xh extends ba{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function Eh(i){return te(i)&&i.name==="AuthRetryableFetchError"}class yy extends ba{constructor(n,a,r){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class Kh extends ba{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_y=` 	
\r=`.split(""),HE=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<_y.length;n+=1)i[_y[n].charCodeAt(0)]=-2;for(let n=0;n<wo.length;n+=1)i[wo[n].charCodeAt(0)]=n;return i})();function vy(i,n,a){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;a(wo[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;a(wo[r]),n.queuedBits-=6}}function J_(i,n,a){const r=HE[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function by(i){const n=[],a=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{GE(f,r,a)};for(let f=0;f<i.length;f+=1)J_(i.charCodeAt(f),o,u);return n.join("")}function IE(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function PE(i,n){for(let a=0;a<i.length;a+=1){let r=i.charCodeAt(a);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(i.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}IE(r,n)}}function GE(i,n,a){if(n.utf8seq===0){if(i<=127){a(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function Zs(i){const n=[],a={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<i.length;o+=1)J_(i.charCodeAt(o),a,r);return new Uint8Array(n)}function YE(i){const n=[];return PE(i,a=>n.push(a)),new Uint8Array(n)}function Qa(i){const n=[],a={queue:0,queuedBits:0},r=o=>{n.push(o)};return i.forEach(o=>vy(o,a,r)),vy(null,a,r),n.join("")}function VE(i){return Math.round(Date.now()/1e3)+i}function XE(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},W_=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function KE(i){const n={},a=new URL(i);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return a.searchParams.forEach((r,o)=>{n[o]=r}),n}const Z_=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),QE=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Xs=async(i,n,a)=>{await i.setItem(n,JSON.stringify(a))},Ha=async(i,n)=>{const a=await i.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ga=async(i,n)=>{await i.removeItem(n)};class zo{constructor(){this.promise=new zo.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}zo.promiseConstructor=Promise;function Oh(i){const n=i.split(".");if(n.length!==3)throw new Kh("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!UE.test(n[r]))throw new Kh("JWT not in base64url format");return{header:JSON.parse(by(n[0])),payload:JSON.parse(by(n[1])),signature:Zs(n[2]),raw:{header:n[0],payload:n[1]}}}async function JE(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function WE(i,n){return new Promise((r,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await i(u);if(!n(u,null,f)){r(f);return}}catch(f){if(!n(u,f)){o(f);return}}})()})}function ZE(i){return("0"+i.toString(16)).substr(-2)}function FE(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,ZE).join("")}async function eO(i){const a=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(r);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function tO(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const a=await eO(i);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(i,n,a=!1){const r=FE();let o=r;a&&(o+="/PASSWORD_RECOVERY"),await Xs(i,`${n}-code-verifier`,o);const u=await tO(r);return[u,r===u?"plain":"s256"]}const nO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aO(i){const n=i.headers.get(Vh);if(!n||!n.match(nO))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function sO(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function rO(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(i){if(!iO.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ah(){const i={};return new Proxy(i,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lO(i,n){return new Proxy(i,{get:(a,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const u=r.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,r,o)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(a,r,o)}})}function wy(i){return JSON.parse(JSON.stringify(i))}const Ia=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),oO=[502,503,504];async function Sy(i){var n;if(!QE(i))throw new Xh(Ia(i),0);if(oO.includes(i.status))throw new Xh(Ia(i),i.status);let a;try{a=await i.json()}catch(u){throw new Xa(Ia(u),u)}let r;const o=aO(i);if(o&&o.getTime()>=Q_["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new yy(Ia(a),i.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new yy(Ia(a),i.status,a.weak_password.reasons);throw new BE(Ia(a),i.status||500,r)}const uO=(i,n,a,r)=>{const o={method:i,headers:n?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),a))};async function ie(i,n,a,r){var o;const u=Object.assign({},r?.headers);u[Vh]||(u[Vh]=Q_["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const f=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const d=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await cO(i,n,a+d,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function cO(i,n,a,r,o,u){const f=uO(n,r,o,u);let d;try{d=await i(a,Object.assign({},f))}catch(m){throw console.error(m),new Xh(Ia(m),0)}if(d.ok||await Sy(d),r?.noResolveJson)return d;try{return await d.json()}catch(m){await Sy(m)}}function fn(i){var n;let a=null;dO(i)&&(a=Object.assign({},i),i.expires_at||(a.expires_at=VE(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:a,user:r},error:null}}function Ey(i){const n=fn(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function va(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function hO(i){return{data:i,error:null}}function fO(i){const{action_link:n,email_otp:a,hashed_token:r,redirect_to:o,verification_type:u}=i,f=er(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:a,hashed_token:r,redirect_to:o,verification_type:u},m=Object.assign({},f);return{data:{properties:d,user:m},error:null}}function Oy(i){return i}function dO(i){return i.access_token&&i.refresh_token&&i.expires_in}const Th=["global","local","others"];class mO{constructor({url:n="",headers:a={},fetch:r}){this.url=n,this.headers=a,this.fetch=Z_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,a=Th[0]){if(Th.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Th.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,a={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:va})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:a}=n,r=er(n,["options"]),o=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fO,redirectTo:a?.redirectTo})}catch(a){if(te(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:va})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,r,o,u,f,d,m;try{const p={nextPage:null,lastPage:0,total:0},v=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Oy});if(v.error)throw v.error;const _=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(m=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(A.split(";")[1].split("=")[1]);p[`${M}Page`]=C}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(te(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){$s(n);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:va})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){$s(n);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:va})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,a=!1){$s(n);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:va})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){$s(n.userId);try{const{data:a,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:r}}catch(a){if(te(a))return{data:null,error:a};throw a}}async _deleteFactor(n){$s(n.userId),$s(n.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}}async _listOAuthClients(n){var a,r,o,u,f,d,m;try{const p={nextPage:null,lastPage:0,total:0},v=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Oy});if(v.error)throw v.error;const _=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(m=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(A.split(";")[1].split("=")[1]);p[`${M}Page`]=C}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(te(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}async _getOAuthClient(n){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}async _updateOAuthClient(n,a){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}}function Ay(i={}){return{getItem:n=>i[n]||null,setItem:(n,a)=>{i[n]=a},removeItem:n=>{delete i[n]}}}const qs={debug:!!(globalThis&&W_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class gO extends F_{}async function pO(i,n,a){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await a()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(n===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new gO(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(qs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function yO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e0(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function _O(i){return parseInt(i,16)}function vO(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function bO(i){var n;const{chainId:a,domain:r,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:d,requestId:m,resources:p,scheme:v,uri:_,version:w}=i;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const b=e0(i.address),A=v?`${v}://${r}`:r,C=i.statement?`${i.statement}
`:"",M=`${A} wants you to sign in with your Ethereum account:
${b}

${C}`;let $=`URI: ${_}
Version: ${w}
Chain ID: ${a}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&($+=`
Expiration Time: ${o.toISOString()}`),d&&($+=`
Not Before: ${d.toISOString()}`),m&&($+=`
Request ID: ${m}`),p){let U=`
Resources:`;for(const H of p){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);U+=`
- ${H}`}$+=U}return`${M}
${$}`}class We extends Error{constructor({message:n,code:a,cause:r,name:o}){var u;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(u=o??(r instanceof Error?r.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class So extends We{constructor(n,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:n}),this.name="WebAuthnUnknownError",this.originalError=a}}function wO({error:i,options:n}){var a,r,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=u.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new We({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(t0(f)){if(u.rp.id!==f)return new We({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function SO({error:i,options:n}){const{publicKey:a}=n;if(!a)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new We({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(t0(r)){if(a.rpId!==r)return new We({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class EO{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const OO=new EO;function AO(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:a,excludeCredentials:r}=i,o=er(i,["challenge","user","excludeCredentials"]),u=Zs(n).buffer,f=Object.assign(Object.assign({},a),{id:Zs(a.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:u,user:f});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];d.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Zs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function TO(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:a}=i,r=er(i,["challenge","allowCredentials"]),o=Zs(n).buffer,u=Object.assign(Object.assign({},r),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const d=a[f];u.allowCredentials[f]=Object.assign(Object.assign({},d),{id:Zs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function RO(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const a=i;return{id:i.id,rawId:i.id,response:{attestationObject:Qa(new Uint8Array(i.response.attestationObject)),clientDataJSON:Qa(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function xO(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const a=i,r=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Qa(new Uint8Array(o.authenticatorData)),clientDataJSON:Qa(new Uint8Array(o.clientDataJSON)),signature:Qa(new Uint8Array(o.signature)),userHandle:o.userHandle?Qa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function t0(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Ty(){var i,n;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function CO(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new So("Browser returned unexpected credential type",n)}:{data:null,error:new So("Empty credential response",n)}}catch(n){return{data:null,error:wO({error:n,options:i})}}}async function jO(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new So("Browser returned unexpected credential type",n)}:{data:null,error:new So("Empty credential response",n)}}catch(n){return{data:null,error:SO({error:n,options:i})}}}const DO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Eo(...i){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of i)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))r[u]=f;else if(a(f))r[u]=f;else if(n(f)){const d=r[u];n(d)?r[u]=Eo(d,f):r[u]=Eo(f)}else r[u]=f}return r}function MO(i,n){return Eo(DO,i,n||{})}function kO(i,n){return Eo(NO,i,n||{})}class UO{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:a,friendlyName:r,signal:o},u){try{const{data:f,error:d}=await this.client.mfa.challenge({factorId:n,webauthn:a});if(!f)return{data:null,error:d};const m=o??OO.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=MO(f.webauthn.credential_options.publicKey,u?.create),{data:v,error:_}=await CO({publicKey:p,signal:m});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const p=kO(f.webauthn.credential_options.publicKey,u?.request),{data:v,error:_}=await jO(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:m}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Xa("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new _i("rpId is required for WebAuthn authentication")};try{if(!Ty())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:f,error:d}=await this.challenge({factorId:n,webauthn:{rpId:a,rpOrigins:r},signal:o},{request:u});if(!f)return{data:null,error:d};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:a,rpOrigins:r,credential_response:m.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Xa("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new _i("rpId is required for WebAuthn registration")};try{if(!Ty())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:f,error:d}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:m,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:o},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:a,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Xa("Unexpected error in register",f)}}}}yO();const zO={url:NE,storageKey:ME,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ry(i,n,a){return await a()}const Hs={};class vi{get jwks(){var n,a;return(a=(n=Hs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Hs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{cachedAt:n})}constructor(n){var a,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},zO),n);if(this.storageKey=u.storageKey,this.instanceID=(a=vi.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,vi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new mO({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Z_(u.fetch),this.lock=u.lock||Ry,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:dt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=pO:this.lock=Ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:W_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ay(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ay(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K_}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let a={},r="none";if(dt()&&(a=KE(window.location.href),this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce")),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),qE(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",d),await this._saveSession(f),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return te(a)?this._returnResult({error:a}):this._returnResult({error:new Xa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,r,o;try{const u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:fn}),{data:f,error:d}=u;if(d||!f)return this._returnResult({data:{user:null,session:null},error:d});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var a,r,o;try{let u;if("email"in n){const{email:v,password:_,options:w}=n;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await Ls(this.storage,this.storageKey)),u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(a=w?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:A},xform:fn})}else if("phone"in n){const{phone:v,password:_,options:w}=n;u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:fn})}else throw new Zl("You must provide either an email or phone number and a password");const{data:f,error:d}=u;if(d||!f)return this._returnResult({data:{user:null,session:null},error:d});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:f,options:d}=n;a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ey})}else if("phone"in n){const{phone:u,password:f,options:d}=n;a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ey})}else throw new Zl("You must provide either an email or phone number and a password");const{data:r,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const u=new Bs;return this._returnResult({data:{user:null,session:null},error:u})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(n){var a,r,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;switch(a){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(n){var a,r,o,u,f,d,m,p,v,_,w;let b,A;if("message"in n)b=n.message,A=n.signature;else{const{chain:C,wallet:M,statement:$,options:U}=n;let H;if(dt())if(typeof M=="object")H=M;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")H=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=M}const P=new URL((a=U?.url)!==null&&a!==void 0?a:window.location.href),oe=await H.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!oe||oe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=e0(oe[0]);let G=(r=U?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!G){const ge=await H.request({method:"eth_chainId"});G=_O(ge)}const fe={domain:P.host,address:F,statement:$,uri:P.href,version:"1",chainId:G,nonce:(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=U?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(d=U?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=bO(fe),A=await H.request({method:"personal_sign",params:[vO(b),F]})}try{const{data:C,error:M}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:A},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:fn});if(M)throw M;if(!C||!C.session||!C.user){const $=new Bs;return this._returnResult({data:{user:null,session:null},error:$})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:M})}catch(C){if(te(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var a,r,o,u,f,d,m,p,v,_,w,b;let A,C;if("message"in n)A=n.message,C=n.signature;else{const{chain:M,wallet:$,statement:U,options:H}=n;let P;if(dt())if(typeof $=="object")P=$;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))P=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=$}const oe=new URL((a=H?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in P&&P.signIn){const F=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),U?{statement:U}:null));let G;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")G=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)G=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)A=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),C=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${oe.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(o=(r=H?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=H?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((d=H?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((_=(v=H?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...H.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const F=await P.signMessage(new TextEncoder().encode(A),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=F}}try{const{data:M,error:$}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Qa(C)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fn});if($)throw $;if(!M||!M.session||!M.user){const U=new Bs;return this._returnResult({data:{user:null,session:null},error:U})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:$})}catch(M){if(te(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(n){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(a??"").split("/");try{const{data:u,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:fn});if(await ga(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const d=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:a,provider:r,token:o,access_token:u,nonce:f}=n,d=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:fn}),{data:m,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const v=new Bs;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(n){var a,r,o,u,f;try{if("email"in n){const{email:d,options:m}=n;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ls(this.storage,this.storageKey));const{error:_}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:d,options:m}=n,{data:p,error:v}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Zl("You must provide either an email or phone number.")}catch(d){if(te(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var a,r;try{let o,u;"options"in n&&(o=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:d}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:fn});if(d)throw d;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,p=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var a,r,o,u,f;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Ls(this.storage,this.storageKey));const p=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:hO});return!((u=p.data)===null||u===void 0)&&u.url&&dt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(te(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;if(r)throw r;if(!a)throw new hn;const{error:o}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:r,type:o,options:u}=n,{error:f}=await ie(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:o,options:u}=n,{data:f,error:d}=await ie(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:d})}throw new Zl("You must provide either an email or phone number and a type")}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await Ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Sh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Ha(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Ah()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=lO(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:va}):await this._useSession(async a=>{var r,o,u;const{data:f,error:d}=a;if(d)throw d;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:va})})}catch(a){if(te(a))return $E(a)&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async r=>{const{data:o,error:u}=r;if(u)throw u;if(!o.session)throw new hn;const f=o.session;let d=null,m=null;this.flowType==="pkce"&&n.email!=null&&([d,m]=await Ls(this.storage,this.storageKey));const{data:p,error:v}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:m}),jwt:f.access_token,xform:va});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new hn;const a=Date.now()/1e3;let r=a,o=!0,u=null;const{payload:f}=Oh(n.access_token);if(f.exp&&(r=f.exp,o=r<=a),o){const{data:d,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(te(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var r;if(!n){const{data:f,error:d}=a;if(d)throw d;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new hn;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(n,a){try{if(!dt())throw new Fl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Fl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new py("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new py("No code detected.");const{data:U,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:d,expires_at:m,token_type:p}=n;if(!u||!d||!f||!p)throw new Fl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(d);let w=v+_;m&&(w=parseInt(m));const b=w-v;b*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const A=w-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,v);const{data:C,error:M}=await this._getUser(u);if(M)throw M;const $={provider_token:r,provider_refresh_token:o,access_token:u,expires_in:_,expires_at:w,refresh_token:f,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:n.type},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:o,error:u}=a;if(u)return this._returnResult({error:u});const f=(r=o.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:d}=await this.admin.signOut(f,n);if(d&&!(LE(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const a=XE(),r={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async a=>{var r,o;try{const{data:{session:u},error:f}=a;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ls(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(te(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var a;try{const{data:r,error:o}=await this._useSession(async u=>{var f,d,m,p,v;const{data:_,error:w}=u;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return dt()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(te(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async a=>{var r;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:f,provider:d,token:m,access_token:p,nonce:v}=n,_=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=u?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:m,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fn}),{data:w,error:b}=_;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(o){if(te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async a=>{var r,o;const{data:u,error:f}=a;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await WE(async o=>(o>0&&await JE(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:fn})),(o,u)=>{const f=200*Math.pow(2,o);return u&&Eh(u)&&Date.now()+f-r<Vs})}catch(r){if(this._debug(a,"error",r),te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",r),dt()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Ha(this.storage,this.storageKey);if(o&&this.userStorage){let f=await Ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Xs(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:Ah()}else if(o&&!o.user&&!o.user){const f=await Ha(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ga(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,o)):o.user=Ah()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Sh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Sh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Eh(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:d}=await this._getUser(o.access_token);!d&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var a,r;if(!n)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new zo;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new hn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(o,"error",u),te(u)){const f={data:null,error:u};return Eh(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,a,r=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,a)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=wy(o);await Xs(this.storage,this.storageKey,u)}else{const o=wy(a);await Xs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ga(this.storage,this.storageKey),await ga(this.storage,this.storageKey+"-code-verifier"),await ga(this.storage,this.storageKey+"-user"),this.userStorage&&await ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-n)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Yh} ticks`),o<=Yh&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof F_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,r){const o=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,f]=await Ls(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(d.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);o.push(u.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var r;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await ie(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(n){try{return await this._useSession(async a=>{var r,o;const{data:u,error:f}=a;if(f)return this._returnResult({data:null,error:f});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:p}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?RO(n.webauthn.credential_response):xO(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:m}=await ie(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const f=await ie(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:d}=f;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:AO(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:TO(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(n){const{data:a,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){var n;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=a?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,a;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Oh(r.access_token);let f=null;u.aal&&(f=u.aal);let d=f;((a=(n=r.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const p=u.amr||[];return{data:{currentLevel:f,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;return o?this._returnResult({data:null,error:o}):r?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new hn})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(n,a){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new hn});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return f.data&&f.data.redirect_url&&dt()&&!a?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,a){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new hn});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return f.data&&f.data.redirect_url&&dt()&&!a?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,a={keys:[]}){let r=a.keys.find(d=>d.kid===n);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===n),r&&this.jwks_cached_at+zE>o)return r;const{data:u,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,r=u.keys.find(d=>d.kid===n),!r)?null:r}async getClaims(n,a={}){try{let r=n;if(!r){const{data:b,error:A}=await this.getSession();if(A||!b.session)return this._returnResult({data:null,error:A});r=b.session.access_token}const{header:o,payload:u,signature:f,raw:{header:d,payload:m}}=Oh(r);a?.allowExpired||sO(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!p){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:u,header:o,signature:f},error:null}}const v=rO(o.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,YE(`${d}.${m}`)))throw new Kh("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}}vi.nextInstanceID={};const BO=vi;class LO extends BO{constructor(n){super(n)}}class $O{constructor(n,a,r){var o,u,f;this.supabaseUrl=n,this.supabaseKey=a;const d=DE(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:EE,realtime:AE,auth:Object.assign(Object.assign({},OE),{storageKey:m}),global:SE},v=jE(r??{},p);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=xE(a,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new NS(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new vE(this.storageUrl.href,this.headers,this.fetch,r?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new xS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,r)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,a;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(a=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:o,userStorage:u,storageKey:f,flowType:d,lock:m,debug:p,throwOnError:v},_,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LO({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),_),storageKey:f,autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:o,userStorage:u,flowType:d,lock:m,debug:p,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new QS(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r?.access_token)})}_handleTokenChanged(n,a,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qO=(i,n,a)=>new $O(i,n,a);function HO(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}HO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IO=void 0,PO=void 0;throw new Error("Missing Supabase environment variables");const GO=qO(IO,PO);async function YO(){const{data:i,error:n}=await GO.from("lead_tracker").select("*").order("username",{ascending:!0});if(n)throw console.error("Error fetching leads:",n),n;return i||[]}const VO=({searchQuery:i,onSearchChange:n,sortOption:a,onSortChange:r,filterOption:o,onFilterChange:u})=>X.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[X.jsx("div",{className:"mb-3",children:X.jsx("input",{type:"text",placeholder:"Search Dashboard",value:i,onChange:f=>n(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),X.jsxs("div",{className:"flex gap-2",children:[X.jsxs("select",{value:o,onChange:f=>u(f.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[X.jsx("option",{value:"all",children:"All Status"}),X.jsx("option",{value:"follow-up",children:"Follow up"}),X.jsx("option",{value:"see-if-follow-up",children:"See if follow up needed"})]}),X.jsxs("select",{value:a,onChange:f=>r(f.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[X.jsx("option",{value:"alphabetical-asc",children:"A-Z"}),X.jsx("option",{value:"alphabetical-desc",children:"Z-A"}),X.jsx("option",{value:"recent-first",children:"Most Recent"}),X.jsx("option",{value:"oldest-first",children:"Least Recent"})]})]})]}),n0=6048e5,XO=864e5,eo=43200,xy=1440,Cy=Symbol.for("constructDateFrom");function Pn(i,n){return typeof i=="function"?i(n):i&&typeof i=="object"&&Cy in i?i[Cy](n):i instanceof Date?new i.constructor(n):new Date(n)}function it(i,n){return Pn(n||i,i)}let KO={};function Ei(){return KO}function bi(i,n){const a=Ei(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,o=it(i,n?.in),u=o.getDay(),f=(u<r?7:0)+u-r;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Oo(i,n){return bi(i,{...n,weekStartsOn:1})}function a0(i,n){const a=it(i,n?.in),r=a.getFullYear(),o=Pn(a,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const u=Oo(o),f=Pn(a,0);f.setFullYear(r,0,4),f.setHours(0,0,0,0);const d=Oo(f);return a.getTime()>=u.getTime()?r+1:a.getTime()>=d.getTime()?r:r-1}function Ao(i){const n=it(i),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+i-+a}function Bo(i,...n){const a=Pn.bind(null,i||n.find(r=>typeof r=="object"));return n.map(a)}function jy(i,n){const a=it(i,n?.in);return a.setHours(0,0,0,0),a}function QO(i,n,a){const[r,o]=Bo(a?.in,i,n),u=jy(r),f=jy(o),d=+u-Ao(u),m=+f-Ao(f);return Math.round((d-m)/XO)}function JO(i,n){const a=a0(i,n),r=Pn(i,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Oo(r)}function oo(i,n){const a=+it(i)-+it(n);return a<0?-1:a>0?1:a}function WO(i){return Pn(i,Date.now())}function ZO(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function FO(i){return!(!ZO(i)&&typeof i!="number"||isNaN(+it(i)))}function eA(i,n,a){const[r,o]=Bo(a?.in,i,n),u=r.getFullYear()-o.getFullYear(),f=r.getMonth()-o.getMonth();return u*12+f}function tA(i){return n=>{const r=(i?Math[i]:Math.trunc)(n);return r===0?0:r}}function nA(i,n){return+it(i)-+it(n)}function aA(i,n){const a=it(i,n?.in);return a.setHours(23,59,59,999),a}function sA(i,n){const a=it(i,n?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function rA(i,n){const a=it(i,n?.in);return+aA(a,n)==+sA(a,n)}function iA(i,n,a){const[r,o,u]=Bo(a?.in,i,i,n),f=oo(o,u),d=Math.abs(eA(o,u));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-f*d);let m=oo(o,u)===-f;rA(r)&&d===1&&oo(r,u)===1&&(m=!1);const p=f*(d-+m);return p===0?0:p}function lA(i,n,a){const r=nA(i,n)/1e3;return tA(a?.roundingMethod)(r)}function oA(i,n){const a=it(i,n?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const uA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cA=(i,n,a)=>{let r;const o=uA[i];return typeof o=="string"?r=o:n===1?r=o.one:r=o.other.replace("{{count}}",n.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Rh(i){return(n={})=>{const a=n.width?String(n.width):i.defaultWidth;return i.formats[a]||i.formats[i.defaultWidth]}}const hA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mA={date:Rh({formats:hA,defaultWidth:"full"}),time:Rh({formats:fA,defaultWidth:"full"}),dateTime:Rh({formats:dA,defaultWidth:"full"})},gA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pA=(i,n,a,r)=>gA[i];function Fr(i){return(n,a)=>{const r=a?.context?String(a.context):"standalone";let o;if(r==="formatting"&&i.formattingValues){const f=i.defaultFormattingWidth||i.defaultWidth,d=a?.width?String(a.width):f;o=i.formattingValues[d]||i.formattingValues[f]}else{const f=i.defaultWidth,d=a?.width?String(a.width):i.defaultWidth;o=i.values[d]||i.values[f]}const u=i.argumentCallback?i.argumentCallback(n):n;return o[u]}}const yA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_A={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EA=(i,n)=>{const a=Number(i),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},OA={ordinalNumber:EA,era:Fr({values:yA,defaultWidth:"wide"}),quarter:Fr({values:_A,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Fr({values:vA,defaultWidth:"wide"}),day:Fr({values:bA,defaultWidth:"wide"}),dayPeriod:Fr({values:wA,defaultWidth:"wide",formattingValues:SA,defaultFormattingWidth:"wide"})};function ei(i){return(n,a={})=>{const r=a.width,o=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],u=n.match(o);if(!u)return null;const f=u[0],d=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(d)?TA(d,_=>_.test(f)):AA(d,_=>_.test(f));let p;p=i.valueCallback?i.valueCallback(m):m,p=a.valueCallback?a.valueCallback(p):p;const v=n.slice(f.length);return{value:p,rest:v}}}function AA(i,n){for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&n(i[a]))return a}function TA(i,n){for(let a=0;a<i.length;a++)if(n(i[a]))return a}function RA(i){return(n,a={})=>{const r=n.match(i.matchPattern);if(!r)return null;const o=r[0],u=n.match(i.parsePattern);if(!u)return null;let f=i.valueCallback?i.valueCallback(u[0]):u[0];f=a.valueCallback?a.valueCallback(f):f;const d=n.slice(o.length);return{value:f,rest:d}}}const xA=/^(\d+)(th|st|nd|rd)?/i,CA=/\d+/i,jA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DA={any:[/^b/i,/^(a|c)/i]},NA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MA={any:[/1/i,/2/i,/3/i,/4/i]},kA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$A={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qA={ordinalNumber:RA({matchPattern:xA,parsePattern:CA,valueCallback:i=>parseInt(i,10)}),era:ei({matchPatterns:jA,defaultMatchWidth:"wide",parsePatterns:DA,defaultParseWidth:"any"}),quarter:ei({matchPatterns:NA,defaultMatchWidth:"wide",parsePatterns:MA,defaultParseWidth:"any",valueCallback:i=>i+1}),month:ei({matchPatterns:kA,defaultMatchWidth:"wide",parsePatterns:UA,defaultParseWidth:"any"}),day:ei({matchPatterns:zA,defaultMatchWidth:"wide",parsePatterns:BA,defaultParseWidth:"any"}),dayPeriod:ei({matchPatterns:LA,defaultMatchWidth:"any",parsePatterns:$A,defaultParseWidth:"any"})},s0={code:"en-US",formatDistance:cA,formatLong:mA,formatRelative:pA,localize:OA,match:qA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HA(i,n){const a=it(i,n?.in);return QO(a,oA(a))+1}function IA(i,n){const a=it(i,n?.in),r=+Oo(a)-+JO(a);return Math.round(r/n0)+1}function r0(i,n){const a=it(i,n?.in),r=a.getFullYear(),o=Ei(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=Pn(n?.in||i,0);f.setFullYear(r+1,0,u),f.setHours(0,0,0,0);const d=bi(f,n),m=Pn(n?.in||i,0);m.setFullYear(r,0,u),m.setHours(0,0,0,0);const p=bi(m,n);return+a>=+d?r+1:+a>=+p?r:r-1}function PA(i,n){const a=Ei(),r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=r0(i,n),u=Pn(n?.in||i,0);return u.setFullYear(o,0,r),u.setHours(0,0,0,0),bi(u,n)}function GA(i,n){const a=it(i,n?.in),r=+bi(a,n)-+PA(a,n);return Math.round(r/n0)+1}function Ce(i,n){const a=i<0?"-":"",r=Math.abs(i).toString().padStart(n,"0");return a+r}const pa={y(i,n){const a=i.getFullYear(),r=a>0?a:1-a;return Ce(n==="yy"?r%100:r,n.length)},M(i,n){const a=i.getMonth();return n==="M"?String(a+1):Ce(a+1,2)},d(i,n){return Ce(i.getDate(),n.length)},a(i,n){const a=i.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(i,n){return Ce(i.getHours()%12||12,n.length)},H(i,n){return Ce(i.getHours(),n.length)},m(i,n){return Ce(i.getMinutes(),n.length)},s(i,n){return Ce(i.getSeconds(),n.length)},S(i,n){const a=n.length,r=i.getMilliseconds(),o=Math.trunc(r*Math.pow(10,a-3));return Ce(o,n.length)}},Is={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dy={G:function(i,n,a){const r=i.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(i,n,a){if(n==="yo"){const r=i.getFullYear(),o=r>0?r:1-r;return a.ordinalNumber(o,{unit:"year"})}return pa.y(i,n)},Y:function(i,n,a,r){const o=r0(i,r),u=o>0?o:1-o;if(n==="YY"){const f=u%100;return Ce(f,2)}return n==="Yo"?a.ordinalNumber(u,{unit:"year"}):Ce(u,n.length)},R:function(i,n){const a=a0(i);return Ce(a,n.length)},u:function(i,n){const a=i.getFullYear();return Ce(a,n.length)},Q:function(i,n,a){const r=Math.ceil((i.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Ce(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(i,n,a){const r=Math.ceil((i.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Ce(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(i,n,a){const r=i.getMonth();switch(n){case"M":case"MM":return pa.M(i,n);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(i,n,a){const r=i.getMonth();switch(n){case"L":return String(r+1);case"LL":return Ce(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(i,n,a,r){const o=GA(i,r);return n==="wo"?a.ordinalNumber(o,{unit:"week"}):Ce(o,n.length)},I:function(i,n,a){const r=IA(i);return n==="Io"?a.ordinalNumber(r,{unit:"week"}):Ce(r,n.length)},d:function(i,n,a){return n==="do"?a.ordinalNumber(i.getDate(),{unit:"date"}):pa.d(i,n)},D:function(i,n,a){const r=HA(i);return n==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Ce(r,n.length)},E:function(i,n,a){const r=i.getDay();switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(i,n,a,r){const o=i.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Ce(u,2);case"eo":return a.ordinalNumber(u,{unit:"day"});case"eee":return a.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"});case"eeee":default:return a.day(o,{width:"wide",context:"formatting"})}},c:function(i,n,a,r){const o=i.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Ce(u,n.length);case"co":return a.ordinalNumber(u,{unit:"day"});case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"});case"cccc":default:return a.day(o,{width:"wide",context:"standalone"})}},i:function(i,n,a){const r=i.getDay(),o=r===0?7:r;switch(n){case"i":return String(o);case"ii":return Ce(o,n.length);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(i,n,a){const o=i.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,n,a){const r=i.getHours();let o;switch(r===12?o=Is.noon:r===0?o=Is.midnight:o=r/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,n,a){const r=i.getHours();let o;switch(r>=17?o=Is.evening:r>=12?o=Is.afternoon:r>=4?o=Is.morning:o=Is.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,n,a){if(n==="ho"){let r=i.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return pa.h(i,n)},H:function(i,n,a){return n==="Ho"?a.ordinalNumber(i.getHours(),{unit:"hour"}):pa.H(i,n)},K:function(i,n,a){const r=i.getHours()%12;return n==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Ce(r,n.length)},k:function(i,n,a){let r=i.getHours();return r===0&&(r=24),n==="ko"?a.ordinalNumber(r,{unit:"hour"}):Ce(r,n.length)},m:function(i,n,a){return n==="mo"?a.ordinalNumber(i.getMinutes(),{unit:"minute"}):pa.m(i,n)},s:function(i,n,a){return n==="so"?a.ordinalNumber(i.getSeconds(),{unit:"second"}):pa.s(i,n)},S:function(i,n){return pa.S(i,n)},X:function(i,n,a){const r=i.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return My(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(i,n,a){const r=i.getTimezoneOffset();switch(n){case"x":return My(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(i,n,a){const r=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ny(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(i,n,a){const r=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ny(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(i,n,a){const r=Math.trunc(+i/1e3);return Ce(r,n.length)},T:function(i,n,a){return Ce(+i,n.length)}};function Ny(i,n=""){const a=i>0?"-":"+",r=Math.abs(i),o=Math.trunc(r/60),u=r%60;return u===0?a+String(o):a+String(o)+n+Ce(u,2)}function My(i,n){return i%60===0?(i>0?"-":"+")+Ce(Math.abs(i)/60,2):Pa(i,n)}function Pa(i,n=""){const a=i>0?"-":"+",r=Math.abs(i),o=Ce(Math.trunc(r/60),2),u=Ce(r%60,2);return a+o+n+u}const ky=(i,n)=>{switch(i){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},i0=(i,n)=>{switch(i){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},YA=(i,n)=>{const a=i.match(/(P+)(p+)?/)||[],r=a[1],o=a[2];if(!o)return ky(i,n);let u;switch(r){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",ky(r,n)).replace("{{time}}",i0(o,n))},VA={p:i0,P:YA},XA=/^D+$/,KA=/^Y+$/,QA=["D","DD","YY","YYYY"];function JA(i){return XA.test(i)}function WA(i){return KA.test(i)}function ZA(i,n,a){const r=FA(i,n,a);if(console.warn(r),QA.includes(i))throw new RangeError(r)}function FA(i,n,a){const r=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${n}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const e1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n1=/^'([^]*?)'?$/,a1=/''/g,s1=/[a-zA-Z]/;function l0(i,n,a){const r=Ei(),o=r.locale??s0,u=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,f=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=it(i,a?.in);if(!FO(d))throw new RangeError("Invalid time value");let m=n.match(t1).map(v=>{const _=v[0];if(_==="p"||_==="P"){const w=VA[_];return w(v,o.formatLong)}return v}).join("").match(e1).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:r1(v)};if(Dy[_])return{isToken:!0,value:v};if(_.match(s1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(m=o.localize.preprocessor(d,m));const p={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return m.map(v=>{if(!v.isToken)return v.value;const _=v.value;(WA(_)||JA(_))&&ZA(_,n,String(i));const w=Dy[_[0]];return w(d,_,o.localize,p)}).join("")}function r1(i){const n=i.match(n1);return n?n[1].replace(a1,"'"):i}function i1(i,n,a){const r=Ei(),o=a?.locale??r.locale??s0,u=2520,f=oo(i,n);if(isNaN(f))throw new RangeError("Invalid time value");const d=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:f}),[m,p]=Bo(a?.in,...f>0?[n,i]:[i,n]),v=lA(p,m),_=(Ao(p)-Ao(m))/1e3,w=Math.round((v-_)/60);let b;if(w<2)return a?.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,d):v<10?o.formatDistance("lessThanXSeconds",10,d):v<20?o.formatDistance("lessThanXSeconds",20,d):v<40?o.formatDistance("halfAMinute",0,d):v<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):w===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",w,d);if(w<45)return o.formatDistance("xMinutes",w,d);if(w<90)return o.formatDistance("aboutXHours",1,d);if(w<xy){const A=Math.round(w/60);return o.formatDistance("aboutXHours",A,d)}else{if(w<u)return o.formatDistance("xDays",1,d);if(w<eo){const A=Math.round(w/xy);return o.formatDistance("xDays",A,d)}else if(w<eo*2)return b=Math.round(w/eo),o.formatDistance("aboutXMonths",b,d)}if(b=iA(p,m),b<12){const A=Math.round(w/eo);return o.formatDistance("xMonths",A,d)}else{const A=b%12,C=Math.trunc(b/12);return A<3?o.formatDistance("aboutXYears",C,d):A<9?o.formatDistance("overXYears",C,d):o.formatDistance("almostXYears",C+1,d)}}function l1(i,n){return i1(i,WO(i),n)}const o1=({leads:i,selectedLead:n,onSelectLead:a})=>X.jsx("div",{className:"h-full overflow-y-auto",children:i.length===0?X.jsx("div",{className:"p-4 text-center text-gray-500",children:"No leads found"}):i.map(r=>{const o=n?.id===r.id,u=r.recent_timestamp?l0(new Date(r.recent_timestamp),"yyyy-MM-dd"):"N/A",f=r.recent_timestamp?l1(new Date(r.recent_timestamp),{addSuffix:!0}):"N/A";return X.jsx("div",{onClick:()=>a(r),className:`p-4 border-b border-gray-200 cursor-pointer transition-colors hover:bg-gray-50 ${o?"bg-blue-50 border-l-4 border-l-blue-500":""}`,children:X.jsx("div",{className:"flex items-start justify-between",children:X.jsxs("div",{className:"flex-1 min-w-0",children:[X.jsx("h3",{className:"font-semibold text-gray-900 truncate capitalize",children:r.username}),X.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last message: ",u]}),X.jsx("p",{className:"text-xs text-gray-500",children:f}),X.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Last sender: ",r.latest_sender]}),X.jsx("div",{className:"mt-2",children:X.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${r.action_item==="Follow up"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:r.action_item})})]})})},r.id)})}),u1=({message:i})=>{const n=i.sender==="Heidie Signature";return X.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} mb-4`,children:X.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-lg ${n?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[X.jsx("div",{className:"text-xs font-semibold mb-1 opacity-75",children:i.sender}),X.jsx("div",{className:"text-sm whitespace-pre-wrap break-words",children:i.message})]})})};function le(i,n,a,r,o){if(typeof n=="function"?i!==n||!0:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n.set(i,a),a}function j(i,n,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!r:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(i):r?r.value:n.get(i)}let o0=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return o0=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),a=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^a()&15>>+r/4).toString(16))};function Qh(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Jh=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class ae extends Error{}class pt extends ae{constructor(n,a,r,o){super(`${pt.makeMessage(n,a,r)}`),this.status=n,this.headers=o,this.requestID=o?.get("x-request-id"),this.error=a;const u=a;this.code=u?.code,this.param=u?.param,this.type=u?.type}static makeMessage(n,a,r){const o=a?.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):r;return n&&o?`${n} ${o}`:n?`${n} status code (no body)`:o||"(no status code or body)"}static generate(n,a,r,o){if(!n||!o)return new Lo({message:r,cause:Jh(a)});const u=a?.error;return n===400?new u0(n,u,r,o):n===401?new c0(n,u,r,o):n===403?new h0(n,u,r,o):n===404?new f0(n,u,r,o):n===409?new d0(n,u,r,o):n===422?new m0(n,u,r,o):n===429?new g0(n,u,r,o):n>=500?new p0(n,u,r,o):new pt(n,u,r,o)}}class sn extends pt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Lo extends pt{constructor({message:n,cause:a}){super(void 0,void 0,n||"Connection error.",void 0),a&&(this.cause=a)}}class bf extends Lo{constructor({message:n}={}){super({message:n??"Request timed out."})}}class u0 extends pt{}class c0 extends pt{}class h0 extends pt{}class f0 extends pt{}class d0 extends pt{}class m0 extends pt{}class g0 extends pt{}class p0 extends pt{}class y0 extends ae{constructor(){super("Could not parse response content as the length limit was reached")}}class _0 extends ae{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ai extends Error{constructor(n){super(n)}}const c1=/^[a-z][a-z0-9+.-]*:/i,h1=i=>c1.test(i);let Dt=i=>(Dt=Array.isArray,Dt(i)),Uy=Dt;function v0(i){return typeof i!="object"?{}:i??{}}function f1(i){if(!i)return!0;for(const n in i)return!1;return!0}function d1(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function xh(i){return i!=null&&typeof i=="object"&&!Array.isArray(i)}const m1=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new ae(`${i} must be an integer`);if(n<0)throw new ae(`${i} must be a positive integer`);return n},g1=i=>{try{return JSON.parse(i)}catch{return}},Oi=i=>new Promise(n=>setTimeout(n,i)),Ks="6.8.1",p1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function y1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _1=()=>{const i=y1();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":By(Deno.build.os),"X-Stainless-Arch":zy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":By(globalThis.process.platform??"unknown"),"X-Stainless-Arch":zy(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const n=v1();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function v1(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:a}of i){const r=a.exec(navigator.userAgent);if(r){const o=r[1]||0,u=r[2]||0,f=r[3]||0;return{browser:n,version:`${o}.${u}.${f}`}}}return null}const zy=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",By=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ly;const b1=()=>Ly??(Ly=_1());function w1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function b0(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function w0(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return b0({start(){},async pull(a){const{done:r,value:o}=await n.next();r?a.close():a.enqueue(o)},async cancel(){await n.return?.()}})}function S0(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const a=await n.read();return a?.done&&n.releaseLock(),a}catch(a){throw n.releaseLock(),a}},async return(){const a=n.cancel();return n.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function S1(i){if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await i[Symbol.asyncIterator]().return?.();return}const n=i.getReader(),a=n.cancel();n.releaseLock(),await a}const E1=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}),E0="RFC3986",O0=i=>String(i),$y={RFC1738:i=>String(i).replace(/%20/g,"+"),RFC3986:O0},O1="RFC1738";let Wh=(i,n)=>(Wh=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Wh(i,n));const vn=(()=>{const i=[];for(let n=0;n<256;++n)i.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return i})(),Ch=1024,A1=(i,n,a,r,o)=>{if(i.length===0)return i;let u=i;if(typeof i=="symbol"?u=Symbol.prototype.toString.call(i):typeof i!="string"&&(u=String(i)),a==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});let f="";for(let d=0;d<u.length;d+=Ch){const m=u.length>=Ch?u.slice(d,d+Ch):u,p=[];for(let v=0;v<m.length;++v){let _=m.charCodeAt(v);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||o===O1&&(_===40||_===41)){p[p.length]=m.charAt(v);continue}if(_<128){p[p.length]=vn[_];continue}if(_<2048){p[p.length]=vn[192|_>>6]+vn[128|_&63];continue}if(_<55296||_>=57344){p[p.length]=vn[224|_>>12]+vn[128|_>>6&63]+vn[128|_&63];continue}v+=1,_=65536+((_&1023)<<10|m.charCodeAt(v)&1023),p[p.length]=vn[240|_>>18]+vn[128|_>>12&63]+vn[128|_>>6&63]+vn[128|_&63]}f+=p.join("")}return f};function T1(i){return!i||typeof i!="object"?!1:!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))}function qy(i,n){if(Dt(i)){const a=[];for(let r=0;r<i.length;r+=1)a.push(n(i[r]));return a}return n(i)}const A0={brackets(i){return String(i)+"[]"},comma:"comma",indices(i,n){return String(i)+"["+n+"]"},repeat(i){return String(i)}},T0=function(i,n){Array.prototype.push.apply(i,Dt(n)?n:[n])};let Hy;const nt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:A1,encodeValuesOnly:!1,format:E0,formatter:O0,indices:!1,serializeDate(i){return(Hy??(Hy=Function.prototype.call.bind(Date.prototype.toISOString)))(i)},skipNulls:!1,strictNullHandling:!1};function R1(i){return typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i=="symbol"||typeof i=="bigint"}const jh={};function R0(i,n,a,r,o,u,f,d,m,p,v,_,w,b,A,C,M,$){let U=i,H=$,P=0,oe=!1;for(;(H=H.get(jh))!==void 0&&!oe;){const ke=H.get(i);if(P+=1,typeof ke<"u"){if(ke===P)throw new RangeError("Cyclic object value");oe=!0}typeof H.get(jh)>"u"&&(P=0)}if(typeof p=="function"?U=p(n,U):U instanceof Date?U=w?.(U):a==="comma"&&Dt(U)&&(U=qy(U,function(ke){return ke instanceof Date?w?.(ke):ke})),U===null){if(u)return m&&!C?m(n,nt.encoder,M,"key",b):n;U=""}if(R1(U)||T1(U)){if(m){const ke=C?n:m(n,nt.encoder,M,"key",b);return[A?.(ke)+"="+A?.(m(U,nt.encoder,M,"value",b))]}return[A?.(n)+"="+A?.(String(U))]}const F=[];if(typeof U>"u")return F;let G;if(a==="comma"&&Dt(U))C&&m&&(U=qy(U,m)),G=[{value:U.length>0?U.join(",")||null:void 0}];else if(Dt(p))G=p;else{const ke=Object.keys(U);G=v?ke.sort(v):ke}const fe=d?String(n).replace(/\./g,"%2E"):String(n),ge=r&&Dt(U)&&U.length===1?fe+"[]":fe;if(o&&Dt(U)&&U.length===0)return ge+"[]";for(let ke=0;ke<G.length;++ke){const Ae=G[ke],lt=typeof Ae=="object"&&typeof Ae.value<"u"?Ae.value:U[Ae];if(f&&lt===null)continue;const rn=_&&d?Ae.replace(/\./g,"%2E"):Ae,ln=Dt(U)?typeof a=="function"?a(ge,rn):ge:ge+(_?"."+rn:"["+rn+"]");$.set(i,P);const Et=new WeakMap;Et.set(jh,$),T0(F,R0(lt,ln,a,r,o,u,f,d,a==="comma"&&C&&Dt(U)?null:m,p,v,_,w,b,A,C,M,Et))}return F}function x1(i=nt){if(typeof i.allowEmptyArrays<"u"&&typeof i.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof i.encodeDotInKeys<"u"&&typeof i.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(i.encoder!==null&&typeof i.encoder<"u"&&typeof i.encoder!="function")throw new TypeError("Encoder has to be a function.");const n=i.charset||nt.charset;if(typeof i.charset<"u"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=E0;if(typeof i.format<"u"){if(!Wh($y,i.format))throw new TypeError("Unknown format option provided.");a=i.format}const r=$y[a];let o=nt.filter;(typeof i.filter=="function"||Dt(i.filter))&&(o=i.filter);let u;if(i.arrayFormat&&i.arrayFormat in A0?u=i.arrayFormat:"indices"in i?u=i.indices?"indices":"repeat":u=nt.arrayFormat,"commaRoundTrip"in i&&typeof i.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const f=typeof i.allowDots>"u"?i.encodeDotInKeys?!0:nt.allowDots:!!i.allowDots;return{addQueryPrefix:typeof i.addQueryPrefix=="boolean"?i.addQueryPrefix:nt.addQueryPrefix,allowDots:f,allowEmptyArrays:typeof i.allowEmptyArrays=="boolean"?!!i.allowEmptyArrays:nt.allowEmptyArrays,arrayFormat:u,charset:n,charsetSentinel:typeof i.charsetSentinel=="boolean"?i.charsetSentinel:nt.charsetSentinel,commaRoundTrip:!!i.commaRoundTrip,delimiter:typeof i.delimiter>"u"?nt.delimiter:i.delimiter,encode:typeof i.encode=="boolean"?i.encode:nt.encode,encodeDotInKeys:typeof i.encodeDotInKeys=="boolean"?i.encodeDotInKeys:nt.encodeDotInKeys,encoder:typeof i.encoder=="function"?i.encoder:nt.encoder,encodeValuesOnly:typeof i.encodeValuesOnly=="boolean"?i.encodeValuesOnly:nt.encodeValuesOnly,filter:o,format:a,formatter:r,serializeDate:typeof i.serializeDate=="function"?i.serializeDate:nt.serializeDate,skipNulls:typeof i.skipNulls=="boolean"?i.skipNulls:nt.skipNulls,sort:typeof i.sort=="function"?i.sort:null,strictNullHandling:typeof i.strictNullHandling=="boolean"?i.strictNullHandling:nt.strictNullHandling}}function C1(i,n={}){let a=i;const r=x1(n);let o,u;typeof r.filter=="function"?(u=r.filter,a=u("",a)):Dt(r.filter)&&(u=r.filter,o=u);const f=[];if(typeof a!="object"||a===null)return"";const d=A0[r.arrayFormat],m=d==="comma"&&r.commaRoundTrip;o||(o=Object.keys(a)),r.sort&&o.sort(r.sort);const p=new WeakMap;for(let w=0;w<o.length;++w){const b=o[w];r.skipNulls&&a[b]===null||T0(f,R0(a[b],b,d,m,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,p))}const v=f.join(r.delimiter);let _=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""}function j1(i){let n=0;for(const o of i)n+=o.length;const a=new Uint8Array(n);let r=0;for(const o of i)a.set(o,r),r+=o.length;return a}let Iy;function wf(i){let n;return(Iy??(n=new globalThis.TextEncoder,Iy=n.encode.bind(n)))(i)}let Py;function Gy(i){let n;return(Py??(n=new globalThis.TextDecoder,Py=n.decode.bind(n)))(i)}var It,Pt;class $o{constructor(){It.set(this,void 0),Pt.set(this,void 0),le(this,It,new Uint8Array),le(this,Pt,null)}decode(n){if(n==null)return[];const a=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?wf(n):n;le(this,It,j1([j(this,It,"f"),a]));const r=[];let o;for(;(o=D1(j(this,It,"f"),j(this,Pt,"f")))!=null;){if(o.carriage&&j(this,Pt,"f")==null){le(this,Pt,o.index);continue}if(j(this,Pt,"f")!=null&&(o.index!==j(this,Pt,"f")+1||o.carriage)){r.push(Gy(j(this,It,"f").subarray(0,j(this,Pt,"f")-1))),le(this,It,j(this,It,"f").subarray(j(this,Pt,"f"))),le(this,Pt,null);continue}const u=j(this,Pt,"f")!==null?o.preceding-1:o.preceding,f=Gy(j(this,It,"f").subarray(0,u));r.push(f),le(this,It,j(this,It,"f").subarray(o.index)),le(this,Pt,null)}return r}flush(){return j(this,It,"f").length?this.decode(`
`):[]}}It=new WeakMap,Pt=new WeakMap;$o.NEWLINE_CHARS=new Set([`
`,"\r"]);$o.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function D1(i,n){for(let o=n??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function N1(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}const To={off:0,error:200,warn:300,info:400,debug:500},Yy=(i,n,a)=>{if(i){if(d1(To,i))return i;mt(a).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(To))}`)}};function si(){}function to(i,n,a){return!n||To[i]>To[a]?si:n[i].bind(n)}const M1={error:si,warn:si,info:si,debug:si};let Vy=new WeakMap;function mt(i){const n=i.logger,a=i.logLevel??"off";if(!n)return M1;const r=Vy.get(n);if(r&&r[0]===a)return r[1];const o={error:to("error",n,a),warn:to("warn",n,a),info:to("info",n,a),debug:to("debug",n,a)};return Vy.set(n,[a,o]),o}const Ga=i=>(i.options&&(i.options={...i.options},delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,a])=>[n,n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);var ti;class wn{constructor(n,a,r){this.iterator=n,ti.set(this,void 0),this.controller=a,le(this,ti,r)}static fromSSEResponse(n,a,r){let o=!1;const u=r?mt(r):console;async function*f(){if(o)throw new ae("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let d=!1;try{for await(const m of k1(n,a))if(!d){if(m.data.startsWith("[DONE]")){d=!0;continue}if(m.event===null||!m.event.startsWith("thread.")){let p;try{p=JSON.parse(m.data)}catch(v){throw u.error("Could not parse message into JSON:",m.data),u.error("From chunk:",m.raw),v}if(p&&p.error)throw new pt(void 0,p.error,void 0,n.headers);yield p}else{let p;try{p=JSON.parse(m.data)}catch(v){throw console.error("Could not parse message into JSON:",m.data),console.error("From chunk:",m.raw),v}if(m.event=="error")throw new pt(void 0,p.error,p.message,void 0);yield{event:m.event,data:p}}}d=!0}catch(m){if(Qh(m))return;throw m}finally{d||a.abort()}}return new wn(f,a,r)}static fromReadableStream(n,a,r){let o=!1;async function*u(){const d=new $o,m=S0(n);for await(const p of m)for(const v of d.decode(p))yield v;for(const p of d.flush())yield p}async function*f(){if(o)throw new ae("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let d=!1;try{for await(const m of u())d||m&&(yield JSON.parse(m));d=!0}catch(m){if(Qh(m))return;throw m}finally{d||a.abort()}}return new wn(f,a,r)}[(ti=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const n=[],a=[],r=this.iterator(),o=u=>({next:()=>{if(u.length===0){const f=r.next();n.push(f),a.push(f)}return u.shift()}});return[new wn(()=>o(n),this.controller,j(this,ti,"f")),new wn(()=>o(a),this.controller,j(this,ti,"f"))]}toReadableStream(){const n=this;let a;return b0({async start(){a=n[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:u}=await a.next();if(u)return r.close();const f=wf(JSON.stringify(o)+`
`);r.enqueue(f)}catch(o){r.error(o)}},async cancel(){await a.return?.()}})}}async function*k1(i,n){if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ae("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ae("Attempted to iterate over a response with no body");const a=new z1,r=new $o,o=S0(i.body);for await(const u of U1(o))for(const f of r.decode(u)){const d=a.decode(f);d&&(yield d)}for(const u of r.flush()){const f=a.decode(u);f&&(yield f)}}async function*U1(i){let n=new Uint8Array;for await(const a of i){if(a==null)continue;const r=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?wf(a):a;let o=new Uint8Array(n.length+r.length);o.set(n),o.set(r,n.length),n=o;let u;for(;(u=N1(n))!==-1;)yield n.slice(0,u),n=n.slice(u)}n.length>0&&(yield n)}class z1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(n),n.startsWith(":"))return null;let[a,r,o]=B1(n,":");return o.startsWith(" ")&&(o=o.substring(1)),a==="event"?this.event=o:a==="data"&&this.data.push(o),null}}function B1(i,n){const a=i.indexOf(n);return a!==-1?[i.substring(0,a),n,i.substring(a+n.length)]:[i,"",""]}async function x0(i,n){const{response:a,requestLogID:r,retryOfRequestLogID:o,startTime:u}=n,f=await(async()=>{if(n.options.stream)return mt(i).debug("response",a.status,a.url,a.headers,a.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(a,n.controller,i):wn.fromSSEResponse(a,n.controller,i);if(a.status===204)return null;if(n.options.__binaryResponse)return a;const m=a.headers.get("content-type")?.split(";")[0]?.trim();if(m?.includes("application/json")||m?.endsWith("+json")){const _=await a.json();return C0(_,a)}return await a.text()})();return mt(i).debug(`[${r}] response parsed`,Ga({retryOfRequestLogID:o,url:a.url,status:a.status,body:f,durationMs:Date.now()-u})),f}function C0(i,n){return!i||typeof i!="object"||Array.isArray(i)?i:Object.defineProperty(i,"_request_id",{value:n.headers.get("x-request-id"),enumerable:!1})}var ri;class qo extends Promise{constructor(n,a,r=x0){super(o=>{o(null)}),this.responsePromise=a,this.parseResponse=r,ri.set(this,void 0),le(this,ri,n)}_thenUnwrap(n){return new qo(j(this,ri,"f"),this.responsePromise,async(a,r)=>C0(n(await this.parseResponse(a,r),r),r.response))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(j(this,ri,"f"),n))),this.parsedPromise}then(n,a){return this.parse().then(n,a)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}ri=new WeakMap;var no;class Sf{constructor(n,a,r,o){no.set(this,void 0),le(this,no,n),this.options=o,this.response=a,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const n=this.nextPageRequestOptions();if(!n)throw new ae("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await j(this,no,"f").requestAPIList(this.constructor,n)}async*iterPages(){let n=this;for(yield n;n.hasNextPage();)n=await n.getNextPage(),yield n}async*[(no=new WeakMap,Symbol.asyncIterator)](){for await(const n of this.iterPages())for(const a of n.getPaginatedItems())yield a}}class L1 extends qo{constructor(n,a,r){super(n,a,async(o,u)=>new r(o,u.response,await x0(o,u),u.options))}async*[Symbol.asyncIterator](){const n=await this;for await(const a of n)yield a}}class Ho extends Sf{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ze extends Sf{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const n=this.getPaginatedItems(),a=n[n.length-1]?.id;return a?{...this.options,query:{...v0(this.options.query),after:a}}:null}}class Ro extends Sf{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const n=this.last_id;return n?{...this.options,query:{...v0(this.options.query),after:n}}:null}}const j0=()=>{if(typeof File>"u"){const{process:i}=globalThis,n=typeof i?.versions?.node=="string"&&parseInt(i.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mi(i,n,a){return j0(),new File(i,n??"unknown_file",a)}function uo(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Ef=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",Xy=async(i,n)=>Zh(i.body)?{...i,body:await D0(i.body,n)}:i,Za=async(i,n)=>({...i,body:await D0(i.body,n)}),Ky=new WeakMap;function $1(i){const n=typeof i=="function"?i:i.fetch,a=Ky.get(n);if(a)return a;const r=(async()=>{try{const o="Response"in n?n.Response:(await n("data:,")).constructor,u=new FormData;return u.toString()!==await new o(u).text()}catch{return!0}})();return Ky.set(n,r),r}const D0=async(i,n)=>{if(!await $1(n))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const a=new FormData;return await Promise.all(Object.entries(i||{}).map(([r,o])=>Fh(a,r,o))),a},N0=i=>i instanceof Blob&&"name"in i,q1=i=>typeof i=="object"&&i!==null&&(i instanceof Response||Ef(i)||N0(i)),Zh=i=>{if(q1(i))return!0;if(Array.isArray(i))return i.some(Zh);if(i&&typeof i=="object"){for(const n in i)if(Zh(i[n]))return!0}return!1},Fh=async(i,n,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")i.append(n,String(a));else if(a instanceof Response)i.append(n,mi([await a.blob()],uo(a)));else if(Ef(a))i.append(n,mi([await new Response(w0(a)).blob()],uo(a)));else if(N0(a))i.append(n,a,uo(a));else if(Array.isArray(a))await Promise.all(a.map(r=>Fh(i,n+"[]",r)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([r,o])=>Fh(i,`${n}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}},M0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",H1=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&M0(i),I1=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function P1(i,n,a){if(j0(),i=await i,H1(i))return i instanceof File?i:mi([await i.arrayBuffer()],i.name);if(I1(i)){const o=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),mi(await ef(o),n,a)}const r=await ef(i);if(n||(n=uo(i)),!a?.type){const o=r.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(a={...a,type:o})}return mi(r,n,a)}async function ef(i){let n=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)n.push(i);else if(M0(i))n.push(i instanceof Blob?i:await i.arrayBuffer());else if(Ef(i))for await(const a of i)n.push(...await ef(a));else{const a=i?.constructor?.name;throw new Error(`Unexpected data type: ${typeof i}${a?`; constructor: ${a}`:""}${G1(i)}`)}return n}function G1(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(a=>`"${a}"`).join(", ")}]`}class ee{constructor(n){this._client=n}}function k0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Qy=Object.freeze(Object.create(null)),Y1=(i=k0)=>function(a,...r){if(a.length===1)return a[0];let o=!1;const u=[],f=a.reduce((v,_,w)=>{/[?#]/.test(_)&&(o=!0);const b=r[w];let A=(o?encodeURIComponent:i)(""+b);return w!==r.length&&(b==null||typeof b=="object"&&b.toString===Object.getPrototypeOf(Object.getPrototypeOf(b.hasOwnProperty??Qy)??Qy)?.toString)&&(A=b+"",u.push({start:v.length+_.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),v+_+(w===r.length?"":A)},""),d=f.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(d))!==null;)u.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((w,b)=>{const A=" ".repeat(b.start-v),C="^".repeat(b.length);return v=b.start+b.length,w+A+C},"");throw new ae(`Path parameters result in path with invalid segments:
${u.map(w=>w.error).join(`
`)}
${f}
${_}`)}return f},I=Y1(k0);let U0=class extends ee{list(n,a={},r){return this._client.getAPIList(I`/chat/completions/${n}/messages`,Ze,{query:a,...r})}};function xo(i){return i!==void 0&&"function"in i&&i.function!==void 0}function Of(i){return i?.$brand==="auto-parseable-response-format"}function Ai(i){return i?.$brand==="auto-parseable-tool"}function V1(i,n){return!n||!z0(n)?{...i,choices:i.choices.map(a=>(B0(a.message.tool_calls),{...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:Af(i,n)}function Af(i,n){const a=i.choices.map(r=>{if(r.finish_reason==="length")throw new y0;if(r.finish_reason==="content_filter")throw new _0;return B0(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(o=>K1(n,o))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?X1(n,r.message.content):null}}});return{...i,choices:a}}function X1(i,n){return i.response_format?.type!=="json_schema"?null:i.response_format?.type==="json_schema"?"$parseRaw"in i.response_format?i.response_format.$parseRaw(n):JSON.parse(n):null}function K1(i,n){const a=i.tools?.find(r=>xo(r)&&r.function?.name===n.function.name);return{...n,function:{...n.function,parsed_arguments:Ai(a)?a.$parseRaw(n.function.arguments):a?.function.strict?JSON.parse(n.function.arguments):null}}}function Q1(i,n){if(!i||!("tools"in i)||!i.tools)return!1;const a=i.tools?.find(r=>xo(r)&&r.function?.name===n.function.name);return xo(a)&&(Ai(a)||a?.function.strict||!1)}function z0(i){return Of(i.response_format)?!0:i.tools?.some(n=>Ai(n)||n.type==="function"&&n.function.strict===!0)??!1}function B0(i){for(const n of i||[])if(n.type!=="function")throw new ae(`Currently only \`function\` tool calls are supported; Received \`${n.type}\``)}function J1(i){for(const n of i??[]){if(n.type!=="function")throw new ae(`Currently only \`function\` tool types support auto-parsing; Received \`${n.type}\``);if(n.function.strict!==!0)throw new ae(`The \`${n.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Co=i=>i?.role==="assistant",L0=i=>i?.role==="tool";var tf,co,ho,ii,li,fo,oi,Hn,ui,jo,Do,Qs,$0;class Tf{constructor(){tf.add(this),this.controller=new AbortController,co.set(this,void 0),ho.set(this,()=>{}),ii.set(this,()=>{}),li.set(this,void 0),fo.set(this,()=>{}),oi.set(this,()=>{}),Hn.set(this,{}),ui.set(this,!1),jo.set(this,!1),Do.set(this,!1),Qs.set(this,!1),le(this,co,new Promise((n,a)=>{le(this,ho,n,"f"),le(this,ii,a,"f")})),le(this,li,new Promise((n,a)=>{le(this,fo,n,"f"),le(this,oi,a,"f")})),j(this,co,"f").catch(()=>{}),j(this,li,"f").catch(()=>{})}_run(n){setTimeout(()=>{n().then(()=>{this._emitFinal(),this._emit("end")},j(this,tf,"m",$0).bind(this))},0)}_connected(){this.ended||(j(this,ho,"f").call(this),this._emit("connect"))}get ended(){return j(this,ui,"f")}get errored(){return j(this,jo,"f")}get aborted(){return j(this,Do,"f")}abort(){this.controller.abort()}on(n,a){return(j(this,Hn,"f")[n]||(j(this,Hn,"f")[n]=[])).push({listener:a}),this}off(n,a){const r=j(this,Hn,"f")[n];if(!r)return this;const o=r.findIndex(u=>u.listener===a);return o>=0&&r.splice(o,1),this}once(n,a){return(j(this,Hn,"f")[n]||(j(this,Hn,"f")[n]=[])).push({listener:a,once:!0}),this}emitted(n){return new Promise((a,r)=>{le(this,Qs,!0),n!=="error"&&this.once("error",r),this.once(n,a)})}async done(){le(this,Qs,!0),await j(this,li,"f")}_emit(n,...a){if(j(this,ui,"f"))return;n==="end"&&(le(this,ui,!0),j(this,fo,"f").call(this));const r=j(this,Hn,"f")[n];if(r&&(j(this,Hn,"f")[n]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...a))),n==="abort"){const o=a[0];!j(this,Qs,"f")&&!r?.length&&Promise.reject(o),j(this,ii,"f").call(this,o),j(this,oi,"f").call(this,o),this._emit("end");return}if(n==="error"){const o=a[0];!j(this,Qs,"f")&&!r?.length&&Promise.reject(o),j(this,ii,"f").call(this,o),j(this,oi,"f").call(this,o),this._emit("end")}}_emitFinal(){}}co=new WeakMap,ho=new WeakMap,ii=new WeakMap,li=new WeakMap,fo=new WeakMap,oi=new WeakMap,Hn=new WeakMap,ui=new WeakMap,jo=new WeakMap,Do=new WeakMap,Qs=new WeakMap,tf=new WeakSet,$0=function(n){if(le(this,jo,!0),n instanceof Error&&n.name==="AbortError"&&(n=new sn),n instanceof sn)return le(this,Do,!0),this._emit("abort",n);if(n instanceof ae)return this._emit("error",n);if(n instanceof Error){const a=new ae(n.message);return a.cause=n,this._emit("error",a)}return this._emit("error",new ae(String(n)))};function W1(i){return typeof i.parse=="function"}var St,nf,No,af,sf,rf,q0,H0;const Z1=10;class I0 extends Tf{constructor(){super(...arguments),St.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(n){this._chatCompletions.push(n),this._emit("chatCompletion",n);const a=n.choices[0]?.message;return a&&this._addMessage(a),n}_addMessage(n,a=!0){if("content"in n||(n.content=null),this.messages.push(n),a){if(this._emit("message",n),L0(n)&&n.content)this._emit("functionToolCallResult",n.content);else if(Co(n)&&n.tool_calls)for(const r of n.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const n=this._chatCompletions[this._chatCompletions.length-1];if(!n)throw new ae("stream ended without producing a ChatCompletion");return n}async finalContent(){return await this.done(),j(this,St,"m",nf).call(this)}async finalMessage(){return await this.done(),j(this,St,"m",No).call(this)}async finalFunctionToolCall(){return await this.done(),j(this,St,"m",af).call(this)}async finalFunctionToolCallResult(){return await this.done(),j(this,St,"m",sf).call(this)}async totalUsage(){return await this.done(),j(this,St,"m",rf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const n=this._chatCompletions[this._chatCompletions.length-1];n&&this._emit("finalChatCompletion",n);const a=j(this,St,"m",No).call(this);a&&this._emit("finalMessage",a);const r=j(this,St,"m",nf).call(this);r&&this._emit("finalContent",r);const o=j(this,St,"m",af).call(this);o&&this._emit("finalFunctionToolCall",o);const u=j(this,St,"m",sf).call(this);u!=null&&this._emit("finalFunctionToolCallResult",u),this._chatCompletions.some(f=>f.usage)&&this._emit("totalUsage",j(this,St,"m",rf).call(this))}async _createChatCompletion(n,a,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),j(this,St,"m",q0).call(this,a);const u=await n.chat.completions.create({...a,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Af(u,a))}async _runChatCompletion(n,a,r){for(const o of a.messages)this._addMessage(o,!1);return await this._createChatCompletion(n,a,r)}async _runTools(n,a,r){const o="tool",{tool_choice:u="auto",stream:f,...d}=a,m=typeof u!="string"&&u.type==="function"&&u?.function?.name,{maxChatCompletions:p=Z1}=r||{},v=a.tools.map(b=>{if(Ai(b)){if(!b.$callback)throw new ae("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),_={};for(const b of v)b.type==="function"&&(_[b.function.name||b.function.function.name]=b.function);const w="tools"in a?v.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of a.messages)this._addMessage(b,!1);for(let b=0;b<p;++b){const C=(await this._createChatCompletion(n,{...d,tool_choice:u,tools:w,messages:[...this.messages]},r)).choices[0]?.message;if(!C)throw new ae("missing message in ChatCompletion response");if(!C.tool_calls?.length)return;for(const M of C.tool_calls){if(M.type!=="function")continue;const $=M.id,{name:U,arguments:H}=M.function,P=_[U];if(P){if(m&&m!==U){const fe=`Invalid tool_call: ${JSON.stringify(U)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:o,tool_call_id:$,content:fe});continue}}else{const fe=`Invalid tool_call: ${JSON.stringify(U)}. Available options are: ${Object.keys(_).map(ge=>JSON.stringify(ge)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:$,content:fe});continue}let oe;try{oe=W1(P)?await P.parse(H):H}catch(fe){const ge=fe instanceof Error?fe.message:String(fe);this._addMessage({role:o,tool_call_id:$,content:ge});continue}const F=await P.function(oe,this),G=j(this,St,"m",H0).call(this,F);if(this._addMessage({role:o,tool_call_id:$,content:G}),m)return}}}}St=new WeakSet,nf=function(){return j(this,St,"m",No).call(this).content??null},No=function(){let n=this.messages.length;for(;n-- >0;){const a=this.messages[n];if(Co(a))return{...a,content:a.content??null,refusal:a.refusal??null}}throw new ae("stream ended without producing a ChatCompletionMessage with role=assistant")},af=function(){for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(Co(a)&&a?.tool_calls?.length)return a.tool_calls.filter(r=>r.type==="function").at(-1)?.function}},sf=function(){for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(L0(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(o=>o.type==="function"&&o.id===a.tool_call_id)))return a.content}},rf=function(){const n={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(n.completion_tokens+=a.completion_tokens,n.prompt_tokens+=a.prompt_tokens,n.total_tokens+=a.total_tokens);return n},q0=function(n){if(n.n!=null&&n.n>1)throw new ae("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},H0=function(n){return typeof n=="string"?n:n===void 0?"undefined":JSON.stringify(n)};class Rf extends I0{static runTools(n,a,r){const o=new Rf,u={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(n,a,u)),o}_addMessage(n,a=!0){super._addMessage(n,a),Co(n)&&n.content&&this._emit("content",n.content)}}const P0=1,G0=2,Y0=4,V0=8,X0=16,K0=32,Q0=64,J0=128,W0=256,Z0=J0|W0,F0=X0|K0|Z0|Q0,ev=P0|G0|F0,tv=Y0|V0,F1=ev|tv,rt={STR:P0,NUM:G0,ARR:Y0,OBJ:V0,NULL:X0,BOOL:K0,NAN:Q0,INFINITY:J0,MINUS_INFINITY:W0,INF:Z0,SPECIAL:F0,ATOM:ev,COLLECTION:tv,ALL:F1};class eT extends Error{}class tT extends Error{}function nT(i,n=rt.ALL){if(typeof i!="string")throw new TypeError(`expecting str, got ${typeof i}`);if(!i.trim())throw new Error(`${i} is empty`);return aT(i.trim(),n)}const aT=(i,n)=>{const a=i.length;let r=0;const o=w=>{throw new eT(`${w} at position ${r}`)},u=w=>{throw new tT(`${w} at position ${r}`)},f=()=>(_(),r>=a&&o("Unexpected end of input"),i[r]==='"'?d():i[r]==="{"?m():i[r]==="["?p():i.substring(r,r+4)==="null"||rt.NULL&n&&a-r<4&&"null".startsWith(i.substring(r))?(r+=4,null):i.substring(r,r+4)==="true"||rt.BOOL&n&&a-r<4&&"true".startsWith(i.substring(r))?(r+=4,!0):i.substring(r,r+5)==="false"||rt.BOOL&n&&a-r<5&&"false".startsWith(i.substring(r))?(r+=5,!1):i.substring(r,r+8)==="Infinity"||rt.INFINITY&n&&a-r<8&&"Infinity".startsWith(i.substring(r))?(r+=8,1/0):i.substring(r,r+9)==="-Infinity"||rt.MINUS_INFINITY&n&&1<a-r&&a-r<9&&"-Infinity".startsWith(i.substring(r))?(r+=9,-1/0):i.substring(r,r+3)==="NaN"||rt.NAN&n&&a-r<3&&"NaN".startsWith(i.substring(r))?(r+=3,NaN):v()),d=()=>{const w=r;let b=!1;for(r++;r<a&&(i[r]!=='"'||b&&i[r-1]==="\\");)b=i[r]==="\\"?!b:!1,r++;if(i.charAt(r)=='"')try{return JSON.parse(i.substring(w,++r-Number(b)))}catch(A){u(String(A))}else if(rt.STR&n)try{return JSON.parse(i.substring(w,r-Number(b))+'"')}catch{return JSON.parse(i.substring(w,i.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},m=()=>{r++,_();const w={};try{for(;i[r]!=="}";){if(_(),r>=a&&rt.OBJ&n)return w;const b=d();_(),r++;try{const A=f();Object.defineProperty(w,b,{value:A,writable:!0,enumerable:!0,configurable:!0})}catch(A){if(rt.OBJ&n)return w;throw A}_(),i[r]===","&&r++}}catch{if(rt.OBJ&n)return w;o("Expected '}' at end of object")}return r++,w},p=()=>{r++;const w=[];try{for(;i[r]!=="]";)w.push(f()),_(),i[r]===","&&r++}catch{if(rt.ARR&n)return w;o("Expected ']' at end of array")}return r++,w},v=()=>{if(r===0){i==="-"&&rt.NUM&n&&o("Not sure what '-' is");try{return JSON.parse(i)}catch(b){if(rt.NUM&n)try{return i[i.length-1]==="."?JSON.parse(i.substring(0,i.lastIndexOf("."))):JSON.parse(i.substring(0,i.lastIndexOf("e")))}catch{}u(String(b))}}const w=r;for(i[r]==="-"&&r++;i[r]&&!",]}".includes(i[r]);)r++;r==a&&!(rt.NUM&n)&&o("Unterminated number literal");try{return JSON.parse(i.substring(w,r))}catch{i.substring(w,r)==="-"&&rt.NUM&n&&o("Not sure what '-' is");try{return JSON.parse(i.substring(w,i.lastIndexOf("e")))}catch(A){u(String(A))}}},_=()=>{for(;r<a&&` 
\r	`.includes(i[r]);)r++};return f()},Jy=i=>nT(i,rt.ALL^rt.NUM);var et,qn,Ps,ya,Dh,ao,Nh,Mh,kh,so,Uh,Wy;class wi extends I0{constructor(n){super(),et.add(this),qn.set(this,void 0),Ps.set(this,void 0),ya.set(this,void 0),le(this,qn,n),le(this,Ps,[])}get currentChatCompletionSnapshot(){return j(this,ya,"f")}static fromReadableStream(n){const a=new wi(null);return a._run(()=>a._fromReadableStream(n)),a}static createChatCompletion(n,a,r){const o=new wi(a);return o._run(()=>o._runChatCompletion(n,{...a,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(n,a,r){super._createChatCompletion;const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),j(this,et,"m",Dh).call(this);const u=await n.chat.completions.create({...a,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const f of u)j(this,et,"m",Nh).call(this,f);if(u.controller.signal?.aborted)throw new sn;return this._addChatCompletion(j(this,et,"m",so).call(this))}async _fromReadableStream(n,a){const r=a?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),j(this,et,"m",Dh).call(this),this._connected();const o=wn.fromReadableStream(n,this.controller);let u;for await(const f of o)u&&u!==f.id&&this._addChatCompletion(j(this,et,"m",so).call(this)),j(this,et,"m",Nh).call(this,f),u=f.id;if(o.controller.signal?.aborted)throw new sn;return this._addChatCompletion(j(this,et,"m",so).call(this))}[(qn=new WeakMap,Ps=new WeakMap,ya=new WeakMap,et=new WeakSet,Dh=function(){this.ended||le(this,ya,void 0)},ao=function(a){let r=j(this,Ps,"f")[a.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},j(this,Ps,"f")[a.index]=r,r)},Nh=function(a){if(this.ended)return;const r=j(this,et,"m",Wy).call(this,a);this._emit("chunk",a,r);for(const o of a.choices){const u=r.choices[o.index];o.delta.content!=null&&u.message?.role==="assistant"&&u.message?.content&&(this._emit("content",o.delta.content,u.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:u.message.content,parsed:u.message.parsed})),o.delta.refusal!=null&&u.message?.role==="assistant"&&u.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:u.message.refusal}),o.logprobs?.content!=null&&u.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:u.logprobs?.content??[]}),o.logprobs?.refusal!=null&&u.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:u.logprobs?.refusal??[]});const f=j(this,et,"m",ao).call(this,u);u.finish_reason&&(j(this,et,"m",kh).call(this,u),f.current_tool_call_index!=null&&j(this,et,"m",Mh).call(this,u,f.current_tool_call_index));for(const d of o.delta.tool_calls??[])f.current_tool_call_index!==d.index&&(j(this,et,"m",kh).call(this,u),f.current_tool_call_index!=null&&j(this,et,"m",Mh).call(this,u,f.current_tool_call_index)),f.current_tool_call_index=d.index;for(const d of o.delta.tool_calls??[]){const m=u.message.tool_calls?.[d.index];m?.type&&(m?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:m.function?.name,index:d.index,arguments:m.function.arguments,parsed_arguments:m.function.parsed_arguments,arguments_delta:d.function?.arguments??""}):(m?.type,void 0))}}},Mh=function(a,r){if(j(this,et,"m",ao).call(this,a).done_tool_calls.has(r))return;const u=a.message.tool_calls?.[r];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const f=j(this,qn,"f")?.tools?.find(d=>xo(d)&&d.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:r,arguments:u.function.arguments,parsed_arguments:Ai(f)?f.$parseRaw(u.function.arguments):f?.function.strict?JSON.parse(u.function.arguments):null})}else u.type},kh=function(a){const r=j(this,et,"m",ao).call(this,a);if(a.message.content&&!r.content_done){r.content_done=!0;const o=j(this,et,"m",Uh).call(this);this._emit("content.done",{content:a.message.content,parsed:o?o.$parseRaw(a.message.content):null})}a.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),a.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),a.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},so=function(){if(this.ended)throw new ae("stream has ended, this shouldn't happen");const a=j(this,ya,"f");if(!a)throw new ae("request ended without sending any chunks");return le(this,ya,void 0),le(this,Ps,[]),sT(a,j(this,qn,"f"))},Uh=function(){const a=j(this,qn,"f")?.response_format;return Of(a)?a:null},Wy=function(a){var r,o,u,f;let d=j(this,ya,"f");const{choices:m,...p}=a;d?Object.assign(d,p):d=le(this,ya,{...p,choices:[]});for(const{delta:v,finish_reason:_,index:w,logprobs:b=null,...A}of a.choices){let C=d.choices[w];if(C||(C=d.choices[w]={finish_reason:_,index:w,message:{},logprobs:b,...A}),b)if(!C.logprobs)C.logprobs=Object.assign({},b);else{const{content:F,refusal:G,...fe}=b;Object.assign(C.logprobs,fe),F&&((r=C.logprobs).content??(r.content=[]),C.logprobs.content.push(...F)),G&&((o=C.logprobs).refusal??(o.refusal=[]),C.logprobs.refusal.push(...G))}if(_&&(C.finish_reason=_,j(this,qn,"f")&&z0(j(this,qn,"f")))){if(_==="length")throw new y0;if(_==="content_filter")throw new _0}if(Object.assign(C,A),!v)continue;const{content:M,refusal:$,function_call:U,role:H,tool_calls:P,...oe}=v;if(Object.assign(C.message,oe),$&&(C.message.refusal=(C.message.refusal||"")+$),H&&(C.message.role=H),U&&(C.message.function_call?(U.name&&(C.message.function_call.name=U.name),U.arguments&&((u=C.message.function_call).arguments??(u.arguments=""),C.message.function_call.arguments+=U.arguments)):C.message.function_call=U),M&&(C.message.content=(C.message.content||"")+M,!C.message.refusal&&j(this,et,"m",Uh).call(this)&&(C.message.parsed=Jy(C.message.content))),P){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:F,id:G,type:fe,function:ge,...ke}of P){const Ae=(f=C.message.tool_calls)[F]??(f[F]={});Object.assign(Ae,ke),G&&(Ae.id=G),fe&&(Ae.type=fe),ge&&(Ae.function??(Ae.function={name:ge.name??"",arguments:""})),ge?.name&&(Ae.function.name=ge.name),ge?.arguments&&(Ae.function.arguments+=ge.arguments,Q1(j(this,qn,"f"),Ae)&&(Ae.function.parsed_arguments=Jy(Ae.function.arguments)))}}}return d},Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("chunk",o=>{const u=a.shift();u?u.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((u,f)=>a.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new wn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function sT(i,n){const{id:a,choices:r,created:o,model:u,system_fingerprint:f,...d}=i,m={...d,id:a,choices:r.map(({message:p,finish_reason:v,index:_,logprobs:w,...b})=>{if(!v)throw new ae(`missing finish_reason for choice ${_}`);const{content:A=null,function_call:C,tool_calls:M,...$}=p,U=p.role;if(!U)throw new ae(`missing role for choice ${_}`);if(C){const{arguments:H,name:P}=C;if(H==null)throw new ae(`missing function_call.arguments for choice ${_}`);if(!P)throw new ae(`missing function_call.name for choice ${_}`);return{...b,message:{content:A,function_call:{arguments:H,name:P},role:U,refusal:p.refusal??null},finish_reason:v,index:_,logprobs:w}}return M?{...b,index:_,finish_reason:v,logprobs:w,message:{...$,role:U,content:A,refusal:p.refusal??null,tool_calls:M.map((H,P)=>{const{function:oe,type:F,id:G,...fe}=H,{arguments:ge,name:ke,...Ae}=oe||{};if(G==null)throw new ae(`missing choices[${_}].tool_calls[${P}].id
${ro(i)}`);if(F==null)throw new ae(`missing choices[${_}].tool_calls[${P}].type
${ro(i)}`);if(ke==null)throw new ae(`missing choices[${_}].tool_calls[${P}].function.name
${ro(i)}`);if(ge==null)throw new ae(`missing choices[${_}].tool_calls[${P}].function.arguments
${ro(i)}`);return{...fe,id:G,type:F,function:{...Ae,name:ke,arguments:ge}}})}}:{...b,message:{...$,content:A,role:U,refusal:p.refusal??null},finish_reason:v,index:_,logprobs:w}}),created:o,model:u,object:"chat.completion",...f?{system_fingerprint:f}:{}};return V1(m,n)}function ro(i){return JSON.stringify(i)}class Mo extends wi{static fromReadableStream(n){const a=new Mo(null);return a._run(()=>a._fromReadableStream(n)),a}static runTools(n,a,r){const o=new Mo(a),u={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(n,a,u)),o}}let xf=class extends ee{constructor(){super(...arguments),this.messages=new U0(this._client)}create(n,a){return this._client.post("/chat/completions",{body:n,...a,stream:n.stream??!1})}retrieve(n,a){return this._client.get(I`/chat/completions/${n}`,a)}update(n,a,r){return this._client.post(I`/chat/completions/${n}`,{body:a,...r})}list(n={},a){return this._client.getAPIList("/chat/completions",Ze,{query:n,...a})}delete(n,a){return this._client.delete(I`/chat/completions/${n}`,a)}parse(n,a){return J1(n.tools),this._client.chat.completions.create(n,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Af(r,n))}runTools(n,a){return n.stream?Mo.runTools(this._client,n,a):Rf.runTools(this._client,n,a)}stream(n,a){return wi.createChatCompletion(this._client,n,a)}};xf.Messages=U0;class Cf extends ee{constructor(){super(...arguments),this.completions=new xf(this._client)}}Cf.Completions=xf;const nv=Symbol("brand.privateNullableHeaders");function*rT(i){if(!i)return;if(nv in i){const{values:r,nulls:o}=i;yield*r.entries();for(const u of o)yield[u,null];return}let n=!1,a;i instanceof Headers?a=i.entries():Uy(i)?a=i:(n=!0,a=Object.entries(i??{}));for(let r of a){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=Uy(r[1])?r[1]:[r[1]];let f=!1;for(const d of u)d!==void 0&&(n&&!f&&(f=!0,yield[o,null]),yield[o,d])}}const Q=i=>{const n=new Headers,a=new Set;for(const r of i){const o=new Set;for(const[u,f]of rT(r)){const d=u.toLowerCase();o.has(d)||(n.delete(u),o.add(d)),f===null?(n.delete(u),a.add(d)):(n.append(u,f),a.delete(d))}}return{[nv]:!0,values:n,nulls:a}};class av extends ee{create(n,a){return this._client.post("/audio/speech",{body:n,...a,headers:Q([{Accept:"application/octet-stream"},a?.headers]),__binaryResponse:!0})}}class sv extends ee{create(n,a){return this._client.post("/audio/transcriptions",Za({body:n,...a,stream:n.stream??!1,__metadata:{model:n.model}},this._client))}}class rv extends ee{create(n,a){return this._client.post("/audio/translations",Za({body:n,...a,__metadata:{model:n.model}},this._client))}}class Ti extends ee{constructor(){super(...arguments),this.transcriptions=new sv(this._client),this.translations=new rv(this._client),this.speech=new av(this._client)}}Ti.Transcriptions=sv;Ti.Translations=rv;Ti.Speech=av;class iv extends ee{create(n,a){return this._client.post("/batches",{body:n,...a})}retrieve(n,a){return this._client.get(I`/batches/${n}`,a)}list(n={},a){return this._client.getAPIList("/batches",Ze,{query:n,...a})}cancel(n,a){return this._client.post(I`/batches/${n}/cancel`,a)}}class lv extends ee{create(n,a){return this._client.post("/assistants",{body:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}retrieve(n,a){return this._client.get(I`/assistants/${n}`,{...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}update(n,a,r){return this._client.post(I`/assistants/${n}`,{body:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n={},a){return this._client.getAPIList("/assistants",Ze,{query:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}delete(n,a){return this._client.delete(I`/assistants/${n}`,{...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}}let ov=class extends ee{create(n,a){return this._client.post("/realtime/sessions",{body:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}};class uv extends ee{create(n,a){return this._client.post("/realtime/transcription_sessions",{body:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}}let Io=class extends ee{constructor(){super(...arguments),this.sessions=new ov(this._client),this.transcriptionSessions=new uv(this._client)}};Io.Sessions=ov;Io.TranscriptionSessions=uv;class cv extends ee{create(n,a){return this._client.post("/chatkit/sessions",{body:n,...a,headers:Q([{"OpenAI-Beta":"chatkit_beta=v1"},a?.headers])})}cancel(n,a){return this._client.post(I`/chatkit/sessions/${n}/cancel`,{...a,headers:Q([{"OpenAI-Beta":"chatkit_beta=v1"},a?.headers])})}}let hv=class extends ee{retrieve(n,a){return this._client.get(I`/chatkit/threads/${n}`,{...a,headers:Q([{"OpenAI-Beta":"chatkit_beta=v1"},a?.headers])})}list(n={},a){return this._client.getAPIList("/chatkit/threads",Ro,{query:n,...a,headers:Q([{"OpenAI-Beta":"chatkit_beta=v1"},a?.headers])})}delete(n,a){return this._client.delete(I`/chatkit/threads/${n}`,{...a,headers:Q([{"OpenAI-Beta":"chatkit_beta=v1"},a?.headers])})}listItems(n,a={},r){return this._client.getAPIList(I`/chatkit/threads/${n}/items`,Ro,{query:a,...r,headers:Q([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};class Po extends ee{constructor(){super(...arguments),this.sessions=new cv(this._client),this.threads=new hv(this._client)}}Po.Sessions=cv;Po.Threads=hv;class fv extends ee{create(n,a,r){return this._client.post(I`/threads/${n}/messages`,{body:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(n,a,r){const{thread_id:o}=a;return this._client.get(I`/threads/${o}/messages/${n}`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(n,a,r){const{thread_id:o,...u}=a;return this._client.post(I`/threads/${o}/messages/${n}`,{body:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a={},r){return this._client.getAPIList(I`/threads/${n}/messages`,Ze,{query:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(n,a,r){const{thread_id:o}=a;return this._client.delete(I`/threads/${o}/messages/${n}`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class dv extends ee{retrieve(n,a,r){const{thread_id:o,run_id:u,...f}=a;return this._client.get(I`/threads/${o}/runs/${u}/steps/${n}`,{query:f,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a,r){const{thread_id:o,...u}=a;return this._client.getAPIList(I`/threads/${o}/runs/${n}/steps`,Ze,{query:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}const iT=i=>{if(typeof Buffer<"u"){const n=Buffer.from(i,"base64");return Array.from(new Float32Array(n.buffer,n.byteOffset,n.length/Float32Array.BYTES_PER_ELEMENT))}else{const n=atob(i),a=n.length,r=new Uint8Array(a);for(let o=0;o<a;o++)r[o]=n.charCodeAt(o);return Array.from(new Float32Array(r.buffer))}};var lT={};const Gs=i=>{if(typeof globalThis.process<"u")return lT?.[i]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(i)?.trim()};var gt,Ja,lf,bn,mo,mn,Wa,Ws,Ka,ko,Gt,go,po,gi,ci,hi,Zy,Fy,e_,t_,n_,a_,s_;class pi extends Tf{constructor(){super(...arguments),gt.add(this),lf.set(this,[]),bn.set(this,{}),mo.set(this,{}),mn.set(this,void 0),Wa.set(this,void 0),Ws.set(this,void 0),Ka.set(this,void 0),ko.set(this,void 0),Gt.set(this,void 0),go.set(this,void 0),po.set(this,void 0),gi.set(this,void 0)}[(lf=new WeakMap,bn=new WeakMap,mo=new WeakMap,mn=new WeakMap,Wa=new WeakMap,Ws=new WeakMap,Ka=new WeakMap,ko=new WeakMap,Gt=new WeakMap,go=new WeakMap,po=new WeakMap,gi=new WeakMap,gt=new WeakSet,Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("event",o=>{const u=a.shift();u?u.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((u,f)=>a.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(n){const a=new Ja;return a._run(()=>a._fromReadableStream(n)),a}async _fromReadableStream(n,a){const r=a?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=wn.fromReadableStream(n,this.controller);for await(const u of o)j(this,gt,"m",ci).call(this,u);if(o.controller.signal?.aborted)throw new sn;return this._addRun(j(this,gt,"m",hi).call(this))}toReadableStream(){return new wn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(n,a,r,o){const u=new Ja;return u._run(()=>u._runToolAssistantStream(n,a,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createToolAssistantStream(n,a,r,o){const u=o?.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...r,stream:!0},d=await n.submitToolOutputs(a,f,{...o,signal:this.controller.signal});this._connected();for await(const m of d)j(this,gt,"m",ci).call(this,m);if(d.controller.signal?.aborted)throw new sn;return this._addRun(j(this,gt,"m",hi).call(this))}static createThreadAssistantStream(n,a,r){const o=new Ja;return o._run(()=>o._threadAssistantStream(n,a,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(n,a,r,o){const u=new Ja;return u._run(()=>u._runAssistantStream(n,a,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return j(this,go,"f")}currentRun(){return j(this,po,"f")}currentMessageSnapshot(){return j(this,mn,"f")}currentRunStepSnapshot(){return j(this,gi,"f")}async finalRunSteps(){return await this.done(),Object.values(j(this,bn,"f"))}async finalMessages(){return await this.done(),Object.values(j(this,mo,"f"))}async finalRun(){if(await this.done(),!j(this,Wa,"f"))throw Error("Final run was not received.");return j(this,Wa,"f")}async _createThreadAssistantStream(n,a,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const u={...a,stream:!0},f=await n.createAndRun(u,{...r,signal:this.controller.signal});this._connected();for await(const d of f)j(this,gt,"m",ci).call(this,d);if(f.controller.signal?.aborted)throw new sn;return this._addRun(j(this,gt,"m",hi).call(this))}async _createAssistantStream(n,a,r,o){const u=o?.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...r,stream:!0},d=await n.create(a,f,{...o,signal:this.controller.signal});this._connected();for await(const m of d)j(this,gt,"m",ci).call(this,m);if(d.controller.signal?.aborted)throw new sn;return this._addRun(j(this,gt,"m",hi).call(this))}static accumulateDelta(n,a){for(const[r,o]of Object.entries(a)){if(!n.hasOwnProperty(r)){n[r]=o;continue}let u=n[r];if(u==null){n[r]=o;continue}if(r==="index"||r==="type"){n[r]=o;continue}if(typeof u=="string"&&typeof o=="string")u+=o;else if(typeof u=="number"&&typeof o=="number")u+=o;else if(xh(u)&&xh(o))u=this.accumulateDelta(u,o);else if(Array.isArray(u)&&Array.isArray(o)){if(u.every(f=>typeof f=="string"||typeof f=="number")){u.push(...o);continue}for(const f of o){if(!xh(f))throw new Error(`Expected array delta entry to be an object but got: ${f}`);const d=f.index;if(d==null)throw console.error(f),new Error("Expected array delta entry to have an `index` property");if(typeof d!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${d}`);const m=u[d];m==null?u.push(f):u[d]=this.accumulateDelta(m,f)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${u}`);n[r]=u}return n}_addRun(n){return n}async _threadAssistantStream(n,a,r){return await this._createThreadAssistantStream(a,n,r)}async _runAssistantStream(n,a,r,o){return await this._createAssistantStream(a,n,r,o)}async _runToolAssistantStream(n,a,r,o){return await this._createToolAssistantStream(a,n,r,o)}}Ja=pi,ci=function(n){if(!this.ended)switch(le(this,go,n),j(this,gt,"m",e_).call(this,n),n.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":j(this,gt,"m",s_).call(this,n);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":j(this,gt,"m",Fy).call(this,n);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":j(this,gt,"m",Zy).call(this,n);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},hi=function(){if(this.ended)throw new ae("stream has ended, this shouldn't happen");if(!j(this,Wa,"f"))throw Error("Final run has not been received");return j(this,Wa,"f")},Zy=function(n){const[a,r]=j(this,gt,"m",n_).call(this,n,j(this,mn,"f"));le(this,mn,a),j(this,mo,"f")[a.id]=a;for(const o of r){const u=a.content[o.index];u?.type=="text"&&this._emit("textCreated",u.text)}switch(n.event){case"thread.message.created":this._emit("messageCreated",n.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",n.data.delta,a),n.data.delta.content)for(const o of n.data.delta.content){if(o.type=="text"&&o.text){let u=o.text,f=a.content[o.index];if(f&&f.type=="text")this._emit("textDelta",u,f.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=j(this,Ws,"f")){if(j(this,Ka,"f"))switch(j(this,Ka,"f").type){case"text":this._emit("textDone",j(this,Ka,"f").text,j(this,mn,"f"));break;case"image_file":this._emit("imageFileDone",j(this,Ka,"f").image_file,j(this,mn,"f"));break}le(this,Ws,o.index)}le(this,Ka,a.content[o.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(j(this,Ws,"f")!==void 0){const o=n.data.content[j(this,Ws,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,j(this,mn,"f"));break;case"text":this._emit("textDone",o.text,j(this,mn,"f"));break}}j(this,mn,"f")&&this._emit("messageDone",n.data),le(this,mn,void 0)}},Fy=function(n){const a=j(this,gt,"m",t_).call(this,n);switch(le(this,gi,a),n.event){case"thread.run.step.created":this._emit("runStepCreated",n.data);break;case"thread.run.step.delta":const r=n.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const u of r.step_details.tool_calls)u.index==j(this,ko,"f")?this._emit("toolCallDelta",u,a.step_details.tool_calls[u.index]):(j(this,Gt,"f")&&this._emit("toolCallDone",j(this,Gt,"f")),le(this,ko,u.index),le(this,Gt,a.step_details.tool_calls[u.index]),j(this,Gt,"f")&&this._emit("toolCallCreated",j(this,Gt,"f")));this._emit("runStepDelta",n.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":le(this,gi,void 0),n.data.step_details.type=="tool_calls"&&j(this,Gt,"f")&&(this._emit("toolCallDone",j(this,Gt,"f")),le(this,Gt,void 0)),this._emit("runStepDone",n.data,a);break}},e_=function(n){j(this,lf,"f").push(n),this._emit("event",n)},t_=function(n){switch(n.event){case"thread.run.step.created":return j(this,bn,"f")[n.data.id]=n.data,n.data;case"thread.run.step.delta":let a=j(this,bn,"f")[n.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let r=n.data;if(r.delta){const o=Ja.accumulateDelta(a,r.delta);j(this,bn,"f")[n.data.id]=o}return j(this,bn,"f")[n.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":j(this,bn,"f")[n.data.id]=n.data;break}if(j(this,bn,"f")[n.data.id])return j(this,bn,"f")[n.data.id];throw new Error("No snapshot available")},n_=function(n,a){let r=[];switch(n.event){case"thread.message.created":return[n.data,r];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=n.data;if(o.delta.content)for(const u of o.delta.content)if(u.index in a.content){let f=a.content[u.index];a.content[u.index]=j(this,gt,"m",a_).call(this,u,f)}else a.content[u.index]=u,r.push(u);return[a,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},a_=function(n,a){return Ja.accumulateDelta(a,n)},s_=function(n){switch(le(this,po,n.data),n.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":le(this,Wa,n.data),j(this,Gt,"f")&&(this._emit("toolCallDone",j(this,Gt,"f")),le(this,Gt,void 0));break}};let jf=class extends ee{constructor(){super(...arguments),this.steps=new dv(this._client)}create(n,a,r){const{include:o,...u}=a;return this._client.post(I`/threads/${n}/runs`,{query:{include:o},body:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:a.stream??!1})}retrieve(n,a,r){const{thread_id:o}=a;return this._client.get(I`/threads/${o}/runs/${n}`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(n,a,r){const{thread_id:o,...u}=a;return this._client.post(I`/threads/${o}/runs/${n}`,{body:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a={},r){return this._client.getAPIList(I`/threads/${n}/runs`,Ze,{query:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(n,a,r){const{thread_id:o}=a;return this._client.post(I`/threads/${o}/runs/${n}/cancel`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a,r);return await this.poll(o.id,{thread_id:n},r)}createAndStream(n,a,r){return pi.createAssistantStream(n,this._client.beta.threads.runs,a,r)}async poll(n,a,r){const o=Q([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:u,response:f}=await this.retrieve(n,a,{...r,headers:{...r?.headers,...o}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let d=5e3;if(r?.pollIntervalMs)d=r.pollIntervalMs;else{const m=f.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await Oi(d);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(n,a,r){return pi.createAssistantStream(n,this._client.beta.threads.runs,a,r)}submitToolOutputs(n,a,r){const{thread_id:o,...u}=a;return this._client.post(I`/threads/${o}/runs/${n}/submit_tool_outputs`,{body:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:a.stream??!1})}async submitToolOutputsAndPoll(n,a,r){const o=await this.submitToolOutputs(n,a,r);return await this.poll(o.id,a,r)}submitToolOutputsStream(n,a,r){return pi.createToolAssistantStream(n,this._client.beta.threads.runs,a,r)}};jf.Steps=dv;class Go extends ee{constructor(){super(...arguments),this.runs=new jf(this._client),this.messages=new fv(this._client)}create(n={},a){return this._client.post("/threads",{body:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}retrieve(n,a){return this._client.get(I`/threads/${n}`,{...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}update(n,a,r){return this._client.post(I`/threads/${n}`,{body:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(n,a){return this._client.delete(I`/threads/${n}`,{...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}createAndRun(n,a){return this._client.post("/threads/runs",{body:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers]),stream:n.stream??!1})}async createAndRunPoll(n,a){const r=await this.createAndRun(n,a);return await this.runs.poll(r.id,{thread_id:r.thread_id},a)}createAndRunStream(n,a){return pi.createThreadAssistantStream(n,this._client.beta.threads,a)}}Go.Runs=jf;Go.Messages=fv;class nr extends ee{constructor(){super(...arguments),this.realtime=new Io(this._client),this.chatkit=new Po(this._client),this.assistants=new lv(this._client),this.threads=new Go(this._client)}}nr.Realtime=Io;nr.ChatKit=Po;nr.Assistants=lv;nr.Threads=Go;class mv extends ee{create(n,a){return this._client.post("/completions",{body:n,...a,stream:n.stream??!1})}}class gv extends ee{retrieve(n,a,r){const{container_id:o}=a;return this._client.get(I`/containers/${o}/files/${n}/content`,{...r,headers:Q([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}let Df=class extends ee{constructor(){super(...arguments),this.content=new gv(this._client)}create(n,a,r){return this._client.post(I`/containers/${n}/files`,Za({body:a,...r},this._client))}retrieve(n,a,r){const{container_id:o}=a;return this._client.get(I`/containers/${o}/files/${n}`,r)}list(n,a={},r){return this._client.getAPIList(I`/containers/${n}/files`,Ze,{query:a,...r})}delete(n,a,r){const{container_id:o}=a;return this._client.delete(I`/containers/${o}/files/${n}`,{...r,headers:Q([{Accept:"*/*"},r?.headers])})}};Df.Content=gv;class Nf extends ee{constructor(){super(...arguments),this.files=new Df(this._client)}create(n,a){return this._client.post("/containers",{body:n,...a})}retrieve(n,a){return this._client.get(I`/containers/${n}`,a)}list(n={},a){return this._client.getAPIList("/containers",Ze,{query:n,...a})}delete(n,a){return this._client.delete(I`/containers/${n}`,{...a,headers:Q([{Accept:"*/*"},a?.headers])})}}Nf.Files=Df;class pv extends ee{create(n,a,r){const{include:o,...u}=a;return this._client.post(I`/conversations/${n}/items`,{query:{include:o},body:u,...r})}retrieve(n,a,r){const{conversation_id:o,...u}=a;return this._client.get(I`/conversations/${o}/items/${n}`,{query:u,...r})}list(n,a={},r){return this._client.getAPIList(I`/conversations/${n}/items`,Ro,{query:a,...r})}delete(n,a,r){const{conversation_id:o}=a;return this._client.delete(I`/conversations/${o}/items/${n}`,r)}}class Mf extends ee{constructor(){super(...arguments),this.items=new pv(this._client)}create(n={},a){return this._client.post("/conversations",{body:n,...a})}retrieve(n,a){return this._client.get(I`/conversations/${n}`,a)}update(n,a,r){return this._client.post(I`/conversations/${n}`,{body:a,...r})}delete(n,a){return this._client.delete(I`/conversations/${n}`,a)}}Mf.Items=pv;class yv extends ee{create(n,a){const r=!!n.encoding_format;let o=r?n.encoding_format:"base64";r&&mt(this._client).debug("embeddings/user defined encoding_format:",n.encoding_format);const u=this._client.post("/embeddings",{body:{...n,encoding_format:o},...a});return r?u:(mt(this._client).debug("embeddings/decoding base64 embeddings from base64"),u._thenUnwrap(f=>(f&&f.data&&f.data.forEach(d=>{const m=d.embedding;d.embedding=iT(m)}),f)))}}class _v extends ee{retrieve(n,a,r){const{eval_id:o,run_id:u}=a;return this._client.get(I`/evals/${o}/runs/${u}/output_items/${n}`,r)}list(n,a,r){const{eval_id:o,...u}=a;return this._client.getAPIList(I`/evals/${o}/runs/${n}/output_items`,Ze,{query:u,...r})}}class kf extends ee{constructor(){super(...arguments),this.outputItems=new _v(this._client)}create(n,a,r){return this._client.post(I`/evals/${n}/runs`,{body:a,...r})}retrieve(n,a,r){const{eval_id:o}=a;return this._client.get(I`/evals/${o}/runs/${n}`,r)}list(n,a={},r){return this._client.getAPIList(I`/evals/${n}/runs`,Ze,{query:a,...r})}delete(n,a,r){const{eval_id:o}=a;return this._client.delete(I`/evals/${o}/runs/${n}`,r)}cancel(n,a,r){const{eval_id:o}=a;return this._client.post(I`/evals/${o}/runs/${n}`,r)}}kf.OutputItems=_v;class Uf extends ee{constructor(){super(...arguments),this.runs=new kf(this._client)}create(n,a){return this._client.post("/evals",{body:n,...a})}retrieve(n,a){return this._client.get(I`/evals/${n}`,a)}update(n,a,r){return this._client.post(I`/evals/${n}`,{body:a,...r})}list(n={},a){return this._client.getAPIList("/evals",Ze,{query:n,...a})}delete(n,a){return this._client.delete(I`/evals/${n}`,a)}}Uf.Runs=kf;let vv=class extends ee{create(n,a){return this._client.post("/files",Za({body:n,...a},this._client))}retrieve(n,a){return this._client.get(I`/files/${n}`,a)}list(n={},a){return this._client.getAPIList("/files",Ze,{query:n,...a})}delete(n,a){return this._client.delete(I`/files/${n}`,a)}content(n,a){return this._client.get(I`/files/${n}/content`,{...a,headers:Q([{Accept:"application/binary"},a?.headers]),__binaryResponse:!0})}async waitForProcessing(n,{pollInterval:a=5e3,maxWait:r=1800*1e3}={}){const o=new Set(["processed","error","deleted"]),u=Date.now();let f=await this.retrieve(n);for(;!f.status||!o.has(f.status);)if(await Oi(a),f=await this.retrieve(n),Date.now()-u>r)throw new bf({message:`Giving up on waiting for file ${n} to finish processing after ${r} milliseconds.`});return f}};class bv extends ee{}let wv=class extends ee{run(n,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:n,...a})}validate(n,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:n,...a})}};class zf extends ee{constructor(){super(...arguments),this.graders=new wv(this._client)}}zf.Graders=wv;class Sv extends ee{create(n,a,r){return this._client.getAPIList(I`/fine_tuning/checkpoints/${n}/permissions`,Ho,{body:a,method:"post",...r})}retrieve(n,a={},r){return this._client.get(I`/fine_tuning/checkpoints/${n}/permissions`,{query:a,...r})}delete(n,a,r){const{fine_tuned_model_checkpoint:o}=a;return this._client.delete(I`/fine_tuning/checkpoints/${o}/permissions/${n}`,r)}}let Bf=class extends ee{constructor(){super(...arguments),this.permissions=new Sv(this._client)}};Bf.Permissions=Sv;class Ev extends ee{list(n,a={},r){return this._client.getAPIList(I`/fine_tuning/jobs/${n}/checkpoints`,Ze,{query:a,...r})}}class Lf extends ee{constructor(){super(...arguments),this.checkpoints=new Ev(this._client)}create(n,a){return this._client.post("/fine_tuning/jobs",{body:n,...a})}retrieve(n,a){return this._client.get(I`/fine_tuning/jobs/${n}`,a)}list(n={},a){return this._client.getAPIList("/fine_tuning/jobs",Ze,{query:n,...a})}cancel(n,a){return this._client.post(I`/fine_tuning/jobs/${n}/cancel`,a)}listEvents(n,a={},r){return this._client.getAPIList(I`/fine_tuning/jobs/${n}/events`,Ze,{query:a,...r})}pause(n,a){return this._client.post(I`/fine_tuning/jobs/${n}/pause`,a)}resume(n,a){return this._client.post(I`/fine_tuning/jobs/${n}/resume`,a)}}Lf.Checkpoints=Ev;class ar extends ee{constructor(){super(...arguments),this.methods=new bv(this._client),this.jobs=new Lf(this._client),this.checkpoints=new Bf(this._client),this.alpha=new zf(this._client)}}ar.Methods=bv;ar.Jobs=Lf;ar.Checkpoints=Bf;ar.Alpha=zf;class Ov extends ee{}class $f extends ee{constructor(){super(...arguments),this.graderModels=new Ov(this._client)}}$f.GraderModels=Ov;class Av extends ee{createVariation(n,a){return this._client.post("/images/variations",Za({body:n,...a},this._client))}edit(n,a){return this._client.post("/images/edits",Za({body:n,...a,stream:n.stream??!1},this._client))}generate(n,a){return this._client.post("/images/generations",{body:n,...a,stream:n.stream??!1})}}class Tv extends ee{retrieve(n,a){return this._client.get(I`/models/${n}`,a)}list(n){return this._client.getAPIList("/models",Ho,n)}delete(n,a){return this._client.delete(I`/models/${n}`,a)}}class Rv extends ee{create(n,a){return this._client.post("/moderations",{body:n,...a})}}class xv extends ee{accept(n,a,r){return this._client.post(I`/realtime/calls/${n}/accept`,{body:a,...r,headers:Q([{Accept:"*/*"},r?.headers])})}hangup(n,a){return this._client.post(I`/realtime/calls/${n}/hangup`,{...a,headers:Q([{Accept:"*/*"},a?.headers])})}refer(n,a,r){return this._client.post(I`/realtime/calls/${n}/refer`,{body:a,...r,headers:Q([{Accept:"*/*"},r?.headers])})}reject(n,a={},r){return this._client.post(I`/realtime/calls/${n}/reject`,{body:a,...r,headers:Q([{Accept:"*/*"},r?.headers])})}}class Cv extends ee{create(n,a){return this._client.post("/realtime/client_secrets",{body:n,...a})}}class Yo extends ee{constructor(){super(...arguments),this.clientSecrets=new Cv(this._client),this.calls=new xv(this._client)}}Yo.ClientSecrets=Cv;Yo.Calls=xv;function oT(i,n){return!n||!cT(n)?{...i,output_parsed:null,output:i.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(r=>({...r,parsed:null}))}:a)}:jv(i,n)}function jv(i,n){const a=i.output.map(o=>{if(o.type==="function_call")return{...o,parsed_arguments:dT(n,o)};if(o.type==="message"){const u=o.content.map(f=>f.type==="output_text"?{...f,parsed:uT(n,f.text)}:f);return{...o,content:u}}return o}),r=Object.assign({},i,{output:a});return Object.getOwnPropertyDescriptor(i,"output_text")||of(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const o of r.output)if(o.type==="message"){for(const u of o.content)if(u.type==="output_text"&&u.parsed!==null)return u.parsed}return null}}),r}function uT(i,n){return i.text?.format?.type!=="json_schema"?null:"$parseRaw"in i.text?.format?(i.text?.format).$parseRaw(n):JSON.parse(n)}function cT(i){return!!Of(i.text?.format)}function hT(i){return i?.$brand==="auto-parseable-tool"}function fT(i,n){return i.find(a=>a.type==="function"&&a.name===n)}function dT(i,n){const a=fT(i.tools??[],n.name);return{...n,...n,parsed_arguments:hT(a)?a.$parseRaw(n.arguments):a?.strict?JSON.parse(n.arguments):null}}function of(i){const n=[];for(const a of i.output)if(a.type==="message")for(const r of a.content)r.type==="output_text"&&n.push(r.text);i.output_text=n.join("")}var Ys,io,_a,lo,r_,i_,l_,o_;class qf extends Tf{constructor(n){super(),Ys.add(this),io.set(this,void 0),_a.set(this,void 0),lo.set(this,void 0),le(this,io,n)}static createResponse(n,a,r){const o=new qf(a);return o._run(()=>o._createOrRetrieveResponse(n,a,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createOrRetrieveResponse(n,a,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),j(this,Ys,"m",r_).call(this);let u,f=null;"response_id"in a?(u=await n.responses.retrieve(a.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),f=a.starting_after??null):u=await n.responses.create({...a,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const d of u)j(this,Ys,"m",i_).call(this,d,f);if(u.controller.signal?.aborted)throw new sn;return j(this,Ys,"m",l_).call(this)}[(io=new WeakMap,_a=new WeakMap,lo=new WeakMap,Ys=new WeakSet,r_=function(){this.ended||le(this,_a,void 0)},i_=function(a,r){if(this.ended)return;const o=(f,d)=>{(r==null||d.sequence_number>r)&&this._emit(f,d)},u=j(this,Ys,"m",o_).call(this,a);switch(o("event",a),a.type){case"response.output_text.delta":{const f=u.output[a.output_index];if(!f)throw new ae(`missing output at index ${a.output_index}`);if(f.type==="message"){const d=f.content[a.content_index];if(!d)throw new ae(`missing content at index ${a.content_index}`);if(d.type!=="output_text")throw new ae(`expected content to be 'output_text', got ${d.type}`);o("response.output_text.delta",{...a,snapshot:d.text})}break}case"response.function_call_arguments.delta":{const f=u.output[a.output_index];if(!f)throw new ae(`missing output at index ${a.output_index}`);f.type==="function_call"&&o("response.function_call_arguments.delta",{...a,snapshot:f.arguments});break}default:o(a.type,a);break}},l_=function(){if(this.ended)throw new ae("stream has ended, this shouldn't happen");const a=j(this,_a,"f");if(!a)throw new ae("request ended without sending any events");le(this,_a,void 0);const r=mT(a,j(this,io,"f"));return le(this,lo,r),r},o_=function(a){let r=j(this,_a,"f");if(!r){if(a.type!=="response.created")throw new ae(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return r=le(this,_a,a.response),r}switch(a.type){case"response.output_item.added":{r.output.push(a.item);break}case"response.content_part.added":{const o=r.output[a.output_index];if(!o)throw new ae(`missing output at index ${a.output_index}`);const u=o.type,f=a.part;u==="message"&&f.type!=="reasoning_text"?o.content.push(f):u==="reasoning"&&f.type==="reasoning_text"&&(o.content||(o.content=[]),o.content.push(f));break}case"response.output_text.delta":{const o=r.output[a.output_index];if(!o)throw new ae(`missing output at index ${a.output_index}`);if(o.type==="message"){const u=o.content[a.content_index];if(!u)throw new ae(`missing content at index ${a.content_index}`);if(u.type!=="output_text")throw new ae(`expected content to be 'output_text', got ${u.type}`);u.text+=a.delta}break}case"response.function_call_arguments.delta":{const o=r.output[a.output_index];if(!o)throw new ae(`missing output at index ${a.output_index}`);o.type==="function_call"&&(o.arguments+=a.delta);break}case"response.reasoning_text.delta":{const o=r.output[a.output_index];if(!o)throw new ae(`missing output at index ${a.output_index}`);if(o.type==="reasoning"){const u=o.content?.[a.content_index];if(!u)throw new ae(`missing content at index ${a.content_index}`);if(u.type!=="reasoning_text")throw new ae(`expected content to be 'reasoning_text', got ${u.type}`);u.text+=a.delta}break}case"response.completed":{le(this,_a,a.response);break}}return r},Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("event",o=>{const u=a.shift();u?u.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((u,f)=>a.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const n=j(this,lo,"f");if(!n)throw new ae("stream ended without producing a ChatCompletion");return n}}function mT(i,n){return oT(i,n)}class Dv extends ee{list(n,a={},r){return this._client.getAPIList(I`/responses/${n}/input_items`,Ze,{query:a,...r})}}class Nv extends ee{count(n={},a){return this._client.post("/responses/input_tokens",{body:n,...a})}}class Vo extends ee{constructor(){super(...arguments),this.inputItems=new Dv(this._client),this.inputTokens=new Nv(this._client)}create(n,a){return this._client.post("/responses",{body:n,...a,stream:n.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&of(r),r))}retrieve(n,a={},r){return this._client.get(I`/responses/${n}`,{query:a,...r,stream:a?.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&of(o),o))}delete(n,a){return this._client.delete(I`/responses/${n}`,{...a,headers:Q([{Accept:"*/*"},a?.headers])})}parse(n,a){return this._client.responses.create(n,a)._thenUnwrap(r=>jv(r,n))}stream(n,a){return qf.createResponse(this._client,n,a)}cancel(n,a){return this._client.post(I`/responses/${n}/cancel`,a)}}Vo.InputItems=Dv;Vo.InputTokens=Nv;class Mv extends ee{create(n,a,r){return this._client.post(I`/uploads/${n}/parts`,Za({body:a,...r},this._client))}}class Hf extends ee{constructor(){super(...arguments),this.parts=new Mv(this._client)}create(n,a){return this._client.post("/uploads",{body:n,...a})}cancel(n,a){return this._client.post(I`/uploads/${n}/cancel`,a)}complete(n,a,r){return this._client.post(I`/uploads/${n}/complete`,{body:a,...r})}}Hf.Parts=Mv;const gT=async i=>{const n=await Promise.allSettled(i),a=n.filter(o=>o.status==="rejected");if(a.length){for(const o of a)console.error(o.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const r=[];for(const o of n)o.status==="fulfilled"&&r.push(o.value);return r};class kv extends ee{create(n,a,r){return this._client.post(I`/vector_stores/${n}/file_batches`,{body:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(n,a,r){const{vector_store_id:o}=a;return this._client.get(I`/vector_stores/${o}/file_batches/${n}`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(n,a,r){const{vector_store_id:o}=a;return this._client.post(I`/vector_stores/${o}/file_batches/${n}/cancel`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a);return await this.poll(n,o.id,r)}listFiles(n,a,r){const{vector_store_id:o,...u}=a;return this._client.getAPIList(I`/vector_stores/${o}/file_batches/${n}/files`,Ze,{query:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(n,a,r){const o=Q([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:u,response:f}=await this.retrieve(a,{vector_store_id:n},{...r,headers:o}).withResponse();switch(u.status){case"in_progress":let d=5e3;if(r?.pollIntervalMs)d=r.pollIntervalMs;else{const m=f.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await Oi(d);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(n,{files:a,fileIds:r=[]},o){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=o?.maxConcurrency??5,f=Math.min(u,a.length),d=this._client,m=a.values(),p=[...r];async function v(w){for(let b of w){const A=await d.files.create({file:b,purpose:"assistants"},o);p.push(A.id)}}const _=Array(f).fill(m).map(v);return await gT(_),await this.createAndPoll(n,{file_ids:p})}}class Uv extends ee{create(n,a,r){return this._client.post(I`/vector_stores/${n}/files`,{body:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(n,a,r){const{vector_store_id:o}=a;return this._client.get(I`/vector_stores/${o}/files/${n}`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(n,a,r){const{vector_store_id:o,...u}=a;return this._client.post(I`/vector_stores/${o}/files/${n}`,{body:u,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n,a={},r){return this._client.getAPIList(I`/vector_stores/${n}/files`,Ze,{query:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(n,a,r){const{vector_store_id:o}=a;return this._client.delete(I`/vector_stores/${o}/files/${n}`,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a,r);return await this.poll(n,o.id,r)}async poll(n,a,r){const o=Q([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const u=await this.retrieve(a,{vector_store_id:n},{...r,headers:o}).withResponse(),f=u.data;switch(f.status){case"in_progress":let d=5e3;if(r?.pollIntervalMs)d=r.pollIntervalMs;else{const m=u.response.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await Oi(d);break;case"failed":case"completed":return f}}}async upload(n,a,r){const o=await this._client.files.create({file:a,purpose:"assistants"},r);return this.create(n,{file_id:o.id},r)}async uploadAndPoll(n,a,r){const o=await this.upload(n,a,r);return await this.poll(n,o.id,r)}content(n,a,r){const{vector_store_id:o}=a;return this._client.getAPIList(I`/vector_stores/${o}/files/${n}/content`,Ho,{...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class Xo extends ee{constructor(){super(...arguments),this.files=new Uv(this._client),this.fileBatches=new kv(this._client)}create(n,a){return this._client.post("/vector_stores",{body:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}retrieve(n,a){return this._client.get(I`/vector_stores/${n}`,{...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}update(n,a,r){return this._client.post(I`/vector_stores/${n}`,{body:a,...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(n={},a){return this._client.getAPIList("/vector_stores",Ze,{query:n,...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}delete(n,a){return this._client.delete(I`/vector_stores/${n}`,{...a,headers:Q([{"OpenAI-Beta":"assistants=v2"},a?.headers])})}search(n,a,r){return this._client.getAPIList(I`/vector_stores/${n}/search`,Ho,{body:a,method:"post",...r,headers:Q([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}Xo.Files=Uv;Xo.FileBatches=kv;class zv extends ee{create(n,a){return this._client.post("/videos",Xy({body:n,...a},this._client))}retrieve(n,a){return this._client.get(I`/videos/${n}`,a)}list(n={},a){return this._client.getAPIList("/videos",Ro,{query:n,...a})}delete(n,a){return this._client.delete(I`/videos/${n}`,a)}downloadContent(n,a={},r){return this._client.get(I`/videos/${n}/content`,{query:a,...r,headers:Q([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}remix(n,a,r){return this._client.post(I`/videos/${n}/remix`,Xy({body:a,...r},this._client))}}var Js,Bv,yo;class Lv extends ee{constructor(){super(...arguments),Js.add(this)}async unwrap(n,a,r=this._client.webhookSecret,o=300){return await this.verifySignature(n,a,r,o),JSON.parse(n)}async verifySignature(n,a,r=this._client.webhookSecret,o=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");j(this,Js,"m",Bv).call(this,r);const u=Q([a]).values,f=j(this,Js,"m",yo).call(this,u,"webhook-signature"),d=j(this,Js,"m",yo).call(this,u,"webhook-timestamp"),m=j(this,Js,"m",yo).call(this,u,"webhook-id"),p=parseInt(d,10);if(isNaN(p))throw new ai("Invalid webhook timestamp format");const v=Math.floor(Date.now()/1e3);if(v-p>o)throw new ai("Webhook timestamp is too old");if(p>v+o)throw new ai("Webhook timestamp is too new");const _=f.split(" ").map(C=>C.startsWith("v1,")?C.substring(3):C),w=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),b=m?`${m}.${d}.${n}`:`${d}.${n}`,A=await crypto.subtle.importKey("raw",w,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const C of _)try{const M=Buffer.from(C,"base64");if(await crypto.subtle.verify("HMAC",A,M,new TextEncoder().encode(b)))return}catch{continue}throw new ai("The given webhook signature does not match the expected signature")}}Js=new WeakSet,Bv=function(n){if(typeof n!="string"||n.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},yo=function(n,a){if(!n)throw new Error("Headers are required");const r=n.get(a);if(r==null)throw new Error(`Missing required header: ${a}`);return r};var uf,If,_o,$v;class me{constructor({baseURL:n=Gs("OPENAI_BASE_URL"),apiKey:a=Gs("OPENAI_API_KEY"),organization:r=Gs("OPENAI_ORG_ID")??null,project:o=Gs("OPENAI_PROJECT_ID")??null,webhookSecret:u=Gs("OPENAI_WEBHOOK_SECRET")??null,...f}={}){if(uf.add(this),_o.set(this,void 0),this.completions=new mv(this),this.chat=new Cf(this),this.embeddings=new yv(this),this.files=new vv(this),this.images=new Av(this),this.audio=new Ti(this),this.moderations=new Rv(this),this.models=new Tv(this),this.fineTuning=new ar(this),this.graders=new $f(this),this.vectorStores=new Xo(this),this.webhooks=new Lv(this),this.beta=new nr(this),this.batches=new iv(this),this.uploads=new Hf(this),this.responses=new Vo(this),this.realtime=new Yo(this),this.conversations=new Mf(this),this.evals=new Uf(this),this.containers=new Nf(this),this.videos=new zv(this),a===void 0)throw new ae("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const d={apiKey:a,organization:r,project:o,webhookSecret:u,...f,baseURL:n||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&p1())throw new ae(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=d.baseURL,this.timeout=d.timeout??If.DEFAULT_TIMEOUT,this.logger=d.logger??console;const m="warn";this.logLevel=m,this.logLevel=Yy(d.logLevel,"ClientOptions.logLevel",this)??Yy(Gs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??w1(),le(this,_o,E1),this._options=d,this.apiKey=typeof a=="string"?a:"Missing Key",this.organization=r,this.project=o,this.webhookSecret=u}withOptions(n){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...n})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:a}){}async authHeaders(n){return Q([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(n){return C1(n,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ks}`}defaultIdempotencyKey(){return`stainless-node-retry-${o0()}`}makeStatusError(n,a,r,o){return pt.generate(n,a,r,o)}async _callApiKey(){const n=this._options.apiKey;if(typeof n!="function")return!1;let a;try{a=await n()}catch(r){throw r instanceof ae?r:new ae(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof a!="string"||!a)throw new ae(`Expected 'apiKey' function argument to return a string but it returned ${a}`);return this.apiKey=a,!0}buildURL(n,a,r){const o=!j(this,uf,"m",$v).call(this)&&r||this.baseURL,u=h1(n)?new URL(n):new URL(o+(o.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),f=this.defaultQuery();return f1(f)||(a={...f,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(u.search=this.stringifyQuery(a)),u.toString()}async prepareOptions(n){await this._callApiKey()}async prepareRequest(n,{url:a,options:r}){}get(n,a){return this.methodRequest("get",n,a)}post(n,a){return this.methodRequest("post",n,a)}patch(n,a){return this.methodRequest("patch",n,a)}put(n,a){return this.methodRequest("put",n,a)}delete(n,a){return this.methodRequest("delete",n,a)}methodRequest(n,a,r){return this.request(Promise.resolve(r).then(o=>({method:n,path:a,...o})))}request(n,a=null){return new qo(this,this.makeRequest(n,a,void 0))}async makeRequest(n,a,r){const o=await n,u=o.maxRetries??this.maxRetries;a==null&&(a=u),await this.prepareOptions(o);const{req:f,url:d,timeout:m}=await this.buildRequest(o,{retryCount:u-a});await this.prepareRequest(f,{url:d,options:o});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(mt(this).debug(`[${p}] sending request`,Ga({retryOfRequestLogID:r,method:o.method,url:d,options:o,headers:f.headers})),o.signal?.aborted)throw new sn;const w=new AbortController,b=await this.fetchWithTimeout(d,f,m,w).catch(Jh),A=Date.now();if(b instanceof globalThis.Error){const $=`retrying, ${a} attempts remaining`;if(o.signal?.aborted)throw new sn;const U=Qh(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(a)return mt(this).info(`[${p}] connection ${U?"timed out":"failed"} - ${$}`),mt(this).debug(`[${p}] connection ${U?"timed out":"failed"} (${$})`,Ga({retryOfRequestLogID:r,url:d,durationMs:A-_,message:b.message})),this.retryRequest(o,a,r??p);throw mt(this).info(`[${p}] connection ${U?"timed out":"failed"} - error; no more retries left`),mt(this).debug(`[${p}] connection ${U?"timed out":"failed"} (error; no more retries left)`,Ga({retryOfRequestLogID:r,url:d,durationMs:A-_,message:b.message})),U?new bf:new Lo({cause:b})}const C=[...b.headers.entries()].filter(([$])=>$==="x-request-id").map(([$,U])=>", "+$+": "+JSON.stringify(U)).join(""),M=`[${p}${v}${C}] ${f.method} ${d} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${A-_}ms`;if(!b.ok){const $=await this.shouldRetry(b);if(a&&$){const G=`retrying, ${a} attempts remaining`;return await S1(b.body),mt(this).info(`${M} - ${G}`),mt(this).debug(`[${p}] response error (${G})`,Ga({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:A-_})),this.retryRequest(o,a,r??p,b.headers)}const U=$?"error; no more retries left":"error; not retryable";mt(this).info(`${M} - ${U}`);const H=await b.text().catch(G=>Jh(G).message),P=g1(H),oe=P?void 0:H;throw mt(this).debug(`[${p}] response error (${U})`,Ga({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:oe,durationMs:Date.now()-_})),this.makeStatusError(b.status,P,oe,b.headers)}return mt(this).info(M),mt(this).debug(`[${p}] response start`,Ga({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:A-_})),{response:b,options:o,controller:w,requestLogID:p,retryOfRequestLogID:r,startTime:_}}getAPIList(n,a,r){return this.requestAPIList(a,{method:"get",path:n,...r})}requestAPIList(n,a){const r=this.makeRequest(a,null,void 0);return new L1(this,r,n)}async fetchWithTimeout(n,a,r,o){const{signal:u,method:f,...d}=a||{};u&&u.addEventListener("abort",()=>o.abort());const m=setTimeout(()=>o.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,v={signal:o.signal,...p?{duplex:"half"}:{},method:"GET",...d};f&&(v.method=f.toUpperCase());try{return await this.fetch.call(void 0,n,v)}finally{clearTimeout(m)}}async shouldRetry(n){const a=n.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,a,r,o){let u;const f=o?.get("retry-after-ms");if(f){const m=parseFloat(f);Number.isNaN(m)||(u=m)}const d=o?.get("retry-after");if(d&&!u){const m=parseFloat(d);Number.isNaN(m)?u=Date.parse(d)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=n.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(a,m)}return await Oi(u),this.makeRequest(n,a-1,r)}calculateDefaultRetryTimeoutMillis(n,a){const u=a-n,f=Math.min(.5*Math.pow(2,u),8),d=1-Math.random()*.25;return f*d*1e3}async buildRequest(n,{retryCount:a=0}={}){const r={...n},{method:o,path:u,query:f,defaultBaseURL:d}=r,m=this.buildURL(u,f,d);"timeout"in r&&m1("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:p,body:v}=this.buildBody({options:r}),_=await this.buildHeaders({options:n,method:o,bodyHeaders:p,retryCount:a});return{req:{method:o,headers:_,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"},...v&&{body:v},...this.fetchOptions??{},...r.fetchOptions??{}},url:m,timeout:r.timeout}}async buildHeaders({options:n,method:a,bodyHeaders:r,retryCount:o}){let u={};this.idempotencyHeader&&a!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=n.idempotencyKey);const f=Q([u,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{},...b1(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(n),this._options.defaultHeaders,r,n.headers]);return this.validateHeaders(f),f.values}buildBody({options:{body:n,headers:a}}){if(!n)return{bodyHeaders:void 0,body:void 0};const r=Q([a]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:w0(n)}:j(this,_o,"f").call(this,{body:n,headers:r})}}If=me,_o=new WeakMap,uf=new WeakSet,$v=function(){return this.baseURL!=="https://api.openai.com/v1"};me.OpenAI=If;me.DEFAULT_TIMEOUT=6e5;me.OpenAIError=ae;me.APIError=pt;me.APIConnectionError=Lo;me.APIConnectionTimeoutError=bf;me.APIUserAbortError=sn;me.NotFoundError=f0;me.ConflictError=d0;me.RateLimitError=g0;me.BadRequestError=u0;me.AuthenticationError=c0;me.InternalServerError=p0;me.PermissionDeniedError=h0;me.UnprocessableEntityError=m0;me.InvalidWebhookSignatureError=ai;me.toFile=P1;me.Completions=mv;me.Chat=Cf;me.Embeddings=yv;me.Files=vv;me.Images=Av;me.Audio=Ti;me.Moderations=Rv;me.Models=Tv;me.FineTuning=ar;me.Graders=$f;me.VectorStores=Xo;me.Webhooks=Lv;me.Beta=nr;me.Batches=iv;me.Uploads=Hf;me.Responses=Vo;me.Realtime=Yo;me.Conversations=Mf;me.Evals=Uf;me.Containers=Nf;me.Videos=zv;const pT=void 0;throw new Error("Missing OpenAI API key");const yT=new me({apiKey:pT,dangerouslyAllowBrowser:!0});async function _T(i){try{const a=`Based on the following conversation, generate 2 response options that Heidie Signature could send next. The responses should be professional, friendly, and relevant to the conversation context.

Conversation:
${i.join(`
`)}

Please provide 2 distinct response options, labeled as "Option 1:" and "Option 2:".`,o=(await yT.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful assistant that generates professional and friendly message responses for a business owner who paints custom watercolors of homes for real estate agents."},{role:"user",content:a}],temperature:.7,max_tokens:500})).choices[0]?.message?.content||"",u=[],f=o.match(/Option 1:([\s\S]*?)(?=Option 2:|$)/i),d=o.match(/Option 2:([\s\S]*?)$/i);return f&&u.push(f[1].trim()),d&&u.push(d[1].trim()),u.length===0?o.split(`

`).filter(p=>p.trim().length>0).slice(0,2):u}catch(n){throw console.error("Error generating suggestions:",n),n}}const vT=({messages:i})=>{const[n,a]=vt.useState(!1),[r,o]=vt.useState([]),[u,f]=vt.useState(null),d=async()=>{a(!0),f(null),o([]);try{const m=await _T(i);o(m)}catch(m){f("Failed to generate suggestions. Please try again."),console.error(m)}finally{a(!1)}};return X.jsxs("div",{className:"border-t border-gray-200 bg-white p-4",children:[X.jsx("button",{onClick:d,disabled:n,className:`w-full px-6 py-3 rounded-lg font-medium text-white transition-colors ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:n?"Generating...":"Suggest a draft response"}),u&&X.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:u}),r.length>0&&X.jsxs("div",{className:"mt-4 space-y-4",children:[X.jsx("h3",{className:"font-semibold text-gray-700",children:"Suggested Responses:"}),r.map((m,p)=>X.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[X.jsxs("div",{className:"text-xs font-semibold text-gray-500 mb-2",children:["Option ",p+1]}),X.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:m})]},p))]})]})},bT=i=>i.map(n=>{const a=n.indexOf(":");if(a===-1)return{sender:"Unknown",message:n};const r=n.substring(0,a).trim(),o=n.substring(a+1).trim();return{sender:r,message:o}}),wT=({lead:i})=>{const n=vt.useRef(null),a=bT(i.messages||[]);vt.useEffect(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[i.id]);const r=i.recent_timestamp?l0(new Date(i.recent_timestamp),"MMMM dd, yyyy"):"N/A";return X.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[X.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 shadow-sm",children:[X.jsx("h2",{className:"text-xl font-bold text-gray-900 capitalize",children:i.username}),X.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[X.jsxs("p",{children:["Last message sent: ",r]}),X.jsxs("p",{children:["Last sender: ",i.latest_sender]}),X.jsxs("p",{children:["Status:"," ",X.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${i.action_item==="Follow up"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:i.action_item})]})]})]}),X.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.length===0?X.jsx("div",{className:"text-center text-gray-500 mt-8",children:"No messages in this conversation"}):X.jsxs(X.Fragment,{children:[a.map((o,u)=>X.jsx(u1,{message:o},u)),X.jsx("div",{ref:n})]})}),i.messages&&i.messages.length>0&&X.jsx(vT,{messages:i.messages})]})};function ST(){const[i,n]=vt.useState([]),[a,r]=vt.useState([]),[o,u]=vt.useState(null),[f,d]=vt.useState(!0),[m,p]=vt.useState(null),[v,_]=vt.useState(""),[w,b]=vt.useState("alphabetical-asc"),[A,C]=vt.useState("all");return vt.useEffect(()=>{(async()=>{try{d(!0);const $=await YO();n($),r($)}catch($){p("Failed to load leads. Please check your configuration."),console.error($)}finally{d(!1)}})()},[]),vt.useEffect(()=>{let M=[...i];v&&(M=M.filter($=>$.username.toLowerCase().includes(v.toLowerCase()))),A!=="all"&&(A==="follow-up"?M=M.filter($=>$.action_item==="Follow up"):A==="see-if-follow-up"&&(M=M.filter($=>$.action_item==="See if a follow up is needed"))),M.sort(($,U)=>{switch(w){case"alphabetical-asc":return $.username.localeCompare(U.username);case"alphabetical-desc":return U.username.localeCompare($.username);case"recent-first":return new Date(U.recent_timestamp).getTime()-new Date($.recent_timestamp).getTime();case"oldest-first":return new Date($.recent_timestamp).getTime()-new Date(U.recent_timestamp).getTime();default:return 0}}),r(M)},[i,v,w,A]),f?X.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:X.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})}):m?X.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:X.jsxs("div",{className:"text-center",children:[X.jsx("div",{className:"text-xl text-red-600 mb-2",children:"Error"}),X.jsx("div",{className:"text-gray-600",children:m})]})}):X.jsxs("div",{className:"h-screen flex bg-gray-100",children:[X.jsxs("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col",children:[X.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:X.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lead Tracker"})}),X.jsx(VO,{searchQuery:v,onSearchChange:_,sortOption:w,onSortChange:b,filterOption:A,onFilterChange:C}),X.jsx("div",{className:"flex-1 overflow-hidden",children:X.jsx(o1,{leads:a,selectedLead:o,onSelectLead:u})})]}),X.jsx("div",{className:"flex-1 flex flex-col",children:o?X.jsx(wT,{lead:o}):X.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:X.jsxs("div",{className:"text-center",children:[X.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),X.jsx("p",{className:"text-xl",children:"Select a lead to view conversation"})]})})})]})}wS.createRoot(document.getElementById("root")).render(X.jsx(vt.StrictMode,{children:X.jsx(ST,{})}));
